(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[96],{4222:function(e,t,r){"use strict";var n=r(5841);Object.defineProperty(t,"__esModule",{value:!0}),t.getTenants=t.getPublicSettings=t.getMeAuthorization=t.getMe=t.getEntitlements=t.exchangeHostedLoginToken=t.default=void 0;var i=n(r(2083)),o=r(7171),a=r(347),s=r(2710);let c=async()=>{let e=await fetch(`${i.default.baseUrl}${o.ApiUrls.WellKnown.jwks}`,{cache:"force-cache"});return(await e.json()).keys[0]},u=async e=>(0,a.Post)({url:`${i.default.baseUrl}${o.ApiUrls.refreshToken.embedded}`,body:"{}",credentials:"include",headers:(0,a.buildRequestHeaders)(e)}),l=async(e,t,r,n)=>(0,a.Post)({url:`${i.default.baseUrl}${o.ApiUrls.refreshToken.hosted}`,body:JSON.stringify({grant_type:"refresh_token",refresh_token:t,client_id:r,client_secret:n}),headers:(0,a.buildRequestHeaders)(e)}),f=async(e,t,r,n)=>(0,a.Post)({url:`${i.default.baseUrl}${o.ApiUrls.refreshToken.hosted}`,body:JSON.stringify({redirect_uri:`${i.default.appUrl}/oauth/callback`,grant_type:"authorization_code",code:t,client_id:r,client_secret:n}),headers:(0,a.buildRequestHeaders)(e)});t.exchangeHostedLoginToken=f;let h=async e=>{let t=(0,a.buildRequestHeaders)(e),r=await (0,a.Get)({url:`${i.default.baseUrl}/frontegg${s.fronteggUsersUrl}`,headers:t});return(0,a.parseHttpResponse)(r)};t.getMe=h;let p=async e=>{let t=(0,a.buildRequestHeaders)(e),r=await (0,a.Get)({url:`${i.default.baseUrl}${s.fronteggEntitlementsV2Url}`,headers:t});return(0,a.parseHttpResponse)(r)};t.getEntitlements=p;let y=async e=>{let t=await (0,a.Get)({url:`${i.default.baseUrl}/frontegg${s.fronteggTenantsV3Url}`,headers:(0,a.buildRequestHeaders)(e)});return(0,a.parseHttpResponse)(t)};t.getTenants=y;let d=async e=>{let t=await (0,a.Get)({url:`${i.default.baseUrl}/frontegg/identity/resources/users/v1/me/authorization`,headers:(0,a.buildRequestHeaders)(e)});return(0,a.parseHttpResponse)(t)};t.getMeAuthorization=d;let g=async e=>{let t=await (0,a.Get)({url:`${i.default.baseUrl}/frontegg/tenants/resources/account-settings/v1/public`,headers:(0,a.buildRequestHeaders)(e)});return(0,a.parseHttpResponse)(t)};t.getPublicSettings=g;var m={loadPublicKey:c,refreshTokenEmbedded:u,refreshTokenHostedLogin:l,getMe:h,getTenants:y,getPublicSettings:g,getEntitlements:p,exchangeHostedLoginToken:f};t.default=m},7171:function(e,t,r){"use strict";var n=r(5841);Object.defineProperty(t,"__esModule",{value:!0}),t.ApiUrls=void 0,t.buildLoginRoute=s,t.buildLogoutRoute=c;var i=r(2710),o=n(r(2083));let a={WellKnown:{jwks:"/.well-known/jwks.json"},refreshToken:{embedded:`/frontegg${i.fronteggRefreshTokenUrl}`,hosted:"/frontegg/oauth/token"}};function s(e,t,r=o.default.appUrl){let n=`${r}/account/login?redirectUrl=${encodeURIComponent(e)}${t?`&${t.toString()}`:""}`,i=new URL(n);return{asPath:n,asUrl:i}}function c(e,t){let r=`${t}/oauth/logout?post_logout_redirect_uri=${encodeURIComponent(e)}`,n=new URL(r,t);return{asPath:r,asUrl:n}}t.ApiUrls=a},347:function(e,t,r){"use strict";var n=r(5841);Object.defineProperty(t,"__esModule",{value:!0}),t.Post=t.Get=t.CUSTOM_LOGIN_HEADER=void 0,t.buildRequestHeaders=y,t.isMiddlewarePath=g,t.parseHttpResponse=void 0,t.removeInvalidHeaders=h;var i=n(r(7311)),o=n(r(2083)),a=n(r(3404)),s=n(r(8434)),c=r(2710),u=r(8505);let l=({url:e,credentials:t="include",headers:r})=>fetch(e,{method:"GET",credentials:t,headers:r});t.Get=l;let f=({url:e,credentials:t="include",headers:r,body:n})=>fetch(e,{method:"POST",credentials:t,headers:r,body:n});function h(e){let t=(0,i.default)({},e);return Object.keys(t).forEach(r=>{let n=e[r];n&&"object"==typeof n&&!Array.isArray(n)?delete t[r]:null!==u.headerCharRegex.exec(n)?delete t[r]:null==n?delete t[r]:10===r.length&&"connection"===r&&delete t[r]}),t}t.Post=f;let p="frontegg-login-alias";function y(e){let t=e.cookie;null!=t&&"string"==typeof t&&(t=t.replace(/fe_session-[^=]*=[^;]*$/,"").replace(/fe_session-[^=]*=[^;]*;/,"")),null!=t&&"object"==typeof t&&(t=Object.entries(t).map(([e,t])=>`${e}=${t}`).join("; "));let r={authorization:e.authorization,"accept-encoding":e["accept-encoding"],"accept-language":e["accept-language"],accept:e.accept,"content-type":"application/json",origin:o.default.baseUrl,cookie:t,"user-agent":e["user-agent"],"cache-control":e["cache-control"],"x-frontegg-framework":`next@${s.default.version}`,"x-frontegg-sdk":`@frontegg/nextjs@${a.default.version}`};return e[p]&&(r[p]=e[p]),h((0,i.default)({},r))}t.CUSTOM_LOGIN_HEADER=p;let d=async e=>{if(e.ok)return await e.json()};function g(e){let t=null!=c.fronteggAuthApiRoutesRegex.find(t=>"string"==typeof t?t===e:new RegExp(t).test(e));if(!t){let r=/^\/identity\/resources\/auth\/v[0-9]*\/user\/sso\/default\/[^\/]*\/prelogin$/.test(e);t=(e.endsWith("/postlogin")||e.endsWith("/prelogin"))&&!r}return t}t.parseHttpResponse=d},7251:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(7653).createContext)(null);t.default=n},6506:function(e,t,r){"use strict";var n=r(5841);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(r(7653));var i=r(3845),o=r(7573),a=e=>{let t=!0,r=(0,i.useAuthUserOrNull)();if(!(null!=r&&r.superUser)){var n,a;if(e.requiredPermissions)for(let i of(null!=r&&r.permissions&&(null==r?void 0:r.permissions.length)!==0||(t=!1),e.requiredPermissions))null!=r&&null!=(n=r.permissions)&&n.find(e=>{let{key:t}=e;return t===i})||(t=!1);if(e.requiredRoles)for(let n of(null!=r&&r.roles&&(null==r?void 0:r.roles.length)!==0||(t=!1),e.requiredRoles))null!=r&&null!=(a=r.roles)&&a.find(e=>{let{key:t}=e;return t===n})||(t=!1)}return"function"==typeof e.render?(0,o.jsx)(o.Fragment,{children:e.render(t)}):t?(0,o.jsx)(o.Fragment,{children:e.children}):null};t.default=a},2107:function(e,t,r){"use strict";var n=r(5841);Object.defineProperty(t,"__esModule",{value:!0}),t.FronteggBaseProvider=void 0;var i=n(r(7311)),o=n(r(892)),a=m(r(7653)),s=r(3845),c=r(2710),u=n(r(7251)),l=n(r(1358)),f=n(r(4539)),h=n(r(2308)),p=n(r(2083)),y=r(7573);let d=["router","appName"];function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}let w=e=>{var t,r;let{router:n,appName:p="default"}=e,g=(0,o.default)(e,d),m="undefined"==typeof window,{user:w,session:v,tenants:b,activeTenant:E}=g,A=null!=(t=g.basename)?t:"",S=(0,a.useRef)({}),k=(0,h.default)(A,n,null==(r=g.authOptions)?void 0:r.routes),B=(0,a.useMemo)(()=>(0,l.default)({options:(0,i.default)({},g,{basename:A}),onRedirectTo:k,appName:p,storeHolder:S.current}),[g]);return c.ContextHolder.setOnRedirectTo(k),(0,f.default)({app:B,user:w,tenants:b,activeTenant:E,session:v}),(0,y.jsx)(u.default.Provider,{value:B,children:(0,y.jsx)(s.FronteggStoreProvider,(0,i.default)({},(0,i.default)({},g,{app:B}),{alwaysVisibleChildren:!m&&(0,y.jsx)(s.CustomComponentRegister,{app:B,themeOptions:g.themeOptions}),children:g.children}))})},v=e=>(p.default.fronteggAppOptions=null!=e?e:{},(0,y.jsx)(w,(0,i.default)({},e,{framework:"nextjs",children:e.children})));t.FronteggBaseProvider=v},5769:function(e,t,r){"use strict";var n=r(5841);Object.defineProperty(t,"__esModule",{value:!0}),t.createSessionFromAccessToken=a,t.getTokensFromCookie=s;var i=n(r(8163)),o=n(r(8723));async function a(e){var t,r;let n=null!=(t=e.accessToken)?t:e.access_token,a=null!=(r=e.refreshToken)?r:e.refresh_token,{payload:s}=await i.default.verify(n);s.expiresIn=Math.floor((1e3*s.exp-Date.now())/1e3);let c={accessToken:n,refreshToken:a};return[await o.default.sealTokens(c,s.exp),s,a]}async function s(e){if(e)return await o.default.unsealTokens(e)}},4312:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useLogoutHostedLogin=void 0;var n=r(3845),i=r(2710),o=r(7171);let a=()=>{let{logout:e}=(0,n.useLoginActions)();return t=>{var r;let n=null==(r=i.ContextHolder.getContext())?void 0:r.baseUrl,a="function"==typeof n?n(""):n,s=null!=t?t:window.location.href,c=(0,o.buildLogoutRoute)(s,a).asPath;e(()=>{window.location.href=c})}};t.useLogoutHostedLogin=a},4633:function(e,t,r){"use strict";var n=r(5841);Object.defineProperty(t,"__esModule",{value:!0});var i={AppContext:!0,FronteggBaseProvider:!0,AuthorizedContent:!0};Object.defineProperty(t,"AppContext",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"AuthorizedContent",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"FronteggBaseProvider",{enumerable:!0,get:function(){return c.FronteggBaseProvider}});var o=r(5769);Object.keys(o).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e))&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var a=r(4312);Object.keys(a).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e))&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var s=n(r(7251)),c=r(2107),u=n(r(6506))},4539:function(e,t,r){"use strict";var n=r(5841);Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(r(7311)),o=r(7653);function a(e){var t;let{app:r,user:n,tenants:a,session:s}=e,c=n?(0,i.default)({},n,{refreshToken:null==s?void 0:s.refreshToken,accessToken:null!=(t=n.accessToken)?t:null==s?void 0:s.accessToken}):null;(0,o.useEffect)(()=>{null==r||r.store.dispatch({type:"auth/requestAuthorizeSSR",payload:{accessToken:null==s?void 0:s.accessToken,user:c,tenants:a}})},[r])}},7578:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnvVariables=void 0;let r=function(e){return e.FRONTEGG_APP_URL="FRONTEGG_APP_URL",e.FRONTEGG_BASE_URL="FRONTEGG_BASE_URL",e.FRONTEGG_TEST_URL="FRONTEGG_TEST_URL",e.FRONTEGG_CLIENT_ID="FRONTEGG_CLIENT_ID",e.FRONTEGG_CLIENT_SECRET="FRONTEGG_CLIENT_SECRET",e.FRONTEGG_ENCRYPTION_PASSWORD="FRONTEGG_ENCRYPTION_PASSWORD",e.FRONTEGG_JWT_PUBLIC_KEY="FRONTEGG_JWT_PUBLIC_KEY",e.FRONTEGG_COOKIE_NAME="FRONTEGG_COOKIE_NAME",e.DISABLE_INITIAL_PROPS_REFRESH_TOKEN="DISABLE_INITIAL_PROPS_REFRESH_TOKEN",e.FRONTEGG_SECURE_JWT_ENABLED="FRONTEGG_SECURE_JWT_ENABLED",e.FRONTEGG_HOSTED_LOGIN="FRONTEGG_HOSTED_LOGIN",e.FRONTEGG_FORWARD_IP="FRONTEGG_FORWARD_IP",e.VERCEL="VERCEL",e.VERCEL_URL="VERCEL_URL",e}({});t.EnvVariables=r},1799:function(e,t,r){"use strict";var n=r(3875);Object.defineProperty(t,"__esModule",{value:!0}),t.generateAppUrl=l,t.getEnvOrDefault=t.getEnv=t.generateCookieDomain=void 0,t.normalizeStringPasswordToMap=u;var i=r(8812),o=r(7578);let a=e=>{let t=n.env[e];if(!t)throw new i.FronteggEnvNotFound(e);return t};t.getEnv=a;let s=(e,t)=>{try{return a(e)}catch(e){return t}};t.getEnvOrDefault=s;let c=e=>{try{return new URL(e).hostname.replace(/:(\d)+$/,"")}catch(e){throw new i.InvalidFronteggEnv(o.EnvVariables.FRONTEGG_APP_URL,"Valid URL")}};function u(e){return"string"==typeof e?{1:e}:e}function l(){let e;let t=s(o.EnvVariables.FRONTEGG_APP_URL,void 0),n=void 0!=s(o.EnvVariables.VERCEL,void 0),a=s(o.EnvVariables.VERCEL_URL,void 0);if(t?e=t:n&&a&&(e=a),!e){if(n)throw new i.FronteggEnvNotFound(o.EnvVariables.VERCEL,o.EnvVariables.VERCEL_URL);throw new i.FronteggEnvNotFound(o.EnvVariables.FRONTEGG_APP_URL)}if(r.g.customLoginAppUrl&&(e=r.g.customLoginAppUrl),!e.startsWith("http")){let t=e.startsWith("localhost")?"http://":"https://";e=`${t}${e}`}return e}t.generateCookieDomain=c},2083:function(e,t,r){"use strict";var n=r(3875);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"EnvVariables",{enumerable:!0,get:function(){return o.EnvVariables}}),t.default=void 0;var i=r(1799),o=r(7578),a=r(8812);let s={FRONTEGG_APP_URL:n.env.FRONTEGG_APP_URL,FRONTEGG_BASE_URL:n.env.FRONTEGG_BASE_URL,FRONTEGG_TEST_URL:n.env.FRONTEGG_TEST_URL,FRONTEGG_CLIENT_ID:n.env.FRONTEGG_CLIENT_ID,FRONTEGG_CLIENT_SECRET:n.env.FRONTEGG_CLIENT_SECRET,FRONTEGG_ENCRYPTION_PASSWORD:n.env.FRONTEGG_ENCRYPTION_PASSWORD,FRONTEGG_COOKIE_NAME:n.env.FRONTEGG_COOKIE_NAME,FRONTEGG_JWT_PUBLIC_KEY:n.env.FRONTEGG_JWT_PUBLIC_KEY,FRONTEGG_SECURE_JWT_ENABLED:n.env.FRONTEGG_SECURE_JWT_ENABLED,DISABLE_INITIAL_PROPS_REFRESH_TOKEN:n.env.DISABLE_INITIAL_PROPS_REFRESH_TOKEN,VERCEL:n.env.VERCEL,VERCEL_URL:n.env.VERCEL_URL};class c{constructor(){this.fronteggAppOptions={},"undefined"==typeof window&&this.validatePassword()}get appUrl(){return(0,i.generateAppUrl)()}get testUrl(){return(0,i.getEnvOrDefault)(o.EnvVariables.FRONTEGG_TEST_URL,s.FRONTEGG_TEST_URL)}get baseUrl(){var e;let t=null!=(e=(0,i.getEnv)(o.EnvVariables.FRONTEGG_BASE_URL))?e:s.FRONTEGG_BASE_URL;return t.endsWith("/")?t.slice(0,-1):t}get baseUrlHost(){return new URL(this.baseUrl).hostname}get clientId(){var e;return null!=(e=(0,i.getEnv)(o.EnvVariables.FRONTEGG_CLIENT_ID))?e:s.FRONTEGG_CLIENT_ID}get clientSecret(){let e;try{var t;e=null!=(t=(0,i.getEnv)(o.EnvVariables.FRONTEGG_CLIENT_SECRET))?t:s.FRONTEGG_CLIENT_SECRET}catch(t){e=s.FRONTEGG_CLIENT_SECRET}if("true"===this.secureJwtEnabled&&!e)throw new a.InvalidFronteggEnv(o.EnvVariables.FRONTEGG_CLIENT_SECRET,"Client secret is required when secure JWT is enabled");return e}get jwtPublicKeyJson(){return(0,i.getEnv)(o.EnvVariables.FRONTEGG_JWT_PUBLIC_KEY)}get secureJwtEnabled(){try{var e;return null!=(e=(0,i.getEnv)(o.EnvVariables.FRONTEGG_SECURE_JWT_ENABLED))?e:s.FRONTEGG_SECURE_JWT_ENABLED}catch(e){return s.FRONTEGG_SECURE_JWT_ENABLED}}get cookieName(){var e;let t=(0,i.getEnvOrDefault)(o.EnvVariables.FRONTEGG_COOKIE_NAME,null!=(e=s.FRONTEGG_COOKIE_NAME)?e:"fe_session");return`${t}-${this.clientId.replace(/-/g,"")}`}get cookieDomain(){return(0,i.generateCookieDomain)(this.appUrl)}get authRoutes(){var e,t,r;return null!=(e=null==(t=this.fronteggAppOptions)?void 0:null==(r=t.authOptions)?void 0:r.routes)?e:{}}validatePassword(){let e=this.password;for(let t of Object.keys(e)){let r=e[t];if(!r.match(/[0-9A-Fa-f]{6}/g)||64!==r.length)throw new a.InvalidFronteggEnv(o.EnvVariables.FRONTEGG_ENCRYPTION_PASSWORD,`Hex string.

For quick password generation use the following command:
node -e "console.log(crypto.randomBytes(32).toString('hex'))"`)}}get password(){var e;let t=null!=(e=(0,i.getEnv)(o.EnvVariables.FRONTEGG_ENCRYPTION_PASSWORD))?e:s.FRONTEGG_ENCRYPTION_PASSWORD;return(0,i.normalizeStringPasswordToMap)(t)}get isSSL(){return"https:"===new URL(this.appUrl).protocol}get isHostedLogin(){var e;return null!=(e=this.fronteggAppOptions.hostedLoginBox)?e:"true"===(0,i.getEnvOrDefault)(o.EnvVariables.FRONTEGG_HOSTED_LOGIN,"false")}get isForwardIpEnabled(){return!!this.clientSecret&&"true"===(0,i.getEnvOrDefault)(o.EnvVariables.FRONTEGG_HOSTED_LOGIN,"false")}get disableInitialPropsRefreshToken(){return"true"===(0,i.getEnvOrDefault)(o.EnvVariables.DISABLE_INITIAL_PROPS_REFRESH_TOKEN,s.DISABLE_INITIAL_PROPS_REFRESH_TOKEN)}get appEnvConfig(){let e={envAppUrl:this.appUrl,envBaseUrl:this.baseUrl,envClientId:this.clientId,secureJwtEnabled:this.secureJwtEnabled};return console.log("this.appEnvConfig",e),e}}var u=new c;t.default=u},1069:function(e,t,r){"use strict";/** @license Frontegg v9.0.3
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var n={AdminPortal:!0,AppHolder:!0,HostedLogin:!0};Object.defineProperty(t,"AdminPortal",{enumerable:!0,get:function(){return s.AdminPortal}}),Object.defineProperty(t,"AppHolder",{enumerable:!0,get:function(){return s.AppHolder}}),Object.defineProperty(t,"HostedLogin",{enumerable:!0,get:function(){return s.HostedLogin}});var i=r(4633);Object.keys(i).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var o=r(2083);Object.keys(o).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var a=r(9502);Object.keys(a).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var s=r(5375),c=r(3845);Object.keys(c).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))});var u=r(9260);Object.keys(u).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))})},3404:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={version:"9.0.3"};t.default=r},9502:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8505:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headerCharRegex=t.cookieContentRegExp=t.FRONTEGG_AFTER_AUTH_REDIRECT_URL=void 0;let r="FRONTEGG_AFTER_AUTH_REDIRECT_URL";t.FRONTEGG_AFTER_AUTH_REDIRECT_URL=r;let n=/[^\t\x20-\x7e\x80-\xff]/;t.headerCharRegex=n;let i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;t.cookieContentRegExp=i},8723:function(e,t,r){"use strict";var n=r(5841);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(9356),o=n(r(2083)),a={unsealTokens:async e=>JSON.parse(await (0,i.unsealData)(e,{password:o.default.password})),sealTokens:async(e,t)=>{let r=JSON.stringify(e);return(0,i.sealData)(r,{password:o.default.password,ttl:t})}};t.default=a},3679:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FronteggEnvNotFound=void 0;class r extends Error{constructor(...e){super(`Missing one or more environment variables (${e.join(", ")}). add it to the .env.local file.`),Object.setPrototypeOf(this,r.prototype)}}t.FronteggEnvNotFound=r},542:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidFronteggEnv=void 0;class r extends Error{constructor(e,t){super(`Invalid environment variable (${e}), must be a valid ${t}`),Object.setPrototypeOf(this,r.prototype)}}t.InvalidFronteggEnv=r},8812:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3679);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))});var i=r(542);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))})},1040:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LEVEL_NAMES=t.LEVELS=void 0;let r={40:"ERROR",30:"WARN",20:"INFO",10:"DEBUG"};t.LEVELS=r;let n={error:40,warn:30,info:20,debug:10};t.LEVEL_NAMES=n},6310:function(e,t,r){"use strict";var n=r(3875);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(1040);let o="true"===n.env.ACTIONS_STEP_DEBUG||"true"===n.env.ACTIONS_RUNNER_DEBUG,a="warn";n.env.FRONTEGG_LOG_LEVEL&&(a=n.env.FRONTEGG_LOG_LEVEL),o&&(a="debug"),-1===Object.keys(i.LEVEL_NAMES).indexOf(a)&&(a="warn");let s=25;function c(e){return[...Array(e)].map(()=>" ").join("")}class u{constructor(e){var t;this.tag=void 0,this.level=void 0,e.tag.length>s?this.tag=e.tag.slice(0,7)+"..."+e.tag.slice(e.tag.length-s+10):this.tag=c(s-e.tag.length)+e.tag,this.level=null!=(t=e.level)?t:a}prepare(e,t){let r=i.LEVELS[i.LEVEL_NAMES[e]];return[new Date().toISOString(),`|${r}| ${this.tag}:`,...t]}debug(...e){i.LEVEL_NAMES[this.level]<=i.LEVEL_NAMES.debug&&console.log.apply(console,this.prepare("debug",e))}info(...e){i.LEVEL_NAMES[this.level]<=i.LEVEL_NAMES.info&&console.info.apply(console,this.prepare("info",e))}warn(...e){i.LEVEL_NAMES[this.level]<=i.LEVEL_NAMES.warn&&console.warn.apply(console,this.prepare("warn",e))}error(...e){console.error.apply(console,this.prepare("error",e))}static child(e){return new u(e)}}var l=u;t.default=l},1358:function(e,t,r){"use strict";var n=r(5841);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(7311)),o=r(5375),a=r(9836),s=n(r(3404)),c=n(r(8434)),u=r(347),l=({options:e,onRedirectTo:t,appName:r,storeHolder:n})=>{var l,f,h,p,y,d,g;let m;let{session:w,user:v,tenants:b,activeTenant:E}=e,{accessToken:A,refreshToken:S}=null!=w?w:{},k=(0,i.default)({requestCredentials:"include"},e.contextOptions,{additionalHeadersResolver:async()=>{var t;let r=[],n=null==(t=e.contextOptions)?void 0:t.additionalHeadersResolver;if("function"==typeof n)try{r.push(...await n())}catch(e){}else Array.isArray(n)&&r.push(...n);return r.push({key:"x-frontegg-framework",value:`next@${c.default.version}`}),r.push({key:"x-frontegg-sdk",value:`@frontegg/nextjs@${s.default.version}`}),r},tokenResolver:e.secureJwtEnabled?()=>"":void 0,baseUrl:t=>(0,u.isMiddlewarePath)(t)||e.secureJwtEnabled?`${e.envAppUrl}/api`:e.envBaseUrl,clientId:e.envClientId}),B=(0,i.default)({tenants:b||[],activeTenant:E},null==(l=e.authOptions)?void 0:l.tenantsState),x=v?(0,i.default)({},v,{accessToken:null!=A?A:"",refreshToken:null!=S?S:void 0},null==(f=e.authOptions)?void 0:f.user):null,_=(0,i.default)({},e.authOptions,{onRedirectTo:t,isLoading:!1,isAuthenticated:!!e.session,hostedLoginBox:null!=(h=e.hostedLoginBox)&&h,disableSilentRefresh:null==(p=null==(y=e.authOptions)?void 0:y.disableSilentRefresh)||p,user:x,tenantsState:B}),P=n.store;P||(P=(0,a.createStore)({context:k,storeHolder:n,previewMode:e.previewMode,name:null!=r?r:"default",urlStrategy:e.urlStrategy,builderMode:!1,initialState:{auth:_}}),n.store=P);try{(m=o.AppHolder.getInstance(null!=r?r:"default")).store=P}catch(n){m=(0,o.initialize)((0,i.default)({},e,{store:P,hostedLoginBox:null!=(d=e.hostedLoginBox)&&d,customLoginBox:null!=(g=e.customLoginBox)&&g,basename:e.basename,authOptions:_,contextOptions:k,onRedirectTo:t}),null!=r?r:"default")}return m};t.default=l},8163:function(e,t,r){"use strict";var n=r(5841);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(3882),o=n(r(4222)),a=n(r(6310)),s=n(r(2083));class c{constructor(){this.publicKey=void 0}async loadPublicKey(){let e;let t=a.default.child({tag:"JwtManager.loadPublicKey"});try{var r;e=JSON.parse(null!=(r=s.default.jwtPublicKeyJson)?r:"{}"),t.info("Public key loaded from env variable")}catch(r){t.info("Going to load public key from frontegg jwks"),e=await o.default.loadPublicKey()}return t.info("Importing Public key into jose"),this.publicKey=await (0,i.importJWK)(e,e.alg),this.publicKey}async getPublicKey(){return void 0===this.publicKey?await this.loadPublicKey():this.publicKey}async verify(e){let t=await this.getPublicKey();return await (0,i.jwtVerify)(e,t)}}var u=new c;t.default=u},2308:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(7653),i=r(9836),o=(e,t,r)=>{let o=(0,n.useRef)(()=>!1),a=(0,n.useRef)((e,t)=>{});return(0,n.useMemo)(()=>{o.current=e=>(0,i.isAuthRoute)(e,r)},[r]),a.current=(r,n)=>{let i=!1,a=r;a.startsWith(e)&&(a=a.substring(e.length)),(null!=n&&n.preserveQueryParams||o.current(a))&&(a=`${a}${window.location.search}`),null!=n&&n.refresh&&!i?window.Cypress?t.push(a):window.location.href=a:null!=n&&n.replace?t.replace(a):t.push(a)},a.current};t.default=o},5415:function(e,t,r){"use strict";r.r(t),r.d(t,{Crypto:function(){return iX},CryptoKey:function(){return rD}});var n,i,o,a,s,c,u,l,f,h,p,y,d,g,m,w,v,b,E,A,S,k,B,x,_,P,C,O,R,U,T,K,N,I,H,L,j={};r.r(j),r.d(j,{Any:function(){return tm},BaseBlock:function(){return eA},BaseStringBlock:function(){return ek},BitString:function(){return eM},BmpString:function(){return e7},Boolean:function(){return eH},CharacterString:function(){return tu},Choice:function(){return tw},Constructed:function(){return eU},DATE:function(){return th},DateTime:function(){return ty},Duration:function(){return td},EndOfContent:function(){return eK},Enumerated:function(){return e$},GeneralString:function(){return tc},GeneralizedTime:function(){return tf},GraphicString:function(){return ta},HexBlock:function(){return eg},IA5String:function(){return to},Integer:function(){return eG},Null:function(){return eN},NumericString:function(){return tt},ObjectIdentifier:function(){return eY},OctetString:function(){return ej},Primitive:function(){return ex},PrintableString:function(){return tr},RawData:function(){return tb},RelativeObjectIdentifier:function(){return eQ},Repeated:function(){return tv},Sequence:function(){return e0},Set:function(){return e1},TIME:function(){return tg},TeletexString:function(){return tn},TimeOfDay:function(){return tp},UTCTime:function(){return tl},UniversalString:function(){return te},Utf8String:function(){return e4},ValueBlock:function(){return ew},VideotexString:function(){return ti},ViewWriter:function(){return X},VisibleString:function(){return ts},compareSchema:function(){return tE},fromBER:function(){return eC},verifySchema:function(){return tA}});var D=r(7184);function M(e,t){let r=0;if(1===e.length)return e[0];for(let n=e.length-1;n>=0;n--)r+=e[e.length-1-n]*Math.pow(2,t*n);return r}function J(e,t,r=-1){let n=r,i=e,o=0,a=Math.pow(2,t);for(let r=1;r<8;r++){if(e<a){let e;if(n<0)e=new ArrayBuffer(r),o=r;else{if(n<r)return new ArrayBuffer(0);e=new ArrayBuffer(n),o=n}let a=new Uint8Array(e);for(let e=r-1;e>=0;e--){let r=Math.pow(2,e*t);a[o-e-1]=Math.floor(i/r),i-=a[o-e-1]*r}return e}a*=Math.pow(2,t)}return new ArrayBuffer(0)}function F(...e){let t=0,r=0;for(let r of e)t+=r.length;let n=new Uint8Array(new ArrayBuffer(t));for(let t of e)n.set(t,r),r+=t.length;return n}function W(){let e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let t=255===e[0]&&128&e[1],r=0===e[0]&&(128&e[1])==0;(t||r)&&this.warnings.push("Needlessly long format")}let t=new Uint8Array(new ArrayBuffer(this.valueHex.byteLength));for(let e=0;e<this.valueHex.byteLength;e++)t[e]=0;t[0]=128&e[0];let r=M(t,8),n=new Uint8Array(new ArrayBuffer(this.valueHex.byteLength));for(let t=0;t<this.valueHex.byteLength;t++)n[t]=e[t];return n[0]&=127,M(n,8)-r}function V(e){let t=e<0?-1*e:e,r=128;for(let n=1;n<8;n++){if(t<=r){if(e<0){let e=J(r-t,8,n),i=new Uint8Array(e);return i[0]|=128,e}let i=J(t,8,n),o=new Uint8Array(i);if(128&o[0]){let e=i.slice(0),t=new Uint8Array(e);o=new Uint8Array(i=new ArrayBuffer(i.byteLength+1));for(let r=0;r<e.byteLength;r++)o[r+1]=t[r];o[0]=0}return i}r*=256}return new ArrayBuffer(0)}function G(e,t){if(e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),n=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]!==n[e])return!1;return!0}function $(e,t){let r=e.toString(10);if(t<r.length)return"";let n=t-r.length,i=Array(n);for(let e=0;e<n;e++)i[e]="0";return i.join("").concat(r)}/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */function z(){if("undefined"==typeof BigInt)throw Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function q(e){let t=0,r=0;for(let r=0;r<e.length;r++)t+=e[r].byteLength;let n=new Uint8Array(t);for(let t=0;t<e.length;t++){let i=e[t];n.set(new Uint8Array(i),r),r+=i.byteLength}return n.buffer}function Y(e,t,r,n){return t instanceof Uint8Array?t.byteLength?r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):n<0?(e.error="Wrong parameter: inputLength less than zero",!1):!(t.byteLength-r-n<0)||(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class X{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return q(this.items)}}let Z=[new Uint8Array([1])],Q="0123456789",ee="name",et="valueHexView",er="isHexOnly",en="idBlock",ei="tagClass",eo="tagNumber",ea="isConstructed",es="fromBER",ec="toBER",eu="local",el="",ef=new ArrayBuffer(0),eh=new Uint8Array(0),ep="EndOfContent",ey="OCTET STRING",ed="BIT STRING";function eg(e){var t;return(t=class extends e{constructor(...e){var t;super(...e);let r=e[0]||{};this.isHexOnly=null!==(t=r.isHexOnly)&&void 0!==t&&t,this.valueHexView=r.valueHex?D.vJ.toUint8Array(r.valueHex):eh}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(e){this.valueHexView=new Uint8Array(e)}fromBER(e,t,r){let n=e instanceof ArrayBuffer?new Uint8Array(e):e;if(!Y(this,n,t,r))return -1;let i=t+r;return(this.valueHexView=n.subarray(t,i),this.valueHexView.length)?(this.blockLength=r,i):(this.warnings.push("Zero buffer length"),t)}toBER(e=!1){return this.isHexOnly?e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",ef)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:D.ep.ToHex(this.valueHexView)}}}).NAME="hexBlock",t}class em{constructor({blockLength:e=0,error:t=el,warnings:r=[],valueBeforeDecode:n=eh}={}){this.blockLength=e,this.error=t,this.warnings=r,this.valueBeforeDecodeView=D.vJ.toUint8Array(n)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:D.ep.ToHex(this.valueBeforeDecodeView)}}}em.NAME="baseBlock";class ew extends em{fromBER(e,t,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}ew.NAME="valueBlock";class ev extends eg(em){constructor({idBlock:e={}}={}){var t,r,n,i;super(),e?(this.isHexOnly=null!==(t=e.isHexOnly)&&void 0!==t&&t,this.valueHexView=e.valueHex?D.vJ.toUint8Array(e.valueHex):eh,this.tagClass=null!==(r=e.tagClass)&&void 0!==r?r:-1,this.tagNumber=null!==(n=e.tagNumber)&&void 0!==n?n:-1,this.isConstructed=null!==(i=e.isConstructed)&&void 0!==i&&i):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",ef}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){let r=new Uint8Array(1);if(!e){let e=this.tagNumber;e&=31,t|=e,r[0]=t}return r.buffer}if(!this.isHexOnly){let r=J(this.tagNumber,7),n=new Uint8Array(r),i=r.byteLength,o=new Uint8Array(i+1);if(o[0]=31|t,!e){for(let e=0;e<i-1;e++)o[e+1]=128|n[e];o[i]=n[i-1]}return o.buffer}let r=new Uint8Array(this.valueHexView.byteLength+1);if(r[0]=31|t,!e){let e=this.valueHexView;for(let t=0;t<e.length-1;t++)r[t+1]=128|e[t];r[this.valueHexView.byteLength]=e[e.length-1]}return r.buffer}fromBER(e,t,r){let n=D.vJ.toUint8Array(e);if(!Y(this,n,t,r))return -1;let i=n.subarray(t,t+r);if(0===i.length)return this.error="Zero buffer length",-1;switch(192&i[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(32&i[0])==32,this.isHexOnly=!1;let o=31&i[0];if(31!==o)this.tagNumber=o,this.blockLength=1;else{let e=1,t=this.valueHexView=new Uint8Array(255),r=255;for(;128&i[e];){if(t[e-1]=127&i[e],++e>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(e===r){let e=new Uint8Array(r+=255);for(let r=0;r<t.length;r++)e[r]=t[r];t=this.valueHexView=new Uint8Array(r)}}this.blockLength=e+1,t[e-1]=127&i[e];let n=new Uint8Array(e);for(let r=0;r<e;r++)n[r]=t[r];(t=this.valueHexView=new Uint8Array(e)).set(n),this.blockLength<=9?this.tagNumber=M(t,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}ev.NAME="identificationBlock";class eb extends em{constructor({lenBlock:e={}}={}){var t,r,n;super(),this.isIndefiniteForm=null!==(t=e.isIndefiniteForm)&&void 0!==t&&t,this.longFormUsed=null!==(r=e.longFormUsed)&&void 0!==r&&r,this.length=null!==(n=e.length)&&void 0!==n?n:0}fromBER(e,t,r){let n=D.vJ.toUint8Array(e);if(!Y(this,n,t,r))return -1;let i=n.subarray(t,t+r);if(0===i.length)return this.error="Zero buffer length",-1;if(255===i[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===i[0],this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(128&i[0]),!1===this.longFormUsed)return this.length=i[0],this.blockLength=1,t+this.blockLength;let o=127&i[0];if(o>8)return this.error="Too big integer",-1;if(o+1>i.length)return this.error="End of input reached before message was fully decoded",-1;let a=t+1,s=n.subarray(a,a+o);return 0===s[o-1]&&this.warnings.push("Needlessly long encoded length"),this.length=M(s,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=o+1,t+this.blockLength}toBER(e=!1){let t,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=128),t;if(this.longFormUsed){let n=J(this.length,8);if(n.byteLength>127)return this.error="Too big length",ef;if(t=new ArrayBuffer(n.byteLength+1),e)return t;let i=new Uint8Array(n);(r=new Uint8Array(t))[0]=128|n.byteLength;for(let e=0;e<n.byteLength;e++)r[e+1]=i[e];return t}return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}eb.NAME="lengthBlock";let eE={};class eA extends em{constructor({name:e=el,optional:t=!1,primitiveSchema:r,...n}={},i){super(n),this.name=e,this.optional=t,r&&(this.primitiveSchema=r),this.idBlock=new ev(n),this.lenBlock=new eb(n),this.valueBlock=i?new i(n):new ew(n)}fromBER(e,t,r){let n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===n?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),n}toBER(e,t){let r=t||new X;t||eS(this);let n=this.idBlock.toBER(e);if(r.write(n),this.lenBlock.isIndefiniteForm)r.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,r),r.write(new ArrayBuffer(2));else{let t=this.valueBlock.toBER(e);this.lenBlock.length=t.byteLength;let n=this.lenBlock.toBER(e);r.write(n),r.write(t)}return t?ef:r.final()}toJSON(){let e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return"ascii"===e?this.onAsciiEncoding():D.ep.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${D.ep.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){return this===e||e instanceof this.constructor&&G(this.toBER(),e.toBER())}}function eS(e){if(e instanceof eE.Constructed)for(let t of e.valueBlock.value)eS(t)&&(e.lenBlock.isIndefiniteForm=!0);return!!e.lenBlock.isIndefiniteForm}eA.NAME="BaseBlock";class ek extends eA{constructor({value:e=el,...t}={},r){super(t,r),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,t,r){let n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===n?this.error=this.valueBlock.error:(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),n}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}ek.NAME="BaseStringBlock";class eB extends eg(ew){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}eB.NAME="PrimitiveValueBlock";class ex extends eA{constructor(e={}){super(e,eB),this.idBlock.isConstructed=!1}}function e_(e,t){if(e instanceof t)return e;let r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecodeView=e.valueBeforeDecodeView,r}function eP(e,t=0,r=e.length){let n=t,i=new eA({},ew),o=new em;if(!Y(o,e,t,r))return i.error=o.error,{offset:-1,result:i};if(!e.subarray(t,t+r).length)return i.error="Zero buffer length",{offset:-1,result:i};let a=i.idBlock.fromBER(e,t,r);if(i.idBlock.warnings.length&&i.warnings.concat(i.idBlock.warnings),-1===a)return i.error=i.idBlock.error,{offset:-1,result:i};if(t=a,r-=i.idBlock.blockLength,a=i.lenBlock.fromBER(e,t,r),i.lenBlock.warnings.length&&i.warnings.concat(i.lenBlock.warnings),-1===a)return i.error=i.lenBlock.error,{offset:-1,result:i};if(t=a,r-=i.lenBlock.blockLength,!i.idBlock.isConstructed&&i.lenBlock.isIndefiniteForm)return i.error="Indefinite length form used for primitive encoding form",{offset:-1,result:i};let s=eA;if(1===i.idBlock.tagClass){if(i.idBlock.tagNumber>=37&&!1===i.idBlock.isHexOnly)return i.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:i};switch(i.idBlock.tagNumber){case 0:if(i.idBlock.isConstructed&&i.lenBlock.length>0)return i.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:i};s=eE.EndOfContent;break;case 1:s=eE.Boolean;break;case 2:s=eE.Integer;break;case 3:s=eE.BitString;break;case 4:s=eE.OctetString;break;case 5:s=eE.Null;break;case 6:s=eE.ObjectIdentifier;break;case 10:s=eE.Enumerated;break;case 12:s=eE.Utf8String;break;case 13:s=eE.RelativeObjectIdentifier;break;case 14:s=eE.TIME;break;case 15:return i.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:i};case 16:s=eE.Sequence;break;case 17:s=eE.Set;break;case 18:s=eE.NumericString;break;case 19:s=eE.PrintableString;break;case 20:s=eE.TeletexString;break;case 21:s=eE.VideotexString;break;case 22:s=eE.IA5String;break;case 23:s=eE.UTCTime;break;case 24:s=eE.GeneralizedTime;break;case 25:s=eE.GraphicString;break;case 26:s=eE.VisibleString;break;case 27:s=eE.GeneralString;break;case 28:s=eE.UniversalString;break;case 29:s=eE.CharacterString;break;case 30:s=eE.BmpString;break;case 31:s=eE.DATE;break;case 32:s=eE.TimeOfDay;break;case 33:s=eE.DateTime;break;case 34:s=eE.Duration;break;default:{let e=i.idBlock.isConstructed?new eE.Constructed:new eE.Primitive;e.idBlock=i.idBlock,e.lenBlock=i.lenBlock,e.warnings=i.warnings,i=e}}}else s=i.idBlock.isConstructed?eE.Constructed:eE.Primitive;return a=(i=e_(i,s)).fromBER(e,t,i.lenBlock.isIndefiniteForm?r:i.lenBlock.length),i.valueBeforeDecodeView=e.subarray(n,n+i.blockLength),{offset:a,result:i}}function eC(e){if(!e.byteLength){let e=new eA({},ew);return e.error="Input buffer has zero length",{offset:-1,result:e}}return eP(D.vJ.toUint8Array(e).slice(),0,e.byteLength)}function eO(e,t){return e?1:t}n=ex,(()=>{eE.Primitive=n})(),ex.NAME="PRIMITIVE";class eR extends ew{constructor({value:e=[],isIndefiniteForm:t=!1,...r}={}){super(r),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,r){let n=D.vJ.toUint8Array(e);if(!Y(this,n,t,r))return -1;if(this.valueBeforeDecodeView=n.subarray(t,t+r),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),t;let i=t;for(;eO(this.isIndefiniteForm,r)>0;){let e=eP(n,i,r);if(-1===e.offset)return this.error=e.result.error,this.warnings.concat(e.result.warnings),-1;if(i=e.offset,this.blockLength+=e.result.blockLength,r-=e.result.blockLength,this.value.push(e.result),this.isIndefiniteForm&&e.result.constructor.NAME===ep)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===ep?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(e,t){let r=t||new X;for(let t=0;t<this.value.length;t++)this.value[t].toBER(e,r);return t?ef:r.final()}toJSON(){let e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let t of this.value)e.value.push(t.toJSON());return e}}eR.NAME="ConstructedValueBlock";class eU extends eA{constructor(e={}){super(e,eR),this.idBlock.isConstructed=!0}fromBER(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===n?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),n}onAsciiEncoding(){let e=[];for(let t of this.valueBlock.value)e.push(t.toString("ascii").split("\n").map(e=>`  ${e}`).join("\n"));let t=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :
${e.join("\n")}`:`${t} :`}}i=eU,(()=>{eE.Constructed=i})(),eU.NAME="CONSTRUCTED";class eT extends ew{fromBER(e,t,r){return t}toBER(e){return ef}}eT.override="EndOfContentValueBlock";class eK extends eA{constructor(e={}){super(e,eT),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}o=eK,(()=>{eE.EndOfContent=o})(),eK.NAME=ep;class eN extends eA{constructor(e={}){super(e,ew),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,r){return(this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,t+r>e.byteLength)?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+r}toBER(e,t){let r=new ArrayBuffer(2);if(!e){let e=new Uint8Array(r);e[0]=5,e[1]=0}return t&&t.write(r),r}onAsciiEncoding(){return`${this.constructor.NAME}`}}a=eN,(()=>{eE.Null=a})(),eN.NAME="NULL";class eI extends eg(ew){constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=D.vJ.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(let e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,t,r){let n=D.vJ.toUint8Array(e);return Y(this,n,t,r)?(this.valueHexView=n.subarray(t,t+r),r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,W.call(this),this.blockLength=r,t+r):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}eI.NAME="BooleanValueBlock";class eH extends eA{constructor(e={}){super(e,eI),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}s=eH,(()=>{eE.Boolean=s})(),eH.NAME="BOOLEAN";class eL extends eg(eR){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,r){let n=0;if(this.isConstructed){if(this.isHexOnly=!1,-1===(n=eR.prototype.fromBER.call(this,e,t,r)))return n;for(let e=0;e<this.value.length;e++){let t=this.value[e].constructor.NAME;if(t===ep){if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1;break}if(t!==ey)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,n=super.fromBER(e,t,r),this.blockLength=r;return n}toBER(e,t){return this.isConstructed?eR.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}eL.NAME="OctetStringValueBlock";class ej extends eA{constructor({idBlock:e={},lenBlock:t={},...r}={}){var n,i;null!==(n=r.isConstructed)&&void 0!==n||(r.isConstructed=!!(null===(i=r.value)||void 0===i?void 0:i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},eL),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===r)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){let n=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+r);try{if(n.byteLength){let e=eP(n,0,n.byteLength);-1!==e.offset&&e.offset===r&&(this.valueBlock.value=[e.result])}}catch(e){}}return super.fromBER(e,t,r)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?eU.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${D.ep.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let e=[];for(let t of this.valueBlock.value)t instanceof ej&&e.push(t.valueBlock.valueHexView);return D.vJ.concat(e)}}c=ej,(()=>{eE.OctetString=c})(),ej.NAME=ey;class eD extends eg(eR){constructor({unusedBits:e=0,isConstructed:t=!1,...r}={}){super(r),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,r){if(!r)return t;let n=-1;if(this.isConstructed){if(-1===(n=eR.prototype.fromBER.call(this,e,t,r)))return n;for(let e of this.value){let t=e.constructor.NAME;if(t===ep){if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1;break}if(t!==ed)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let r=e.valueBlock;if(this.unusedBits>0&&r.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=r.unusedBits}return n}let i=D.vJ.toUint8Array(e);if(!Y(this,i,t,r))return -1;let o=i.subarray(t,t+r);if(this.unusedBits=o[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let e=o.subarray(1);try{if(e.byteLength){let t=eP(e,0,e.byteLength);-1!==t.offset&&t.offset===r-1&&(this.value=[t.result])}}catch(e){}}return this.valueHexView=o.subarray(1),this.blockLength=o.length,t+r}toBER(e,t){if(this.isConstructed)return eR.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return ef;let r=new Uint8Array(this.valueHexView.length+1);return r[0]=this.unusedBits,r.set(this.valueHexView,1),r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}eD.NAME="BitStringValueBlock";class eM extends eA{constructor({idBlock:e={},lenBlock:t={},...r}={}){var n,i;null!==(n=r.isConstructed)&&void 0!==n||(r.isConstructed=!!(null===(i=r.value)||void 0===i?void 0:i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},eD),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return eU.prototype.onAsciiEncoding.call(this);{let e=[];for(let t of this.valueBlock.valueHexView)e.push(t.toString(2).padStart(8,"0"));let t=e.join("");return`${this.constructor.NAME} : ${t.substring(0,t.length-this.valueBlock.unusedBits)}`}}}function eJ(e,t){let r=new Uint8Array([0]),n=new Uint8Array(e),i=new Uint8Array(t),o=n.slice(0),a=o.length-1,s=i.slice(0),c=s.length-1,u=0,l=c<a?a:c,f=0;for(let e=l;e>=0;e--,f++)u=!0==f<s.length?o[a-f]+s[c-f]+r[0]:o[a-f]+r[0],(r[0]=u/10,!0==f>=o.length)?o=F(new Uint8Array([u%10]),o):o[a-f]=u%10;return r[0]>0&&(o=F(r,o)),o}function eF(e){if(e>=Z.length)for(let t=Z.length;t<=e;t++){let e=new Uint8Array([0]),r=Z[t-1].slice(0);for(let t=r.length-1;t>=0;t--){let n=new Uint8Array([(r[t]<<1)+e[0]]);e[0]=n[0]/10,r[t]=n[0]%10}e[0]>0&&(r=F(e,r)),Z.push(r)}return Z[e]}function eW(e,t){let r,n=0,i=new Uint8Array(e),o=new Uint8Array(t),a=i.slice(0),s=a.length-1,c=o.slice(0),u=c.length-1,l=0;for(let e=u;e>=0;e--,l++)!0==(r=a[s-l]-c[u-l]-n)<0?(n=1,a[s-l]=r+10):(n=0,a[s-l]=r);if(n>0)for(let e=s-u+1;e>=0;e--,l++)if((r=a[s-l]-n)<0)n=1,a[s-l]=r+10;else{n=0,a[s-l]=r;break}return a.slice()}u=eM,(()=>{eE.BitString=u})(),eM.NAME=ed;class eV extends eg(ew){constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),void 0!==e&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=W.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(V(e))}get valueDec(){return this._valueDec}fromDER(e,t,r,n=0){let i=this.fromBER(e,t,r);if(-1===i)return i;let o=this.valueHexView;return 0===o[0]&&(128&o[1])!=0?this.valueHexView=o.subarray(1):0!==n&&o.length<n&&(n-o.length>1&&(n=o.length+1),this.valueHexView=o.subarray(n-o.length)),i}toDER(e=!1){let t=this.valueHexView;switch(!0){case(128&t[0])!=0:{let e=new Uint8Array(this.valueHexView.length+1);e[0]=0,e.set(t,1),this.valueHexView=e}break;case 0===t[0]&&(128&t[1])==0:this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(e)}fromBER(e,t,r){let n=super.fromBER(e,t,r);return -1===n||this.setValueHex(),n}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let e;let t=8*this.valueHexView.length-1,r=new Uint8Array(8*this.valueHexView.length/3),n=0,i=this.valueHexView,o="",a=!1;for(let a=i.byteLength-1;a>=0;a--){e=i[a];for(let i=0;i<8;i++)(1&e)==1&&(n===t?(r=eW(eF(n),r),o="-"):r=eJ(r,eF(n))),n++,e>>=1}for(let e=0;e<r.length;e++)r[e]&&(a=!0),a&&(o+=Q.charAt(r[e]));return!1===a&&(o+=Q.charAt(0)),o}}l=eV,eV.NAME="IntegerValueBlock",(()=>{Object.defineProperty(l.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}})})();class eG extends eA{constructor(e={}){super(e,eV),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return z(),BigInt(this.valueBlock.toString())}static fromBigInt(e){z();let t=BigInt(e),r=new X,n=t.toString(16).replace(/^-/,""),i=new Uint8Array(D.ep.FromHex(n));if(t<0){let e=new Uint8Array(i.length+(128&i[0]?1:0));e[0]|=128;let n=BigInt(`0x${D.ep.ToHex(e)}`)+t,o=D.vJ.toUint8Array(D.ep.FromHex(n.toString(16)));o[0]|=128,r.write(o)}else 128&i[0]&&r.write(new Uint8Array([0])),r.write(i);return new eG({valueHex:r.final()})}convertToDER(){let e=new eG({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new eG({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}f=eG,(()=>{eE.Integer=f})(),eG.NAME="INTEGER";class e$ extends eG{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}h=e$,(()=>{eE.Enumerated=h})(),e$.NAME="ENUMERATED";class ez extends eg(ew){constructor({valueDec:e=-1,isFirstSid:t=!1,...r}={}){super(r),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,r){if(!r)return t;let n=D.vJ.toUint8Array(e);if(!Y(this,n,t,r))return -1;let i=n.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&i[e],this.blockLength++,(128&i[e])!=0);e++);let o=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)o[e]=this.valueHexView[e];return(this.valueHexView=o,(128&i[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=M(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){z();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;let r=new Uint8Array(t.length/7);for(let e=0;e<r.length;e++)r[e]=parseInt(t.slice(7*e,7*e+7),2)+(e+1<r.length?128:0);this.fromBER(r.buffer,0,r.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=J(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",ef;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),n=t.byteLength-1;for(let t=0;t<n;t++)r[t]=128|e[t];r[n]=e[n]}return r}toString(){let e="";if(this.isHexOnly)e=D.ep.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}ez.NAME="sidBlock";class eq extends ew{constructor({value:e=el,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let n=t;for(;r>0;){let t=new ez;if(-1===(n=t.fromBER(e,n,r))){this.blockLength=0,this.error=t.error;break}0===this.value.length&&(t.isFirstSid=!0),this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return n}toBER(e){let t=[];for(let r=0;r<this.value.length;r++){let n=this.value[r].toBER(e);if(0===n.byteLength)return this.error=this.value[r].error,ef;t.push(n)}return q(t)}fromString(e){this.value=[];let t=0,r=0,n="",i=!1;do if(n=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1,i){let e=this.value[0],t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:this.value=[];return}let r=parseInt(n,10);if(isNaN(r))return;e.valueDec=r+t,i=!1}else{let e=new ez;if(n>Number.MAX_SAFE_INTEGER){z();let t=BigInt(n);e.valueBigInt=t}else if(e.valueDec=parseInt(n,10),isNaN(e.valueDec))return;this.value.length||(e.isFirstSid=!0,i=!0),this.value.push(e)}while(-1!==r)}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let n=this.value[r].toString();0!==r&&(e=`${e}.`),t?(n=`{${n}}`,this.value[r].isFirstSid?e=`2.{${n} - 80}`:e+=n):e+=n}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}eq.NAME="ObjectIdentifierValueBlock";class eY extends eA{constructor(e={}){super(e,eq),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}p=eY,(()=>{eE.ObjectIdentifier=p})(),eY.NAME="OBJECT IDENTIFIER";class eX extends eg(em){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,r){if(0===r)return t;let n=D.vJ.toUint8Array(e);if(!Y(this,n,t,r))return -1;let i=n.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&i[e],this.blockLength++,(128&i[e])!=0);e++);let o=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)o[e]=this.valueHexView[e];return(this.valueHexView=o,(128&i[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=M(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=J(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",ef;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),n=t.byteLength-1;for(let t=0;t<n;t++)r[t]=128|e[t];r[n]=e[n]}return r.buffer}toString(){return this.isHexOnly?D.ep.ToHex(this.valueHexView):this.valueDec.toString()}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}eX.NAME="relativeSidBlock";class eZ extends ew{constructor({value:e=el,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let n=t;for(;r>0;){let t=new eX;if(-1===(n=t.fromBER(e,n,r))){this.blockLength=0,this.error=t.error;break}this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return n}toBER(e,t){let r=[];for(let t=0;t<this.value.length;t++){let n=this.value[t].toBER(e);if(0===n.byteLength)return this.error=this.value[t].error,ef;r.push(n)}return q(r)}fromString(e){this.value=[];let t=0,r=0,n="";do{n=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1;let i=new eX;if(i.valueDec=parseInt(n,10),isNaN(i.valueDec))break;this.value.push(i)}while(-1!==r);return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let n=this.value[r].toString();0!==r&&(e=`${e}.`),t?e+=n=`{${n}}`:e+=n}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}eZ.NAME="RelativeObjectIdentifierValueBlock";class eQ extends eA{constructor(e={}){super(e,eZ),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}y=eQ,(()=>{eE.RelativeObjectIdentifier=y})(),eQ.NAME="RelativeObjectIdentifier";class e0 extends eU{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}d=e0,(()=>{eE.Sequence=d})(),e0.NAME="SEQUENCE";class e1 extends eU{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}g=e1,(()=>{eE.Set=g})(),e1.NAME="SET";class e2 extends eg(ew){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=el}toJSON(){return{...super.toJSON(),value:this.value}}}e2.NAME="StringValueBlock";class e8 extends e2{}e8.NAME="SimpleStringValueBlock";class e3 extends ek{constructor({...e}={}){super(e,e8)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,D.vJ.toUint8Array(e))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);this.valueBlock.value=e}}e3.NAME="SIMPLE STRING";class e6 extends e3{fromBuffer(e){this.valueBlock.valueHexView=D.vJ.toUint8Array(e);try{this.valueBlock.value=D.ep.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=D.ep.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(D.ep.FromUtf8String(e)),this.valueBlock.value=e}}e6.NAME="Utf8StringValueBlock";class e4 extends e6{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}m=e4,(()=>{eE.Utf8String=m})(),e4.NAME="UTF8String";class e5 extends e3{fromBuffer(e){this.valueBlock.value=D.ep.ToUtf16String(e),this.valueBlock.valueHexView=D.vJ.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(D.ep.FromUtf16String(e))}}e5.NAME="BmpStringValueBlock";class e7 extends e5{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}w=e7,(()=>{eE.BmpString=w})(),e7.NAME="BMPString";class e9 extends e3{fromBuffer(e){let t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),r=new Uint8Array(t);for(let e=0;e<r.length;e+=4)r[e]=r[e+3],r[e+1]=r[e+2],r[e+2]=0,r[e+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(4*t);for(let n=0;n<t;n++){let t=new Uint8Array(J(e.charCodeAt(n),8));if(t.length>4)continue;let i=4-t.length;for(let e=t.length-1;e>=0;e--)r[4*n+e+i]=t[e]}this.valueBlock.value=e}}e9.NAME="UniversalStringValueBlock";class te extends e9{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}v=te,(()=>{eE.UniversalString=v})(),te.NAME="UniversalString";class tt extends e3{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}b=tt,(()=>{eE.NumericString=b})(),tt.NAME="NumericString";class tr extends e3{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}E=tr,(()=>{eE.PrintableString=E})(),tr.NAME="PrintableString";class tn extends e3{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}A=tn,(()=>{eE.TeletexString=A})(),tn.NAME="TeletexString";class ti extends e3{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}S=ti,(()=>{eE.VideotexString=S})(),ti.NAME="VideotexString";class to extends e3{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}k=to,(()=>{eE.IA5String=k})(),to.NAME="IA5String";class ta extends e3{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}B=ta,(()=>{eE.GraphicString=B})(),ta.NAME="GraphicString";class ts extends e3{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}x=ts,(()=>{eE.VisibleString=x})(),ts.NAME="VisibleString";class tc extends e3{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}_=tc,(()=>{eE.GeneralString=_})(),tc.NAME="GeneralString";class tu extends e3{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}P=tu,(()=>{eE.CharacterString=P})(),tu.NAME="CharacterString";class tl extends ts{constructor({value:e,valueDate:t,...r}={}){if(super(r),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let t=0;t<e.length;t++)this.valueBlock.valueHexView[t]=e.charCodeAt(t)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,D.vJ.toUint8Array(e)))}toBuffer(){let e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){let t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(null===t){this.error="Wrong input string for conversion";return}let r=parseInt(t[1],10);r>=50?this.year=1900+r:this.year=2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(e="iso"){if("iso"===e){let e=Array(7);return e[0]=$(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=$(this.month,2),e[2]=$(this.day,2),e[3]=$(this.hour,2),e[4]=$(this.minute,2),e[5]=$(this.second,2),e[6]="Z",e.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}C=tl,(()=>{eE.UTCTime=C})(),tl.NAME="UTCTime";class tf extends tl{constructor(e={}){var t;super(e),null!==(t=this.millisecond)&&void 0!==t||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t,r=!1,n="",i="",o=0,a=0,s=0;if("Z"===e[e.length-1])n=e.substring(0,e.length-1),r=!0;else{if(isNaN(new Number(e[e.length-1]).valueOf()))throw Error("Wrong input string for conversion");n=e}if(r){if(-1!==n.indexOf("+")||-1!==n.indexOf("-"))throw Error("Wrong input string for conversion")}else{let e=1,t=n.indexOf("+"),r="";if(-1===t&&(t=n.indexOf("-"),e=-1),-1!==t){if(r=n.substring(t+1),n=n.substring(0,t),2!==r.length&&4!==r.length)throw Error("Wrong input string for conversion");let i=parseInt(r.substring(0,2),10);if(isNaN(i.valueOf()))throw Error("Wrong input string for conversion");if(a=e*i,4===r.length){if(isNaN((i=parseInt(r.substring(2,4),10)).valueOf()))throw Error("Wrong input string for conversion");s=e*i}}}let c=n.indexOf(".");if(-1===c&&(c=n.indexOf(",")),-1!==c){let e=new Number(`0${n.substring(c)}`);if(isNaN(e.valueOf()))throw Error("Wrong input string for conversion");o=e.valueOf(),i=n.substring(0,c)}else i=n;switch(!0){case 8===i.length:if(t=/(\d{4})(\d{2})(\d{2})/ig,-1!==c)throw Error("Wrong input string for conversion");break;case 10===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,-1!==c){let e=60*o;this.minute=Math.floor(e),e=60*(e-this.minute),this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 12===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==c){let e=60*o;this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 14===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==c){let e=1e3*o;this.millisecond=Math.floor(e)}break;default:throw Error("Wrong input string for conversion")}let u=t.exec(i);if(null===u)throw Error("Wrong input string for conversion");for(let e=1;e<u.length;e++)switch(e){case 1:this.year=parseInt(u[e],10);break;case 2:this.month=parseInt(u[e],10);break;case 3:this.day=parseInt(u[e],10);break;case 4:this.hour=parseInt(u[e],10)+a;break;case 5:this.minute=parseInt(u[e],10)+s;break;case 6:this.second=parseInt(u[e],10);break;default:throw Error("Wrong input string for conversion")}if(!1===r){let e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear(),this.month=e.getUTCMonth(),this.day=e.getUTCDay(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}}toString(e="iso"){if("iso"===e){let e=[];return e.push($(this.year,4)),e.push($(this.month,2)),e.push($(this.day,2)),e.push($(this.hour,2)),e.push($(this.minute,2)),e.push($(this.second,2)),0!==this.millisecond&&(e.push("."),e.push($(this.millisecond,3))),e.push("Z"),e.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}O=tf,(()=>{eE.GeneralizedTime=O})(),tf.NAME="GeneralizedTime";class th extends e4{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}R=th,(()=>{eE.DATE=R})(),th.NAME="DATE";class tp extends e4{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}U=tp,(()=>{eE.TimeOfDay=U})(),tp.NAME="TimeOfDay";class ty extends e4{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}T=ty,(()=>{eE.DateTime=T})(),ty.NAME="DateTime";class td extends e4{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}K=td,(()=>{eE.Duration=K})(),td.NAME="Duration";class tg extends e4{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}N=tg,(()=>{eE.TIME=N})(),tg.NAME="TIME";class tm{constructor({name:e=el,optional:t=!1}={}){this.name=e,this.optional=t}}class tw extends tm{constructor({value:e=[],...t}={}){super(t),this.value=e}}class tv extends tm{constructor({value:e=new tm,local:t=!1,...r}={}){super(r),this.value=e,this.local=t}}class tb{constructor({data:e=eh}={}){this.dataView=D.vJ.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=D.vJ.toUint8Array(e)}fromBER(e,t,r){let n=t+r;return this.dataView=D.vJ.toUint8Array(e).subarray(t,n),n}toBER(e){return this.dataView.slice().buffer}}function tE(e,t,r){if(r instanceof tw){for(let n=0;n<r.value.length;n++)if(tE(e,t,r.value[n]).verified)return{verified:!0,result:e};{let e={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(ee)&&(e.name=r.name),e}}if(r instanceof tm)return r.hasOwnProperty(ee)&&(e[r.name]=t),{verified:!0,result:e};if(e instanceof Object==!1)return{verified:!1,result:{error:"Wrong root object"}};if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(r instanceof Object==!1||en in r==!1||es in r.idBlock==!1||ec in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let n=r.idBlock.toBER(!1);if(0===n.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===r.idBlock.fromBER(n,0,n.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===r.idBlock.hasOwnProperty(ei))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty(eo))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty(ea))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!(er in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(r.idBlock.isHexOnly){if(et in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let n=r.idBlock.valueHexView,i=t.idBlock.valueHexView;if(n.length!==i.length)return{verified:!1,result:e};for(let t=0;t<n.length;t++)if(n[t]!==i[1])return{verified:!1,result:e}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,el),r.name&&(e[r.name]=t)),r instanceof eE.Constructed){let n=0,i={verified:!1,result:{error:"Unknown error"}},o=r.valueBlock.value.length;if(o>0&&r.valueBlock.value[0]instanceof tv&&(o=t.valueBlock.value.length),0===o)return{verified:!0,result:e};if(0===t.valueBlock.value.length&&0!==r.valueBlock.value.length){let t=!0;for(let e=0;e<r.valueBlock.value.length;e++)t=t&&(r.valueBlock.value[e].optional||!1);return t?{verified:!0,result:e}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,el),r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let a=0;a<o;a++)if(a-n>=t.valueBlock.value.length){if(!1===r.valueBlock.value[a].optional){let t={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,el),r.name&&(delete e[r.name],t.name=r.name)),t}}else if(r.valueBlock.value[0]instanceof tv){if(!1===(i=tE(e,t.valueBlock.value[a],r.valueBlock.value[0].value)).verified){if(!r.valueBlock.value[0].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,el),r.name&&delete e[r.name]),i;n++}if(ee in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let n={};void 0===(n=eu in r.valueBlock.value[0]&&r.valueBlock.value[0].local?t:e)[r.valueBlock.value[0].name]&&(n[r.valueBlock.value[0].name]=[]),n[r.valueBlock.value[0].name].push(t.valueBlock.value[a])}}else if(!1===(i=tE(e,t.valueBlock.value[a-n],r.valueBlock.value[a])).verified){if(!r.valueBlock.value[a].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,el),r.name&&delete e[r.name]),i;n++}if(!1===i.verified){let t={verified:!1,result:e};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,el),r.name&&(delete e[r.name],t.name=r.name)),t}return{verified:!0,result:e}}if(r.primitiveSchema&&et in t.valueBlock){let n=eP(t.valueBlock.valueHexView);if(-1===n.offset){let t={verified:!1,result:n.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,el),r.name&&(delete e[r.name],t.name=r.name)),t}return tE(e,n.result,r.primitiveSchema)}return{verified:!0,result:e}}function tA(e,t){if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let r=eP(D.vJ.toUint8Array(e));return -1===r.offset?{verified:!1,result:r.result}:tE(r.result,r.result,t)}!function(e){e[e.Sequence=0]="Sequence",e[e.Set=1]="Set",e[e.Choice=2]="Choice"}(I||(I={})),function(e){e[e.Any=1]="Any",e[e.Boolean=2]="Boolean",e[e.OctetString=3]="OctetString",e[e.BitString=4]="BitString",e[e.Integer=5]="Integer",e[e.Enumerated=6]="Enumerated",e[e.ObjectIdentifier=7]="ObjectIdentifier",e[e.Utf8String=8]="Utf8String",e[e.BmpString=9]="BmpString",e[e.UniversalString=10]="UniversalString",e[e.NumericString=11]="NumericString",e[e.PrintableString=12]="PrintableString",e[e.TeletexString=13]="TeletexString",e[e.VideotexString=14]="VideotexString",e[e.IA5String=15]="IA5String",e[e.GraphicString=16]="GraphicString",e[e.VisibleString=17]="VisibleString",e[e.GeneralString=18]="GeneralString",e[e.CharacterString=19]="CharacterString",e[e.UTCTime=20]="UTCTime",e[e.GeneralizedTime=21]="GeneralizedTime",e[e.DATE=22]="DATE",e[e.TimeOfDay=23]="TimeOfDay",e[e.DateTime=24]="DateTime",e[e.Duration=25]="Duration",e[e.TIME=26]="TIME",e[e.Null=27]="Null"}(H||(H={}));let tS={fromASN:e=>e instanceof eN?null:e.valueBeforeDecodeView,toASN:e=>{if(null===e)return new eN;let t=eC(e);if(t.result.error)throw Error(t.result.error);return t.result}},tk={fromASN:e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,toASN:e=>new eG({value:+e})},tB={fromASN:e=>e.valueBlock.valueDec,toASN:e=>new e$({value:e})},tx={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new eM({valueHex:e})},t_={fromASN:e=>e.valueBlock.toString(),toASN:e=>new eY({value:e})},tP={fromASN:e=>e.valueBlock.value,toASN:e=>new eH({value:e})},tC={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new ej({valueHex:e})};function tO(e){return{fromASN:e=>e.valueBlock.value,toASN:t=>new e({value:t})}}let tR=tO(e4),tU=tO(e7),tT=tO(te),tK=tO(tt),tN=tO(tr),tI=tO(tn),tH=tO(ti),tL=tO(to),tj=tO(ta),tD=tO(ts),tM=tO(tc),tJ=tO(tu),tF={fromASN:e=>e.toDate(),toASN:e=>new tl({valueDate:e})},tW={fromASN:e=>e.toDate(),toASN:e=>new tf({valueDate:e})},tV={fromASN:()=>null,toASN:()=>new eN};function tG(e){switch(e){case H.Any:return tS;case H.BitString:return tx;case H.BmpString:return tU;case H.Boolean:return tP;case H.CharacterString:return tJ;case H.Enumerated:return tB;case H.GeneralString:return tM;case H.GeneralizedTime:return tW;case H.GraphicString:return tj;case H.IA5String:return tL;case H.Integer:return tk;case H.Null:return tV;case H.NumericString:return tK;case H.ObjectIdentifier:return t_;case H.OctetString:return tC;case H.PrintableString:return tN;case H.TeletexString:return tI;case H.UTCTime:return tF;case H.UniversalString:return tT;case H.Utf8String:return tR;case H.VideotexString:return tH;case H.VisibleString:return tD;default:return null}}function t$(e){return"function"==typeof e&&e.prototype?!!e.prototype.toASN&&!!e.prototype.fromASN||t$(e.prototype):!!(e&&"object"==typeof e&&"toASN"in e&&"fromASN"in e)}function tz(e){var t;if(e){let r=Object.getPrototypeOf(e);return(null===(t=null==r?void 0:r.prototype)||void 0===t?void 0:t.constructor)===Array||tz(r)}return!1}function tq(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),n=new Uint8Array(t);for(let t=0;t<e.byteLength;t++)if(r[t]!==n[t])return!1;return!0}class tY{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){let r=this.items.get(e);if(!r)throw Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!r.schema)throw Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return r}cache(e){let t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){let t={type:I.Sequence,items:{}},r=this.findParentSchema(e);return r&&(Object.assign(t,r),t.items=Object.assign({},t.items,r.items)),t}create(e,t){let r=this.items.get(e)||this.createDefault(e),n=[];for(let e in r.items){let i;let o=r.items[e],a=t?e:"";if("number"==typeof o.type){let e=H[o.type],t=j[e];if(!t)throw Error(`Cannot get ASN1 class by name '${e}'`);i=new t({name:a})}else t$(o.type)?i=new o.type().toSchema(a):o.optional?this.get(o.type).type===I.Choice?i=new tm({name:a}):(i=this.create(o.type,!1)).name=a:i=new tm({name:a});let s=!!o.optional||void 0!==o.defaultValue;if(o.repeated&&(i.name="",i=new("set"===o.repeated?e1:e0)({name:"",value:[new tv({name:a,value:i})]})),null!==o.context&&void 0!==o.context){if(o.implicit){if("number"==typeof o.type||t$(o.type)){let e=o.repeated?eU:ex;n.push(new e({name:a,optional:s,idBlock:{tagClass:3,tagNumber:o.context}}))}else{this.cache(o.type);let e=!!o.repeated,t=e?i:this.get(o.type,!0).schema;t="valueBlock"in t?t.valueBlock.value:t.value,n.push(new eU({name:e?"":a,optional:s,idBlock:{tagClass:3,tagNumber:o.context},value:t}))}}else n.push(new eU({optional:s,idBlock:{tagClass:3,tagNumber:o.context},value:[i]}))}else i.optional=s,n.push(i)}switch(r.type){case I.Sequence:return new e0({value:n,name:""});case I.Set:return new e1({value:n,name:""});case I.Choice:return new tw({value:n,name:""});default:throw Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){let t=Object.getPrototypeOf(e);return t?this.items.get(t)||this.findParentSchema(t):null}}let tX=new tY,tZ=e=>t=>{let r;tX.has(t)?r=tX.get(t):(r=tX.createDefault(t),tX.set(t,r)),Object.assign(r,e)},tQ=e=>(t,r)=>{let n;tX.has(t.constructor)?n=tX.get(t.constructor):(n=tX.createDefault(t.constructor),tX.set(t.constructor,n));let i=Object.assign({},e);if("number"==typeof i.type&&!i.converter){let n=tG(e.type);if(!n)throw Error(`Cannot get default converter for property '${r}' of ${t.constructor.name}`);i.converter=n}n.items[r]=i};class t0 extends Error{constructor(){super(...arguments),this.schemas=[]}}class t1{static parse(e,t){let r=eC(e);if(r.result.error)throw Error(r.result.error);return this.fromASN(r.result,t)}static fromASN(e,t){var r;try{if(t$(t))return new t().fromASN(e);let n=tX.get(t);tX.cache(t);let i=n.schema;if(e.constructor===eU&&n.type!==I.Choice)for(let t in i=new eU({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:n.schema.valueBlock.value}),n.items)delete e[t];let o=tE({},e,i);if(!o.verified)throw new t0(`Data does not match to ${t.name} ASN1 schema. ${o.result.error}`);let a=new t;if(tz(t)){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let r=n.itemType;if("number"!=typeof r)return t.from(e.valueBlock.value,e=>this.fromASN(e,r));{let n=tG(r);if(!n)throw Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);return t.from(e.valueBlock.value,e=>n.fromASN(e))}}for(let e in n.items){let t=o.result[e];if(!t)continue;let i=n.items[e],s=i.type;if("number"==typeof s||t$(s)){let n=null!==(r=i.converter)&&void 0!==r?r:t$(s)?new s:null;if(!n)throw Error("Converter is empty");if(i.repeated){if(i.implicit){let r=new("sequence"===i.repeated?e0:e1);r.valueBlock=t.valueBlock;let o=eC(r.toBER(!1));if(-1===o.offset)throw Error(`Cannot parse the child item. ${o.result.error}`);if(!("value"in o.result.valueBlock&&Array.isArray(o.result.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let s=o.result.valueBlock.value;a[e]=Array.from(s,e=>n.fromASN(e))}else a[e]=Array.from(t,e=>n.fromASN(e))}else{let r=t;if(i.implicit){let e;if(t$(s))e=new s().toSchema("");else{let t=H[s],r=j[t];if(!r)throw Error(`Cannot get '${t}' class from asn1js module`);e=new r}e.valueBlock=r.valueBlock,r=eC(e.toBER(!1)).result}a[e]=n.fromASN(r)}}else if(i.repeated){if(!Array.isArray(t))throw Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");a[e]=Array.from(t,e=>this.fromASN(e,s))}else a[e]=this.fromASN(t,s)}return a}catch(e){throw e instanceof t0&&e.schemas.push(t.name),e}}}class t2{static serialize(e){return e instanceof eA?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){let t;if(e&&"object"==typeof e&&t$(e))return e.toASN();if(!(e&&"object"==typeof e))throw TypeError("Parameter 1 should be type of Object.");let r=e.constructor,n=tX.get(r);tX.cache(r);let i=[];if(n.itemType){if(!Array.isArray(e))throw TypeError("Parameter 1 should be type of Array.");if("number"==typeof n.itemType){let t=tG(n.itemType);if(!t)throw Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);i=e.map(e=>t.toASN(e))}else i=e.map(e=>this.toAsnItem({type:n.itemType},"[]",r,e))}else for(let t in n.items){let o=n.items[t],a=e[t];if(void 0===a||o.defaultValue===a||"object"==typeof o.defaultValue&&"object"==typeof a&&tq(this.serialize(o.defaultValue),this.serialize(a)))continue;let s=t2.toAsnItem(o,t,r,a);if("number"==typeof o.context){if(o.implicit){if(!o.repeated&&("number"==typeof o.type||t$(o.type))){let e={};e.valueHex=s instanceof eN?s.valueBeforeDecodeView:s.valueBlock.toBER(),i.push(new ex({optional:o.optional,idBlock:{tagClass:3,tagNumber:o.context},...e}))}else i.push(new eU({optional:o.optional,idBlock:{tagClass:3,tagNumber:o.context},value:s.valueBlock.value}))}else i.push(new eU({optional:o.optional,idBlock:{tagClass:3,tagNumber:o.context},value:[s]}))}else o.repeated?i=i.concat(s):i.push(s)}switch(n.type){case I.Sequence:t=new e0({value:i});break;case I.Set:t=new e1({value:i});break;case I.Choice:if(!i[0])throw Error(`Schema '${r.name}' has wrong data. Choice cannot be empty.`);t=i[0]}return t}static toAsnItem(e,t,r,n){let i;if("number"==typeof e.type){let o=e.converter;if(!o)throw Error(`Property '${t}' doesn't have converter for type ${H[e.type]} in schema '${r.name}'`);if(e.repeated){if(!Array.isArray(n))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(n,e=>o.toASN(e));i=new("sequence"===e.repeated?e0:e1)({value:t})}else i=o.toASN(n)}else if(e.repeated){if(!Array.isArray(n))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(n,e=>this.toASN(e));i=new("sequence"===e.repeated?e0:e1)({value:t})}else i=this.toASN(n);return i}}class t8{static serialize(e){return t2.serialize(e)}static parse(e,t){return t1.parse(e,t)}static toString(e){let t=eC(D.vJ.isBufferSource(e)?D.vJ.toArrayBuffer(e):t8.serialize(e));if(-1===t.offset)throw Error(`Cannot decode ASN.1 data. ${t.result.error}`);return t.result.toString()}}var t3=r(3176);class t6 extends Error{constructor(e,t){super(t?`${e}. See the inner exception for more details.`:e),this.message=e,this.innerError=t}}class t4 extends t6{constructor(e,t,r){super(t,r),this.schema=e}}class t5 extends t4{constructor(e,t,r){super(e,`JSON doesn't match to '${e.target.name}' schema. ${t}`,r)}}class t7 extends t6{}class t9 extends t6{constructor(e,t,r){super(`Cannot serialize by '${e}' schema. ${t}`,r),this.schemaName=e}}class re extends t5{constructor(e,t,r={}){super(e,"Some keys doesn't match to schema"),this.keys=t,this.errors=r}}function rt(e,t){switch(t){case L.Boolean:return"boolean"==typeof e;case L.Number:return"number"==typeof e;case L.String:return"string"==typeof e}return!0}function rr(e,t){if(!rt(e,t))throw TypeError(`Value must be ${L[t]}`)}function rn(e){return e&&e.prototype?!!e.prototype.toJSON&&!!e.prototype.fromJSON||rn(e.prototype):!!(e&&e.toJSON&&e.fromJSON)}!function(e){e[e.Any=0]="Any",e[e.Boolean=1]="Boolean",e[e.Number=2]="Number",e[e.String=3]="String"}(L||(L={}));class ri{constructor(){this.items=new Map}has(e){return this.items.has(e)||!!this.findParentSchema(e)}get(e){let t=this.items.get(e)||this.findParentSchema(e);if(!t)throw Error("Cannot get schema for current target");return t}create(e){let t={names:{}},r=this.findParentSchema(e);if(r)for(let e in Object.assign(t,r),t.names={},r.names)t.names[e]=Object.assign({},r.names[e]);return t.target=e,t}set(e,t){return this.items.set(e,t),this}findParentSchema(e){let t=e.__proto__;return t?this.items.get(t)||this.findParentSchema(t):null}}let ro="default",ra=new ri;class rs{constructor(e){this.pattern=new RegExp(e)}validate(e){let t=new RegExp(this.pattern.source,this.pattern.flags);if("string"!=typeof e)throw new t7("Incoming value must be string");if(!t.exec(e))throw new t7(`Value doesn't match to pattern '${t.toString()}'`)}}class rc{constructor(e=Number.MIN_VALUE,t=Number.MAX_VALUE){this.min=e,this.max=t}validate(e){if(rr(e,L.Number),!(this.min<=e&&e<=this.max)){let e=this.min===Number.MIN_VALUE?"MIN":this.min,t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new t7(`Value doesn't match to diapason [${e},${t}]`)}}}class ru{constructor(e=Number.MIN_VALUE,t=Number.MAX_VALUE){this.min=e,this.max=t}validate(e){if(rr(e,L.Number),!(this.min<e&&e<this.max)){let e=this.min===Number.MIN_VALUE?"MIN":this.min,t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new t7(`Value doesn't match to diapason (${e},${t})`)}}}class rl{constructor(e,t,r){this.length=e,this.minLength=t,this.maxLength=r}validate(e){if(void 0!==this.length){if(e.length!==this.length)throw new t7(`Value length must be exactly ${this.length}.`);return}if(void 0!==this.minLength&&e.length<this.minLength)throw new t7(`Value length must be more than ${this.minLength}.`);if(void 0!==this.maxLength&&e.length>this.maxLength)throw new t7(`Value length must be less than ${this.maxLength}.`)}}class rf{constructor(e){this.enumeration=e}validate(e){if(rr(e,L.String),!this.enumeration.includes(e))throw new t7(`Value must be one of ${this.enumeration.map(e=>`'${e}'`).join(", ")}`)}}class rh{static checkValues(e,t){for(let r of Array.isArray(e)?e:[e])for(let n of t.validations)n instanceof rl&&t.repeated?n.validate(e):n.validate(r)}static checkTypes(e,t){if(t.repeated&&!Array.isArray(e))throw TypeError("Value must be Array");if("number"==typeof t.type)for(let r of Array.isArray(e)?e:[e])rr(r,t.type)}static getSchemaByName(e,t=ro){return{...e.names[ro],...e.names[t]}}}class rp extends rh{static serialize(e,t,r,n){return JSON.stringify(this.toJSON(e,t),r,n)}static toJSON(e,t={}){let r;let n=t.targetSchema,i=t.schemaName||ro;if(rn(e))return e.toJSON();if(Array.isArray(e))for(let n of(r=[],e))r.push(this.toJSON(n,t));else if("object"==typeof e){if(n&&!ra.has(n))throw new t6("Cannot get schema for `targetSchema` param");if(n=n||e.constructor,ra.has(n)){let t=ra.get(n);r={};let o=this.getSchemaByName(t,i);for(let a in o)try{let t;let s=o[a],c=e[a];if(s.optional&&void 0===c||void 0!==s.defaultValue&&c===s.defaultValue)continue;if(!s.optional&&void 0===c)throw new t9(n.name,`Property '${a}' is required.`);t="number"==typeof s.type?s.converter?s.repeated?c.map(t=>s.converter.toJSON(t,e)):s.converter.toJSON(c,e):c:s.repeated?c.map(e=>this.toJSON(e,{schemaName:i})):this.toJSON(c,{schemaName:i}),this.checkTypes(t,s),this.checkValues(t,s),r[s.name||a]=t}catch(e){if(e instanceof t9)throw e;throw new t9(t.target.name,`Property '${a}' is wrong. ${e.message}`,e)}}else for(let t in r={},e)r[t]=this.toJSON(e[t],{schemaName:i})}else r=e;return r}}class ry extends rh{static parse(e,t){let r=JSON.parse(e);return this.fromJSON(r,t)}static fromJSON(e,t){let r=t.targetSchema,n=t.schemaName||ro,i=new r;if(rn(i))return i.fromJSON(e);let o=ra.get(r),a=this.getSchemaByName(o,n),s={};for(let r in t.strictProperty&&!Array.isArray(e)&&ry.checkStrictProperty(e,a,o),a)try{let s=a[r],c=s.name||r,u=e[c];if(void 0===u&&(s.optional||void 0!==s.defaultValue))continue;if(!s.optional&&void 0===u)throw new t5(o,`Property '${c}' is required.`);if(this.checkTypes(u,s),this.checkValues(u,s),"number"==typeof s.type)s.converter?s.repeated?i[r]=u.map(e=>s.converter.fromJSON(e,i)):i[r]=s.converter.fromJSON(u,i):i[r]=u;else{let e={...t,targetSchema:s.type,schemaName:n};s.repeated?i[r]=u.map(t=>this.fromJSON(t,e)):i[r]=this.fromJSON(u,e)}}catch(e){if(e instanceof t5||(e=new t5(o,`Property '${r}' is wrong. ${e.message}`,e)),t.strictAllKeys)s[r]=e;else throw e}let c=Object.keys(s);if(c.length)throw new re(o,c,s);return i}static checkStrictProperty(e,t,r){let n=Object.keys(e),i=Object.keys(t),o=[];for(let e of n)-1===i.indexOf(e)&&o.push(e);if(o.length)throw new re(r,o)}}function rd(e){let t=[];return e.pattern&&t.push(new rs(e.pattern)),(e.type===L.Number||e.type===L.Any)&&((void 0!==e.minInclusive||void 0!==e.maxInclusive)&&t.push(new rc(e.minInclusive,e.maxInclusive)),(void 0!==e.minExclusive||void 0!==e.maxExclusive)&&t.push(new ru(e.minExclusive,e.maxExclusive)),void 0!==e.enumeration&&t.push(new rf(e.enumeration))),(e.type===L.String||e.repeated||e.type===L.Any)&&(void 0!==e.length||void 0!==e.minLength||void 0!==e.maxLength)&&t.push(new rl(e.length,e.minLength,e.maxLength)),t}let rg=(e={})=>(t,r)=>{let n,i;let o=`Cannot set type for ${r} property of ${t.constructor.name} schema`;ra.has(t.constructor)?(n=ra.get(t.constructor)).target!==t.constructor&&(n=ra.create(t.constructor),ra.set(t.constructor,n)):(n=ra.create(t.constructor),ra.set(t.constructor,n));let a=Object.assign({type:L.Any,validations:[]},e);if(a.validations=rd(a),"number"!=typeof a.type&&!ra.has(a.type)&&!rn(a.type))throw Error(`${o}. Assigning type doesn't have schema.`);for(let t of i=Array.isArray(e.schema)?e.schema:[e.schema||ro])n.names[t]||(n.names[t]={}),n.names[t][r]=a};/*!
 Copyright (c) Peculiar Ventures, LLC
*/class rm extends Error{}class rw extends rm{}class rv extends rm{constructor(e){super(`Unsupported operation: ${e?`${e}`:""}`)}}class rb extends rm{}class rE extends rm{constructor(e){super(`${e}: Missing required property`)}}class rA{static toArrayBuffer(e){let t=e.replace(/-{5}(BEGIN|END) .*-{5}/g,"").replace("\r","").replace("\n","");return D.ep.FromBase64(t)}static toUint8Array(e){return new Uint8Array(this.toArrayBuffer(e))}static fromBufferSource(e,t){let r;let n=D.ep.ToBase64(e),i=0,o=[];for(;i<n.length&&(r=n.slice(i,i+64)).length;)o.push(r),i+=64;let a=t.toUpperCase();return`-----BEGIN ${a}-----
${o.join("\n")}
-----END ${a}-----`}static isPEM(e){return/-----BEGIN .+-----[A-Za-z0-9+/+=\s\n]+-----END .+-----/i.test(e)}static getTagName(e){if(!this.isPEM(e))throw Error("Bad parameter. Incoming data is not right PEM");let t=/-----BEGIN (.+)-----/.exec(e);if(!t)throw Error("Cannot get tag from PEM");return t[1]}static hasTagName(e,t){let r=this.getTagName(e);return t.toLowerCase()===r.toLowerCase()}static isCertificate(e){return this.hasTagName(e,"certificate")}static isCertificateRequest(e){return this.hasTagName(e,"certificate request")}static isCRL(e){return this.hasTagName(e,"x509 crl")}static isPublicKey(e){return this.hasTagName(e,"public key")}}function rS(e){return"object"==typeof e&&"kty"in e}class rk{async digest(...e){return this.checkDigest.apply(this,e),this.onDigest.apply(this,e)}checkDigest(e,t){this.checkAlgorithmName(e)}async onDigest(e,t){throw new rv("digest")}async generateKey(...e){return this.checkGenerateKey.apply(this,e),this.onGenerateKey.apply(this,e)}checkGenerateKey(e,t,r,...n){let i;if(this.checkAlgorithmName(e),this.checkGenerateKeyParams(e),!(r&&r.length))throw TypeError("Usages cannot be empty when creating a key.");i=Array.isArray(this.usages)?this.usages:this.usages.privateKey.concat(this.usages.publicKey),this.checkKeyUsages(r,i)}checkGenerateKeyParams(e){}async onGenerateKey(e,t,r,...n){throw new rv("generateKey")}async sign(...e){return this.checkSign.apply(this,e),this.onSign.apply(this,e)}checkSign(e,t,r,...n){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,"sign")}async onSign(e,t,r,...n){throw new rv("sign")}async verify(...e){return this.checkVerify.apply(this,e),this.onVerify.apply(this,e)}checkVerify(e,t,r,n,...i){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,"verify")}async onVerify(e,t,r,n,...i){throw new rv("verify")}async encrypt(...e){return this.checkEncrypt.apply(this,e),this.onEncrypt.apply(this,e)}checkEncrypt(e,t,r,n={},...i){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,n.keyUsage?"encrypt":void 0)}async onEncrypt(e,t,r,...n){throw new rv("encrypt")}async decrypt(...e){return this.checkDecrypt.apply(this,e),this.onDecrypt.apply(this,e)}checkDecrypt(e,t,r,n={},...i){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,n.keyUsage?"decrypt":void 0)}async onDecrypt(e,t,r,...n){throw new rv("decrypt")}async deriveBits(...e){return this.checkDeriveBits.apply(this,e),this.onDeriveBits.apply(this,e)}checkDeriveBits(e,t,r,n={},...i){if(this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,n.keyUsage?"deriveBits":void 0),r%8!=0)throw new rb("length: Is not multiple of 8")}async onDeriveBits(e,t,r,...n){throw new rv("deriveBits")}async exportKey(...e){return this.checkExportKey.apply(this,e),this.onExportKey.apply(this,e)}checkExportKey(e,t,...r){if(this.checkKeyFormat(e),this.checkCryptoKey(t),!t.extractable)throw new rm("key: Is not extractable")}async onExportKey(e,t,...r){throw new rv("exportKey")}async importKey(...e){return this.checkImportKey.apply(this,e),this.onImportKey.apply(this,e)}checkImportKey(e,t,r,n,i,...o){this.checkKeyFormat(e),this.checkKeyData(e,t),this.checkAlgorithmName(r),this.checkImportParams(r),Array.isArray(this.usages)&&this.checkKeyUsages(i,this.usages)}async onImportKey(e,t,r,n,i,...o){throw new rv("importKey")}checkAlgorithmName(e){if(e.name.toLowerCase()!==this.name.toLowerCase())throw new rw("Unrecognized name")}checkAlgorithmParams(e){}checkDerivedKeyParams(e){}checkKeyUsages(e,t){for(let r of e)if(-1===t.indexOf(r))throw TypeError("Cannot create a key using the specified key usages")}checkCryptoKey(e,t){if(this.checkAlgorithmName(e.algorithm),t&&-1===e.usages.indexOf(t))throw new rm("key does not match that of operation")}checkRequiredProperty(e,t){if(!(t in e))throw new rE(t)}checkHashAlgorithm(e,t){for(let r of t)if(r.toLowerCase()===e.name.toLowerCase())return;throw new rb(`hash: Must be one of ${t.join(", ")}`)}checkImportParams(e){}checkKeyFormat(e){switch(e){case"raw":case"pkcs8":case"spki":case"jwk":break;default:throw TypeError("format: Is invalid value. Must be 'jwk', 'raw', 'spki', or 'pkcs8'")}}checkKeyData(e,t){if(!t)throw TypeError("keyData: Cannot be empty on empty on key importing");if("jwk"===e){if(!rS(t))throw TypeError("keyData: Is not JsonWebToken")}else if(!D.vJ.isBufferSource(t))throw TypeError("keyData: Is not ArrayBufferView or ArrayBuffer")}prepareData(e){return D.vJ.toArrayBuffer(e)}}class rB extends rk{checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not of type Number");switch(e.length){case 128:case 192:case 256:break;default:throw TypeError("length: Must be 128, 192, or 256")}}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class rx extends rB{constructor(){super(...arguments),this.name="AES-CBC",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==e.iv.byteLength)throw TypeError("iv: Must have length 16 bytes")}}class r_ extends rB{constructor(){super(...arguments),this.name="AES-CMAC",this.usages=["sign","verify"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw new rb("length: Must be more than 0")}}class rP extends rB{constructor(){super(...arguments),this.name="AES-CTR",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"counter"),!(e.counter instanceof ArrayBuffer||ArrayBuffer.isView(e.counter)))throw TypeError("counter: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==e.counter.byteLength)throw TypeError("iv: Must have length 16 bytes");if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw new rb("length: Must be more than 0")}}class rC extends rB{constructor(){super(...arguments),this.name="AES-ECB",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}}class rO extends rB{constructor(){super(...arguments),this.name="AES-GCM",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){var t;if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength<1)throw new rb("iv: Must have length more than 0 and less than 2^64 - 1");switch(null!==(t=e.tagLength)&&void 0!==t||(e.tagLength=128),e.tagLength){case 32:case 64:case 96:case 104:case 112:case 120:case 128:break;default:throw new rb("tagLength: Must be one of 32, 64, 96, 104, 112, 120 or 128")}}}class rR extends rB{constructor(){super(...arguments),this.name="AES-KW",this.usages=["wrapKey","unwrapKey"]}}class rU extends rk{constructor(){super(...arguments),this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.ivSize){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength!==this.ivSize)throw TypeError(`iv: Must have length ${this.ivSize} bytes`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not of type Number");if(e.length!==this.keySizeBits)throw new rb(`algorithm.length: Must be ${this.keySizeBits}`)}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class rT extends rk{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"]}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw TypeError("publicExponent: Missing or not a Uint8Array");let t=D.ep.ToBase64(e.publicExponent);if(!("Aw=="===t||"AQAB"===t))throw TypeError("publicExponent: Must be [3] or [1,0,1]");if(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength%8||e.modulusLength<256||e.modulusLength>16384)throw TypeError("The modulus length must be a multiple of 8 bits and >= 256 and <= 16384")}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class rK extends rT{constructor(){super(...arguments),this.name="RSASSA-PKCS1-v1_5",this.usages={privateKey:["sign"],publicKey:["verify"]}}}class rN extends rT{constructor(){super(...arguments),this.name="RSA-PSS",this.usages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"saltLength"),"number"!=typeof e.saltLength)throw TypeError("saltLength: Is not a Number");if(e.saltLength<0)throw RangeError("saltLength: Must be positive number")}}class rI extends rT{constructor(){super(...arguments),this.name="RSA-OAEP",this.usages={privateKey:["decrypt","unwrapKey"],publicKey:["encrypt","wrapKey"]}}checkAlgorithmParams(e){if(e.label&&!(e.label instanceof ArrayBuffer||ArrayBuffer.isView(e.label)))throw TypeError("label: Is not of type '(ArrayBuffer or ArrayBufferView)'")}}class rH extends rk{checkGenerateKeyParams(e){this.checkRequiredProperty(e,"namedCurve"),this.checkNamedCurve(e.namedCurve)}checkNamedCurve(e){for(let t of this.namedCurves)if(t.toLowerCase()===e.toLowerCase())return;throw new rb(`namedCurve: Must be one of ${this.namedCurves.join(", ")}`)}}class rL extends rH{constructor(){super(...arguments),this.name="ECDSA",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}let rj=["secret","private","public"];class rD{static create(e,t,r,n){let i=new this;return i.algorithm=e,i.type=t,i.extractable=r,i.usages=n,i}static isKeyType(e){return -1!==rj.indexOf(e)}get[Symbol.toStringTag](){return"CryptoKey"}}class rM extends rH{constructor(){super(...arguments),this.name="ECDH",this.usages={privateKey:["deriveBits","deriveKey"],publicKey:[]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"public"),!(e.public instanceof rD))throw TypeError("public: Is not a CryptoKey");if("public"!==e.public.type)throw new rb("public: Is not a public key");if(e.public.algorithm.name!==this.name)throw new rb(`public: Is not ${this.name} key`)}}class rJ extends rM{constructor(){super(...arguments),this.name="ECDH-ES",this.namedCurves=["X25519","X448"]}}class rF extends rH{constructor(){super(...arguments),this.name="EdDSA",this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["Ed25519","Ed448"]}}let rW=class{constructor(e){e&&(this.value=e)}};(0,t3.gn)([tQ({type:H.ObjectIdentifier})],rW.prototype,"value",void 0),rW=(0,t3.gn)([tZ({type:I.Choice})],rW);class rV{constructor(e){Object.assign(this,e)}}(0,t3.gn)([tQ({type:H.ObjectIdentifier})],rV.prototype,"algorithm",void 0),(0,t3.gn)([tQ({type:H.Any,optional:!0})],rV.prototype,"parameters",void 0);class rG{constructor(){this.version=0,this.privateKeyAlgorithm=new rV,this.privateKey=new ArrayBuffer(0)}}(0,t3.gn)([tQ({type:H.Integer})],rG.prototype,"version",void 0),(0,t3.gn)([tQ({type:rV})],rG.prototype,"privateKeyAlgorithm",void 0),(0,t3.gn)([tQ({type:H.OctetString})],rG.prototype,"privateKey",void 0),(0,t3.gn)([tQ({type:H.Any,optional:!0})],rG.prototype,"attributes",void 0);class r${constructor(){this.publicKeyAlgorithm=new rV,this.publicKey=new ArrayBuffer(0)}}(0,t3.gn)([tQ({type:rV})],r$.prototype,"publicKeyAlgorithm",void 0),(0,t3.gn)([tQ({type:H.BitString})],r$.prototype,"publicKey",void 0);let rz={fromJSON:e=>D.ep.FromBase64Url(e),toJSON:e=>D.ep.ToBase64Url(new Uint8Array(e))},rq={fromASN:e=>new Uint8Array(e.valueBlock.valueHex)[0]?e.valueBlock.valueHex:e.valueBlock.valueHex.slice(1),toASN:e=>new eG({valueHex:new Uint8Array(e)[0]>127?(0,D.$e)(new Uint8Array([0]).buffer,e):e})};class rY{constructor(){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0)}}(0,t3.gn)([tQ({type:H.Integer,converter:tk})],rY.prototype,"version",void 0),(0,t3.gn)([tQ({type:H.Integer,converter:rq}),rg({name:"n",converter:rz})],rY.prototype,"modulus",void 0),(0,t3.gn)([tQ({type:H.Integer,converter:rq}),rg({name:"e",converter:rz})],rY.prototype,"publicExponent",void 0),(0,t3.gn)([tQ({type:H.Integer,converter:rq}),rg({name:"d",converter:rz})],rY.prototype,"privateExponent",void 0),(0,t3.gn)([tQ({type:H.Integer,converter:rq}),rg({name:"p",converter:rz})],rY.prototype,"prime1",void 0),(0,t3.gn)([tQ({type:H.Integer,converter:rq}),rg({name:"q",converter:rz})],rY.prototype,"prime2",void 0),(0,t3.gn)([tQ({type:H.Integer,converter:rq}),rg({name:"dp",converter:rz})],rY.prototype,"exponent1",void 0),(0,t3.gn)([tQ({type:H.Integer,converter:rq}),rg({name:"dq",converter:rz})],rY.prototype,"exponent2",void 0),(0,t3.gn)([tQ({type:H.Integer,converter:rq}),rg({name:"qi",converter:rz})],rY.prototype,"coefficient",void 0),(0,t3.gn)([tQ({type:H.Any,optional:!0})],rY.prototype,"otherPrimeInfos",void 0);class rX{constructor(){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0)}}(0,t3.gn)([tQ({type:H.Integer,converter:rq}),rg({name:"n",converter:rz})],rX.prototype,"modulus",void 0),(0,t3.gn)([tQ({type:H.Integer,converter:rq}),rg({name:"e",converter:rz})],rX.prototype,"publicExponent",void 0);let rZ=class{constructor(e){this.value=new ArrayBuffer(0),e&&(this.value=e)}toJSON(){let e=new Uint8Array(this.value);if(4!==e[0])throw new rm("Wrong ECPoint. Current version supports only Uncompressed (0x04) point");let t=(e=new Uint8Array(this.value.slice(1))).length/2,r=0;return{x:D.ep.ToBase64Url(e.buffer.slice(r,r+t)),y:D.ep.ToBase64Url(e.buffer.slice(r+t,r+t+t))}}fromJSON(e){if(!("x"in e))throw Error("x: Missing required property");if(!("y"in e))throw Error("y: Missing required property");let t=D.ep.FromBase64Url(e.x),r=D.ep.FromBase64Url(e.y),n=(0,D.$e)(new Uint8Array([4]).buffer,t,r);return this.value=new Uint8Array(n).buffer,this}};(0,t3.gn)([tQ({type:H.OctetString})],rZ.prototype,"value",void 0),rZ=(0,t3.gn)([tZ({type:I.Choice})],rZ);class rQ{constructor(){this.version=1,this.privateKey=new ArrayBuffer(0)}fromJSON(e){if(!("d"in e))throw Error("d: Missing required property");if(this.privateKey=D.ep.FromBase64Url(e.d),"x"in e){let t=new rZ;t.fromJSON(e);let r=t2.toASN(t);"valueHex"in r.valueBlock&&(this.publicKey=r.valueBlock.valueHex)}return this}toJSON(){let e={};return e.d=D.ep.ToBase64Url(this.privateKey),this.publicKey&&Object.assign(e,new rZ(this.publicKey).toJSON()),e}}(0,t3.gn)([tQ({type:H.Integer,converter:tk})],rQ.prototype,"version",void 0),(0,t3.gn)([tQ({type:H.OctetString})],rQ.prototype,"privateKey",void 0),(0,t3.gn)([tQ({context:0,type:H.Any,optional:!0})],rQ.prototype,"parameters",void 0),(0,t3.gn)([tQ({context:1,type:H.BitString,optional:!0})],rQ.prototype,"publicKey",void 0);let r0={fromASN:e=>{let t=new Uint8Array(e.valueBlock.valueHex);return 0===t[0]?t.buffer.slice(1):t.buffer},toASN:e=>{let t=new Uint8Array(e);if(t[0]>127){let e=new Uint8Array(t.length+1);return e.set(t,1),new eG({valueHex:e.buffer})}return new eG({valueHex:e})}};var r1=Object.freeze({__proto__:null,AsnIntegerWithoutPaddingConverter:r0});class r2{static decodePoint(e,t){let r=D.vJ.toUint8Array(e);if(0===r.length||4!==r[0])throw Error("Only uncompressed point format supported");let n=(r.length-1)/2;if(n!==Math.ceil(t/8))throw Error("Point does not match field size");return{x:r.slice(1,n+1),y:r.slice(n+1,n+1+n)}}static encodePoint(e,t){let r=Math.ceil(t/8);if(e.x.byteLength!==r||e.y.byteLength!==r)throw Error("X,Y coordinates don't match point size criteria");let n=D.vJ.toUint8Array(e.x),i=D.vJ.toUint8Array(e.y),o=new Uint8Array(2*r+1);return o[0]=4,o.set(n,1),o.set(i,r+1),o}static getSize(e){return Math.ceil(e/8)}static encodeSignature(e,t){let r=this.getSize(t),n=D.vJ.toUint8Array(e.r),i=D.vJ.toUint8Array(e.s),o=new Uint8Array(2*r);return o.set(this.padStart(n,r)),o.set(this.padStart(i,r),r),o}static decodeSignature(e,t){let r=this.getSize(t),n=D.vJ.toUint8Array(e);if(n.length!==2*r)throw Error("Incorrect size of the signature");let i=n.slice(0,r),o=n.slice(r);return{r:this.trimStart(i),s:this.trimStart(o)}}static trimStart(e){let t=0;for(;t<e.length-1&&0===e[t];)t++;return 0===t?e:e.slice(t,e.length)}static padStart(e,t){if(t===e.length)return e;let r=new Uint8Array(t);return r.set(e,t-e.length),r}}class r8{constructor(){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0)}static fromWebCryptoSignature(e){let t=e.byteLength/2,r=r2.decodeSignature(e,8*t),n=new r8;return n.r=D.vJ.toArrayBuffer(r.r),n.s=D.vJ.toArrayBuffer(r.s),n}toWebCryptoSignature(e){if(!e){let t=Math.max(this.r.byteLength,this.s.byteLength);e=t<=32?256:t<=48?384:521}return r2.encodeSignature(this,e).buffer}}(0,t3.gn)([tQ({type:H.Integer,converter:r0})],r8.prototype,"r",void 0),(0,t3.gn)([tQ({type:H.Integer,converter:r0})],r8.prototype,"s",void 0);class r3 extends rG{}(0,t3.gn)([tQ({context:1,implicit:!0,type:H.BitString,optional:!0})],r3.prototype,"publicKey",void 0);let r6=class{constructor(){this.value=new ArrayBuffer(0)}fromJSON(e){if(!e.d)throw Error("d: Missing required property");return this.value=D.ep.FromBase64Url(e.d),this}toJSON(){return{d:D.ep.ToBase64Url(this.value)}}};(0,t3.gn)([tQ({type:H.OctetString})],r6.prototype,"value",void 0),r6=(0,t3.gn)([tZ({type:I.Choice})],r6);let r4=class{constructor(e){this.value=new ArrayBuffer(0),e&&(this.value=e)}toJSON(){return{x:D.ep.ToBase64Url(this.value)}}fromJSON(e){if(!("x"in e))throw Error("x: Missing required property");return this.value=D.ep.FromBase64Url(e.x),this}};(0,t3.gn)([tQ({type:H.BitString})],r4.prototype,"value",void 0),r4=(0,t3.gn)([tZ({type:I.Choice})],r4);let r5=class{};(0,t3.gn)([tQ({type:H.OctetString}),rg({type:L.String,converter:rz})],r5.prototype,"d",void 0),r5=(0,t3.gn)([tZ({type:I.Choice})],r5);let r7="1.2.840.10045.3.1.7",r9="1.3.132.0",ne=`${r9}.34`,nt=`${r9}.35`,nr=`${r9}.10`,nn="1.3.36.3.3.2.8.1.1",ni=`${nn}.1`,no=`${nn}.2`,na=`${nn}.3`,ns=`${nn}.4`,nc=`${nn}.5`,nu=`${nn}.6`,nl=`${nn}.7`,nf=`${nn}.8`,nh=`${nn}.9`,np=`${nn}.10`,ny=`${nn}.11`,nd=`${nn}.12`,ng=`${nn}.13`,nm=`${nn}.14`;var nw=Object.freeze({__proto__:null,AlgorithmIdentifier:rV,get CurvePrivateKey(){return r5},EcDsaSignature:r8,EcPrivateKey:rQ,get EcPublicKey(){return rZ},get EdPrivateKey(){return r6},get EdPublicKey(){return r4},get ObjectIdentifier(){return rW},OneAsymmetricKey:r3,PrivateKeyInfo:rG,PublicKeyInfo:r$,RsaPrivateKey:rY,RsaPublicKey:rX,converters:r1,idBrainpoolP160r1:ni,idBrainpoolP160t1:no,idBrainpoolP192r1:na,idBrainpoolP192t1:ns,idBrainpoolP224r1:nc,idBrainpoolP224t1:nu,idBrainpoolP256r1:nl,idBrainpoolP256t1:nf,idBrainpoolP320r1:nh,idBrainpoolP320t1:np,idBrainpoolP384r1:ny,idBrainpoolP384t1:nd,idBrainpoolP512r1:ng,idBrainpoolP512t1:nm,idEd25519:"1.3.101.112",idEd448:"1.3.101.113",idEllipticCurve:r9,idSecp256k1:nr,idSecp256r1:r7,idSecp384r1:ne,idSecp521r1:nt,idVersionOne:nn,idX25519:"1.3.101.110",idX448:"1.3.101.111"});class nv{constructor(){}static register(e){let t=new rW;t.value=e.id;let r=t8.serialize(t);this.items.push({...e,raw:r}),this.names.push(e.name)}static find(e){for(let t of(e=e.toUpperCase(),this.items))if(t.name.toUpperCase()===e||t.id.toUpperCase()===e)return t;return null}static get(e){let t=this.find(e);if(!t)throw Error(`Unsupported EC named curve '${e}'`);return t}}nv.items=[],nv.names=[],nv.register({name:"P-256",id:r7,size:256}),nv.register({name:"P-384",id:ne,size:384}),nv.register({name:"P-521",id:nt,size:521}),nv.register({name:"K-256",id:nr,size:256}),nv.register({name:"brainpoolP160r1",id:ni,size:160}),nv.register({name:"brainpoolP160t1",id:no,size:160}),nv.register({name:"brainpoolP192r1",id:na,size:192}),nv.register({name:"brainpoolP192t1",id:ns,size:192}),nv.register({name:"brainpoolP224r1",id:nc,size:224}),nv.register({name:"brainpoolP224t1",id:nu,size:224}),nv.register({name:"brainpoolP256r1",id:nl,size:256}),nv.register({name:"brainpoolP256t1",id:nf,size:256}),nv.register({name:"brainpoolP320r1",id:nh,size:320}),nv.register({name:"brainpoolP320t1",id:np,size:320}),nv.register({name:"brainpoolP384r1",id:ny,size:384}),nv.register({name:"brainpoolP384t1",id:nd,size:384}),nv.register({name:"brainpoolP512r1",id:ng,size:512}),nv.register({name:"brainpoolP512t1",id:nm,size:512});class nb extends rk{constructor(){super(...arguments),this.name="X25519",this.usages={privateKey:["deriveKey","deriveBits"],publicKey:[]}}checkAlgorithmParams(e){this.checkRequiredProperty(e,"public")}}class nE extends rk{constructor(){super(...arguments),this.name="Ed25519",this.usages={privateKey:["sign"],publicKey:["verify"]}}}class nA extends rk{constructor(){super(...arguments),this.name="HMAC",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["sign","verify"]}getDefaultLength(e){switch(e.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":return 512;default:throw Error(`Unknown algorithm name '${e}'`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),"length"in e){if("number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw RangeError("length: Number is out of range")}}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class nS extends rk{constructor(){super(...arguments),this.name="PBKDF2",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveBits","deriveKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!(e.salt instanceof ArrayBuffer||ArrayBuffer.isView(e.salt)))throw TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(this.checkRequiredProperty(e,"iterations"),"number"!=typeof e.iterations)throw TypeError("iterations: Is not a Number");if(e.iterations<1)throw TypeError("iterations: Is less than 1")}checkImportKey(e,t,r,n,i,...o){if(super.checkImportKey(e,t,r,n,i,...o),n)throw SyntaxError("extractable: Must be 'false'")}}class nk extends rk{constructor(){super(...arguments),this.name="HKDF",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveKey","deriveBits"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!D.vJ.isBufferSource(e.salt)||(this.checkRequiredProperty(e,"info"),!D.vJ.isBufferSource(e.info)))throw TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'")}checkImportKey(e,t,r,n,i,...o){if(super.checkImportKey(e,t,r,n,i,...o),n)throw SyntaxError("extractable: Must be 'false'")}}class nB extends rk{constructor(){super(...arguments),this.usages=[],this.defaultLength=0}digest(...e){return e[0]={length:this.defaultLength,...e[0]},super.digest.apply(this,e)}checkDigest(e,t){super.checkDigest(e,t);let r=e.length||0;if("number"!=typeof r)throw TypeError("length: Is not a Number");if(r<0)throw TypeError("length: Is negative")}}class nx extends nB{constructor(){super(...arguments),this.name="shake128",this.defaultLength=16}}class n_ extends nB{constructor(){super(...arguments),this.name="shake256",this.defaultLength=32}}class nP{get[Symbol.toStringTag](){return"Crypto"}randomUUID(){let e=this.getRandomValues(new Uint8Array(16));e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t=D.ep.ToHex(e).toLowerCase();return`${t.substring(0,8)}-${t.substring(8,12)}-${t.substring(12,16)}-${t.substring(16,20)}-${t.substring(20)}`}}class nC{constructor(){this.items={}}get(e){return this.items[e.toLowerCase()]||null}set(e){this.items[e.name.toLowerCase()]=e}removeAt(e){let t=this.get(e.toLowerCase());return t&&delete this.items[e],t}has(e){return!!this.get(e)}get length(){return Object.keys(this.items).length}get algorithms(){let e=[];for(let t in this.items){let r=this.items[t];e.push(r.name)}return e.sort()}}let nO={jwk:["private","public","secret"],pkcs8:["private"],spki:["public"],raw:["secret","public"]},nR=["pkcs8","spki","raw"];class nU{constructor(){this.providers=new nC}static isHashedAlgorithm(e){return!!e&&"object"==typeof e&&"name"in e&&"hash"in e}get[Symbol.toStringTag](){return"SubtleCrypto"}async digest(...e){this.checkRequiredArguments(e,2,"digest");let[t,r,...n]=e,i=this.prepareAlgorithm(t),o=D.vJ.toArrayBuffer(r),a=this.getProvider(i.name);return await a.digest(i,o,...n)}async generateKey(...e){this.checkRequiredArguments(e,3,"generateKey");let[t,r,n,...i]=e,o=this.prepareAlgorithm(t),a=this.getProvider(o.name);return await a.generateKey({...o,name:a.name},r,n,...i)}async sign(...e){this.checkRequiredArguments(e,3,"sign");let[t,r,n,...i]=e;this.checkCryptoKey(r);let o=this.prepareAlgorithm(t),a=D.vJ.toArrayBuffer(n),s=this.getProvider(o.name);return await s.sign({...o,name:s.name},r,a,...i)}async verify(...e){this.checkRequiredArguments(e,4,"verify");let[t,r,n,i,...o]=e;this.checkCryptoKey(r);let a=this.prepareAlgorithm(t),s=D.vJ.toArrayBuffer(i),c=D.vJ.toArrayBuffer(n),u=this.getProvider(a.name);return await u.verify({...a,name:u.name},r,c,s,...o)}async encrypt(...e){this.checkRequiredArguments(e,3,"encrypt");let[t,r,n,...i]=e;this.checkCryptoKey(r);let o=this.prepareAlgorithm(t),a=D.vJ.toArrayBuffer(n),s=this.getProvider(o.name);return await s.encrypt({...o,name:s.name},r,a,{keyUsage:!0},...i)}async decrypt(...e){this.checkRequiredArguments(e,3,"decrypt");let[t,r,n,...i]=e;this.checkCryptoKey(r);let o=this.prepareAlgorithm(t),a=D.vJ.toArrayBuffer(n),s=this.getProvider(o.name);return await s.decrypt({...o,name:s.name},r,a,{keyUsage:!0},...i)}async deriveBits(...e){this.checkRequiredArguments(e,3,"deriveBits");let[t,r,n,...i]=e;this.checkCryptoKey(r);let o=this.prepareAlgorithm(t),a=this.getProvider(o.name);return await a.deriveBits({...o,name:a.name},r,n,{keyUsage:!0},...i)}async deriveKey(...e){this.checkRequiredArguments(e,5,"deriveKey");let[t,r,n,i,o,...a]=e,s=this.prepareAlgorithm(n);this.getProvider(s.name).checkDerivedKeyParams(s);let c=this.prepareAlgorithm(t),u=this.getProvider(c.name);u.checkCryptoKey(r,"deriveKey");let l=await u.deriveBits({...c,name:u.name},r,n.length||512,{keyUsage:!1},...a);return this.importKey("raw",l,n,i,o,...a)}async exportKey(...e){this.checkRequiredArguments(e,2,"exportKey");let[t,r,...n]=e;if(this.checkCryptoKey(r),!nO[t])throw TypeError("Invalid keyFormat argument");if(!nO[t].includes(r.type))throw new DOMException("The key is not of the expected type");let i=this.getProvider(r.algorithm.name);return await i.exportKey(t,r,...n)}async importKey(...e){this.checkRequiredArguments(e,5,"importKey");let[t,r,n,i,o,...a]=e,s=this.prepareAlgorithm(n),c=this.getProvider(s.name);if("jwk"===t){if("object"!=typeof r||!r.kty)throw TypeError("Key data must be an object for JWK import")}else if(nR.includes(t)){if(!D.vJ.isBufferSource(r))throw TypeError("Key data must be a BufferSource for non-JWK formats")}else throw TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView or JsonWebKey)'");return c.importKey(t,r,{...s,name:c.name},i,o,...a)}async wrapKey(e,t,r,n,...i){let o=await this.exportKey(e,t,...i);if("jwk"===e){let e=JSON.stringify(o);o=D.ep.FromUtf8String(e)}let a=this.prepareAlgorithm(n),s=D.vJ.toArrayBuffer(o),c=this.getProvider(a.name);return c.encrypt({...a,name:c.name},r,s,{keyUsage:!1},...i)}async unwrapKey(e,t,r,n,i,o,a,...s){let c=this.prepareAlgorithm(n),u=D.vJ.toArrayBuffer(t),l=this.getProvider(c.name),f=await l.decrypt({...c,name:l.name},r,u,{keyUsage:!1},...s);if("jwk"===e)try{f=JSON.parse(D.ep.ToUtf8String(f))}catch(t){let e=TypeError("wrappedKey: Is not a JSON");throw e.internal=t,e}return this.importKey(e,f,i,o,a,...s)}checkRequiredArguments(e,t,r){if(e.length<t)throw TypeError(`Failed to execute '${r}' on 'SubtleCrypto': ${t} arguments required, but only ${e.length} present`)}prepareAlgorithm(e){if("string"==typeof e)return{name:e};if(nU.isHashedAlgorithm(e)){let t={...e};return t.hash=this.prepareAlgorithm(e.hash),t}return{...e}}getProvider(e){let t=this.providers.get(e);if(!t)throw new rw("Unrecognized name");return t}checkCryptoKey(e){if(!(e instanceof rD))throw TypeError("Key is not of type 'CryptoKey'")}}var nT=r(6385),nK=r(8068),nN=r.n(nK),nI=r(3875),nH=r(6385).Buffer;/*!
 Copyright (c) Peculiar Ventures, LLC
*/let nL={fromJSON:e=>nT.Buffer.from(D.ep.FromBase64Url(e)),toJSON:e=>D.ep.ToBase64Url(e)};class nj extends rD{constructor(){super(...arguments),this.data=nT.Buffer.alloc(0),this.algorithm={name:""},this.extractable=!1,this.type="secret",this.usages=[],this.kty="oct",this.alg=""}}(0,t3.gn)([rg({name:"ext",type:L.Boolean,optional:!0})],nj.prototype,"extractable",void 0),(0,t3.gn)([rg({name:"key_ops",type:L.String,repeated:!0,optional:!0})],nj.prototype,"usages",void 0),(0,t3.gn)([rg({type:L.String})],nj.prototype,"kty",void 0),(0,t3.gn)([rg({type:L.String,optional:!0})],nj.prototype,"alg",void 0);class nD extends nj{constructor(){super(...arguments),this.kty="oct",this.type="secret"}}class nM extends nj{}class nJ extends nD{get alg(){switch(this.algorithm.name.toUpperCase()){case"AES-CBC":return`A${this.algorithm.length}CBC`;case"AES-CTR":return`A${this.algorithm.length}CTR`;case"AES-GCM":return`A${this.algorithm.length}GCM`;case"AES-KW":return`A${this.algorithm.length}KW`;case"AES-CMAC":return`A${this.algorithm.length}CMAC`;case"AES-ECB":return`A${this.algorithm.length}ECB`;default:throw new rw("Unsupported algorithm name")}}set alg(e){}}(0,t3.gn)([rg({name:"k",converter:nL})],nJ.prototype,"data",void 0);class nF{static async generateKey(e,t,r){let n=new nJ;return n.algorithm=e,n.extractable=t,n.usages=r,n.data=nN().randomBytes(e.length>>3),n}static async exportKey(e,t){if(!(t instanceof nJ))throw Error("key: Is not AesCryptoKey");switch(e.toLowerCase()){case"jwk":return rp.toJSON(t);case"raw":return new Uint8Array(t.data).buffer;default:throw new rb("format: Must be 'jwk' or 'raw'")}}static async importKey(e,t,r,n,i){let o;switch(e.toLowerCase()){case"jwk":o=ry.fromJSON(t,{targetSchema:nJ});break;case"raw":(o=new nJ).data=nT.Buffer.from(t);break;default:throw new rb("format: Must be 'jwk' or 'raw'")}switch(o.algorithm=r,o.algorithm.length=o.data.length<<3,o.extractable=n,o.usages=i,o.algorithm.length){case 128:case 192:case 256:break;default:throw new rb("keyData: Is wrong key length")}return o}static async encrypt(e,t,r){switch(e.name.toUpperCase()){case"AES-CBC":return this.encryptAesCBC(e,t,nT.Buffer.from(r));case"AES-CTR":return this.encryptAesCTR(e,t,nT.Buffer.from(r));case"AES-GCM":return this.encryptAesGCM(e,t,nT.Buffer.from(r));case"AES-KW":return this.encryptAesKW(e,t,nT.Buffer.from(r));case"AES-ECB":return this.encryptAesECB(e,t,nT.Buffer.from(r));default:throw new rb("algorithm: Is not recognized")}}static async decrypt(e,t,r){if(!(t instanceof nJ))throw Error("key: Is not AesCryptoKey");switch(e.name.toUpperCase()){case"AES-CBC":return this.decryptAesCBC(e,t,nT.Buffer.from(r));case"AES-CTR":return this.decryptAesCTR(e,t,nT.Buffer.from(r));case"AES-GCM":return this.decryptAesGCM(e,t,nT.Buffer.from(r));case"AES-KW":return this.decryptAesKW(e,t,nT.Buffer.from(r));case"AES-ECB":return this.decryptAesECB(e,t,nT.Buffer.from(r));default:throw new rb("algorithm: Is not recognized")}}static async encryptAesCBC(e,t,r){let n=nN().createCipheriv(`aes-${t.algorithm.length}-cbc`,t.data,new Uint8Array(e.iv)),i=n.update(r);return new Uint8Array(i=nT.Buffer.concat([i,n.final()])).buffer}static async decryptAesCBC(e,t,r){let n=nN().createDecipheriv(`aes-${t.algorithm.length}-cbc`,t.data,new Uint8Array(e.iv)),i=n.update(r);return new Uint8Array(i=nT.Buffer.concat([i,n.final()])).buffer}static async encryptAesCTR(e,t,r){let n=nN().createCipheriv(`aes-${t.algorithm.length}-ctr`,t.data,nT.Buffer.from(e.counter)),i=n.update(r);return new Uint8Array(i=nT.Buffer.concat([i,n.final()])).buffer}static async decryptAesCTR(e,t,r){let n=nN().createDecipheriv(`aes-${t.algorithm.length}-ctr`,t.data,new Uint8Array(e.counter)),i=n.update(r);return new Uint8Array(i=nT.Buffer.concat([i,n.final()])).buffer}static async encryptAesGCM(e,t,r){let n=nN().createCipheriv(`aes-${t.algorithm.length}-gcm`,t.data,nT.Buffer.from(e.iv),{authTagLength:(e.tagLength||128)>>3});e.additionalData&&n.setAAD(nT.Buffer.from(e.additionalData));let i=n.update(r);return new Uint8Array(i=nT.Buffer.concat([i,n.final(),n.getAuthTag()])).buffer}static async decryptAesGCM(e,t,r){let n=(e.tagLength||128)>>3,i=nN().createDecipheriv(`aes-${t.algorithm.length}-gcm`,t.data,new Uint8Array(e.iv),{authTagLength:n}),o=r.slice(0,r.length-n),a=r.slice(r.length-n);e.additionalData&&i.setAAD(nT.Buffer.from(e.additionalData)),i.setAuthTag(a);let s=i.update(o);return new Uint8Array(s=nT.Buffer.concat([s,i.final()])).buffer}static async encryptAesKW(e,t,r){let n=nN().createCipheriv(`id-aes${t.algorithm.length}-wrap`,t.data,this.AES_KW_IV),i=n.update(r);return new Uint8Array(i=nT.Buffer.concat([i,n.final()])).buffer}static async decryptAesKW(e,t,r){let n=nN().createDecipheriv(`id-aes${t.algorithm.length}-wrap`,t.data,this.AES_KW_IV),i=n.update(r);return new Uint8Array(i=nT.Buffer.concat([i,n.final()])).buffer}static async encryptAesECB(e,t,r){let n=nN().createCipheriv(`aes-${t.algorithm.length}-ecb`,t.data,new Uint8Array(0)),i=n.update(r);return new Uint8Array(i=nT.Buffer.concat([i,n.final()])).buffer}static async decryptAesECB(e,t,r){let n=nN().createDecipheriv(`aes-${t.algorithm.length}-ecb`,t.data,new Uint8Array(0)),i=n.update(r);return new Uint8Array(i=nT.Buffer.concat([i,n.final()])).buffer}}nF.AES_KW_IV=nT.Buffer.from("A6A6A6A6A6A6A6A6","hex");let nW=new WeakMap;function nV(e){let t=nW.get(e);if(!t)throw new rb("Cannot get CryptoKey from secure storage");return t}function nG(e){let t=rD.create(e.algorithm,e.type,e.extractable,e.usages);return Object.freeze(t),nW.set(t,e),t}class n$ extends rx{async onGenerateKey(e,t,r){return nG(await nF.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return nF.encrypt(e,nV(t),new Uint8Array(r))}async onDecrypt(e,t,r){return nF.decrypt(e,nV(t),new Uint8Array(r))}async onExportKey(e,t){return nF.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){return nG(await nF.importKey(e,t,{name:r.name},n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(nV(e) instanceof nJ))throw TypeError("key: Is not a AesCryptoKey")}}let nz=nT.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),nq=nT.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135]),nY=16;function nX(e){let t=nT.Buffer.alloc(e.length),r=e.length-1;for(let n=0;n<r;n++)t[n]=e[n]<<1,128&e[n+1]&&(t[n]+=1);return t[r]=e[r]<<1,t}function nZ(e,t){let r=Math.min(e.length,t.length),n=nT.Buffer.alloc(r);for(let i=0;i<r;i++)n[i]=e[i]^t[i];return n}function nQ(e,t){let r=nN().createCipheriv(`aes${e.length<<3}`,e,nz),n=r.update(t);return r.final(),n}function n0(e,t){let r=nT.Buffer.alloc(nY),n=t*nY,i=n+nY;return e.copy(r,0,n,i),r}function n1(e,t){let r=nT.Buffer.alloc(nY),n=t*nY,i=e.length;return r.fill(0),e.copy(r,0,n,i),r[i-n]=128,r}function n2(e){let t=nQ(e,nz),r=nX(t);128&t[0]&&(r=nZ(r,nq));let n=nX(r);return 128&r[0]&&(n=nZ(n,nq)),{subkey1:r,subkey2:n}}function n8(e,t){let r,n,i;let o=n2(e),a=Math.ceil(t.length/nY);0===a?(a=1,r=!1):r=t.length%nY==0;let s=a-1;n=r?nZ(n0(t,s),o.subkey1):nZ(n1(t,s),o.subkey2);let c=nz;for(let r=0;r<s;r++)c=nQ(e,i=nZ(c,n0(t,r)));return nQ(e,i=nZ(n,c))}class n3 extends r_{async onGenerateKey(e,t,r){return nG(await nF.generateKey({name:this.name,length:e.length},t,r))}async onSign(e,t,r){return new Uint8Array(n8(nV(t).data,nT.Buffer.from(r))).buffer}async onVerify(e,t,r,n){let i=await this.sign(e,t,n);return 0===nT.Buffer.from(r).compare(nT.Buffer.from(i))}async onExportKey(e,t){return nF.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){return nG(await nF.importKey(e,t,{name:r.name},n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(nV(e) instanceof nJ))throw TypeError("key: Is not a AesCryptoKey")}}class n6 extends rP{async onGenerateKey(e,t,r){return nG(await nF.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return nF.encrypt(e,nV(t),new Uint8Array(r))}async onDecrypt(e,t,r){return nF.decrypt(e,nV(t),new Uint8Array(r))}async onExportKey(e,t){return nF.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){return nG(await nF.importKey(e,t,{name:r.name},n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(nV(e) instanceof nJ))throw TypeError("key: Is not a AesCryptoKey")}}class n4 extends rO{async onGenerateKey(e,t,r){return nG(await nF.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return nF.encrypt(e,nV(t),new Uint8Array(r))}async onDecrypt(e,t,r){return nF.decrypt(e,nV(t),new Uint8Array(r))}async onExportKey(e,t){return nF.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){return nG(await nF.importKey(e,t,{name:r.name},n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(nV(e) instanceof nJ))throw TypeError("key: Is not a AesCryptoKey")}}class n5 extends rR{async onGenerateKey(e,t,r){return nG(await nF.generateKey({name:this.name,length:e.length},t,r))}async onExportKey(e,t){return nF.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){return nG(await nF.importKey(e,t,{name:r.name},n,i))}async onEncrypt(e,t,r){return nF.encrypt(e,nV(t),new Uint8Array(r))}async onDecrypt(e,t,r){return nF.decrypt(e,nV(t),new Uint8Array(r))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(nV(e) instanceof nJ))throw TypeError("key: Is not a AesCryptoKey")}}class n7 extends rC{async onGenerateKey(e,t,r){return nG(await nF.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return nF.encrypt(e,nV(t),new Uint8Array(r))}async onDecrypt(e,t,r){return nF.decrypt(e,nV(t),new Uint8Array(r))}async onExportKey(e,t){return nF.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){return nG(await nF.importKey(e,t,{name:r.name},n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(nV(e) instanceof nJ))throw TypeError("key: Is not a AesCryptoKey")}}class n9 extends nD{get alg(){switch(this.algorithm.name.toUpperCase()){case"DES-CBC":return"DES-CBC";case"DES-EDE3-CBC":return"3DES-CBC";default:throw new rw("Unsupported algorithm name")}}set alg(e){}}(0,t3.gn)([rg({name:"k",converter:nL})],n9.prototype,"data",void 0);class ie{static async generateKey(e,t,r){let n=new n9;return n.algorithm=e,n.extractable=t,n.usages=r,n.data=nN().randomBytes(e.length>>3),n}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return rp.toJSON(t);case"raw":return new Uint8Array(t.data).buffer;default:throw new rb("format: Must be 'jwk' or 'raw'")}}static async importKey(e,t,r,n,i){let o;switch(e.toLowerCase()){case"jwk":o=ry.fromJSON(t,{targetSchema:n9});break;case"raw":(o=new n9).data=nT.Buffer.from(t);break;default:throw new rb("format: Must be 'jwk' or 'raw'")}return o.algorithm=r,o.extractable=n,o.usages=i,o}static async encrypt(e,t,r){switch(e.name.toUpperCase()){case"DES-CBC":return this.encryptDesCBC(e,t,nT.Buffer.from(r));case"DES-EDE3-CBC":return this.encryptDesEDE3CBC(e,t,nT.Buffer.from(r));default:throw new rb("algorithm: Is not recognized")}}static async decrypt(e,t,r){if(!(t instanceof n9))throw Error("key: Is not DesCryptoKey");switch(e.name.toUpperCase()){case"DES-CBC":return this.decryptDesCBC(e,t,nT.Buffer.from(r));case"DES-EDE3-CBC":return this.decryptDesEDE3CBC(e,t,nT.Buffer.from(r));default:throw new rb("algorithm: Is not recognized")}}static async encryptDesCBC(e,t,r){let n=nN().createCipheriv("des-cbc",t.data,new Uint8Array(e.iv)),i=n.update(r);return new Uint8Array(i=nT.Buffer.concat([i,n.final()])).buffer}static async decryptDesCBC(e,t,r){let n=nN().createDecipheriv("des-cbc",t.data,new Uint8Array(e.iv)),i=n.update(r);return new Uint8Array(i=nT.Buffer.concat([i,n.final()])).buffer}static async encryptDesEDE3CBC(e,t,r){let n=nN().createCipheriv("des-ede3-cbc",t.data,nT.Buffer.from(e.iv)),i=n.update(r);return new Uint8Array(i=nT.Buffer.concat([i,n.final()])).buffer}static async decryptDesEDE3CBC(e,t,r){let n=nN().createDecipheriv("des-ede3-cbc",t.data,new Uint8Array(e.iv)),i=n.update(r);return new Uint8Array(i=nT.Buffer.concat([i,n.final()])).buffer}}class it extends rU{constructor(){super(...arguments),this.keySizeBits=64,this.ivSize=8,this.name="DES-CBC"}async onGenerateKey(e,t,r){return nG(await ie.generateKey({name:this.name,length:this.keySizeBits},t,r))}async onEncrypt(e,t,r){return ie.encrypt(e,nV(t),new Uint8Array(r))}async onDecrypt(e,t,r){return ie.decrypt(e,nV(t),new Uint8Array(r))}async onExportKey(e,t){return ie.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){let o=await ie.importKey(e,t,{name:this.name,length:this.keySizeBits},n,i);if(o.data.length!==this.keySizeBits>>3)throw new rb("keyData: Wrong key size");return nG(o)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(nV(e) instanceof n9))throw TypeError("key: Is not a DesCryptoKey")}}class ir extends rU{constructor(){super(...arguments),this.keySizeBits=192,this.ivSize=8,this.name="DES-EDE3-CBC"}async onGenerateKey(e,t,r){return nG(await ie.generateKey({name:this.name,length:this.keySizeBits},t,r))}async onEncrypt(e,t,r){return ie.encrypt(e,nV(t),new Uint8Array(r))}async onDecrypt(e,t,r){return ie.decrypt(e,nV(t),new Uint8Array(r))}async onExportKey(e,t){return ie.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){let o=await ie.importKey(e,t,{name:this.name,length:this.keySizeBits},n,i);if(o.data.length!==this.keySizeBits>>3)throw new rb("keyData: Wrong key size");return nG(o)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(nV(e) instanceof n9))throw TypeError("key: Is not a DesCryptoKey")}}function ii(e){switch(e.name.toUpperCase()){case"RSA-OAEP":{let t=/(\d+)$/.exec(e.hash.name)[1];return`RSA-OAEP${"1"!==t?`-${t}`:""}`}case"RSASSA-PKCS1-V1_5":return`RS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSA-PSS":return`PS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSA-PKCS1":return"RS1";default:throw new rb("algorithm: Is not recognized")}}class io extends nM{constructor(){super(...arguments),this.type="private"}getKey(){let e=t1.parse(this.data,nw.PrivateKeyInfo);return t1.parse(e.privateKey,nw.RsaPrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"RSA",alg:ii(this.algorithm),key_ops:this.usages,ext:this.extractable},rp.toJSON(e))}fromJSON(e){let t=ry.fromJSON(e,{targetSchema:nw.RsaPrivateKey}),r=new nw.PrivateKeyInfo;r.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",r.privateKeyAlgorithm.parameters=null,r.privateKey=t2.serialize(t),this.data=nT.Buffer.from(t2.serialize(r))}}class ia extends nM{constructor(){super(...arguments),this.type="public"}getKey(){let e=t1.parse(this.data,nw.PublicKeyInfo);return t1.parse(e.publicKey,nw.RsaPublicKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"RSA",alg:ii(this.algorithm),key_ops:this.usages,ext:this.extractable},rp.toJSON(e))}fromJSON(e){let t=ry.fromJSON(e,{targetSchema:nw.RsaPublicKey}),r=new nw.PublicKeyInfo;r.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",r.publicKeyAlgorithm.parameters=null,r.publicKey=t2.serialize(t),this.data=nT.Buffer.from(t2.serialize(r))}}class is{static async generateKey(e,t,r){let n=new io;n.algorithm=e,n.extractable=t,n.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let i=new ia;i.algorithm=e,i.extractable=!0,i.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let o=nT.Buffer.concat([nT.Buffer.alloc(4-e.publicExponent.byteLength,0),nT.Buffer.from(e.publicExponent)]).readInt32BE(0),a=nN().generateKeyPairSync("rsa",{modulusLength:e.modulusLength,publicExponent:o,publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return n.data=a.privateKey,i.data=a.publicKey,{privateKey:n,publicKey:i}}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return rp.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;default:throw new rb("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async importKey(e,t,r,n,i){switch(e.toLowerCase()){case"jwk":if(t.d){let e=ry.fromJSON(t,{targetSchema:nw.RsaPrivateKey});return this.importPrivateKey(e,r,n,i)}{let e=ry.fromJSON(t,{targetSchema:nw.RsaPublicKey});return this.importPublicKey(e,r,n,i)}case"spki":{let e=t1.parse(new Uint8Array(t),nw.PublicKeyInfo),o=t1.parse(e.publicKey,nw.RsaPublicKey);return this.importPublicKey(o,r,n,i)}case"pkcs8":{let e=t1.parse(new Uint8Array(t),nw.PrivateKeyInfo),o=t1.parse(e.privateKey,nw.RsaPrivateKey);return this.importPrivateKey(o,r,n,i)}default:throw new rb("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async sign(e,t,r){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.signRsa(e,t,r);default:throw new rb("algorithm: Is not recognized")}}static async verify(e,t,r,n){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.verifySSA(e,t,n,r);default:throw new rb("algorithm: Is not recognized")}}static async encrypt(e,t,r){if("RSA-OAEP"===e.name.toUpperCase())return this.encryptOAEP(e,t,r);throw new rb("algorithm: Is not recognized")}static async decrypt(e,t,r){if("RSA-OAEP"===e.name.toUpperCase())return this.decryptOAEP(e,t,r);throw new rb("algorithm: Is not recognized")}static importPrivateKey(e,t,r,n){let i=new nw.PrivateKeyInfo;i.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",i.privateKeyAlgorithm.parameters=null,i.privateKey=t2.serialize(e);let o=new io;return o.data=nT.Buffer.from(t2.serialize(i)),o.algorithm=Object.assign({},t),o.algorithm.publicExponent=new Uint8Array(e.publicExponent),o.algorithm.modulusLength=e.modulus.byteLength<<3,o.extractable=r,o.usages=n,o}static importPublicKey(e,t,r,n){let i=new nw.PublicKeyInfo;i.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",i.publicKeyAlgorithm.parameters=null,i.publicKey=t2.serialize(e);let o=new ia;return o.data=nT.Buffer.from(t2.serialize(i)),o.algorithm=Object.assign({},t),o.algorithm.publicExponent=new Uint8Array(e.publicExponent),o.algorithm.modulusLength=e.modulus.byteLength<<3,o.extractable=r,o.usages=n,o}static getCryptoAlgorithm(e){switch(e.hash.name.toUpperCase()){case"SHA-1":return"RSA-SHA1";case"SHA-256":return"RSA-SHA256";case"SHA-384":return"RSA-SHA384";case"SHA-512":return"RSA-SHA512";case"SHA3-256":return"RSA-SHA3-256";case"SHA3-384":return"RSA-SHA3-384";case"SHA3-512":return"RSA-SHA3-512";default:throw new rb("algorithm.hash: Is not recognized")}}static signRsa(e,t,r){let n=this.getCryptoAlgorithm(t.algorithm),i=nN().createSign(n);i.update(nT.Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let o={key:t.pem};return"RSA-PSS"===e.name.toUpperCase()&&(o.padding=nN().constants.RSA_PKCS1_PSS_PADDING,o.saltLength=e.saltLength),new Uint8Array(i.sign(o)).buffer}static verifySSA(e,t,r,n){let i=this.getCryptoAlgorithm(t.algorithm),o=nN().createVerify(i);o.update(nT.Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let a={key:t.pem};return"RSA-PSS"===e.name.toUpperCase()&&(a.padding=nN().constants.RSA_PKCS1_PSS_PADDING,a.saltLength=e.saltLength),o.verify(a,n)}static encryptOAEP(e,t,r){let n={key:`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`,padding:nN().constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(nN().publicEncrypt(n,r)).buffer}static decryptOAEP(e,t,r){let n={key:`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`,padding:nN().constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(nN().privateDecrypt(n,r)).buffer}}is.publicKeyUsages=["verify","encrypt","wrapKey"],is.privateKeyUsages=["sign","decrypt","unwrapKey"];class ic extends rK{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let n=await is.generateKey({...e,name:this.name},t,r);return{privateKey:nG(n.privateKey),publicKey:nG(n.publicKey)}}async onSign(e,t,r){return is.sign(e,nV(t),new Uint8Array(r))}async onVerify(e,t,r,n){return is.verify(e,nV(t),new Uint8Array(r),new Uint8Array(n))}async onExportKey(e,t){return is.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){return nG(await is.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=nV(e);if(!(r instanceof io||r instanceof ia))throw TypeError("key: Is not RSA CryptoKey")}}class iu extends rN{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let n=await is.generateKey({...e,name:this.name},t,r);return{privateKey:nG(n.privateKey),publicKey:nG(n.publicKey)}}async onSign(e,t,r){return is.sign(e,nV(t),new Uint8Array(r))}async onVerify(e,t,r,n){return is.verify(e,nV(t),new Uint8Array(r),new Uint8Array(n))}async onExportKey(e,t){return is.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){return nG(await is.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=nV(e);if(!(r instanceof io||r instanceof ia))throw TypeError("key: Is not RSA CryptoKey")}}class il{static size(e){switch(e.name.toUpperCase()){case"SHA-1":return 160;case"SHA-256":case"SHA3-256":return 256;case"SHA-384":case"SHA3-384":return 384;case"SHA-512":case"SHA3-512":return 512;default:throw Error("Unrecognized name")}}static getAlgorithmName(e){switch(e.name.toUpperCase()){case"SHA-1":return"sha1";case"SHA-256":return"sha256";case"SHA-384":return"sha384";case"SHA-512":return"sha512";case"SHA3-256":return"sha3-256";case"SHA3-384":return"sha3-384";case"SHA3-512":return"sha3-512";default:throw Error("Unrecognized name")}}static digest(e,t){let r=this.getAlgorithmName(e);return new Uint8Array(nN().createHash(r).update(nT.Buffer.from(t)).digest()).buffer}}class ih extends rI{async onGenerateKey(e,t,r){let n=await is.generateKey({...e,name:this.name},t,r);return{privateKey:nG(n.privateKey),publicKey:nG(n.publicKey)}}async onEncrypt(e,t,r){let n=nV(t),i=new Uint8Array(r),o=Math.ceil(n.algorithm.modulusLength>>3),a=il.size(n.algorithm.hash)>>3,s=i.byteLength,c=o-s-2*a-2;if(s>o-2*a-2)throw Error("Data too large");let u=new Uint8Array(o),l=u.subarray(1,a+1),f=u.subarray(a+1);f.set(i,a+c+1);let h=nN().createHash(n.algorithm.hash.name.replace("-","")).update(D.vJ.toUint8Array(e.label||new Uint8Array(0))).digest();f.set(h,0),f[a+c]=1,nN().randomFillSync(l);let p=this.mgf1(n.algorithm.hash,l,f.length);for(let e=0;e<f.length;e++)f[e]^=p[e];let y=this.mgf1(n.algorithm.hash,f,l.length);for(let e=0;e<l.length;e++)l[e]^=y[e];return n.pem||(n.pem=`-----BEGIN PUBLIC KEY-----
${n.data.toString("base64")}
-----END PUBLIC KEY-----`),new Uint8Array(nN().publicEncrypt({key:n.pem,padding:nN().constants.RSA_NO_PADDING},nT.Buffer.from(u))).buffer}async onDecrypt(e,t,r){let n=nV(t),i=Math.ceil(n.algorithm.modulusLength>>3),o=il.size(n.algorithm.hash)>>3;if(r.byteLength!==i)throw Error("Bad data");n.pem||(n.pem=`-----BEGIN PRIVATE KEY-----
${n.data.toString("base64")}
-----END PRIVATE KEY-----`);let a=nN().privateDecrypt({key:n.pem,padding:nN().constants.RSA_NO_PADDING},nT.Buffer.from(r)),s=a[0],c=a.subarray(1,o+1),u=a.subarray(o+1);if(0!==s)throw Error("Decryption failed");let l=this.mgf1(n.algorithm.hash,u,c.length);for(let e=0;e<c.length;e++)c[e]^=l[e];let f=this.mgf1(n.algorithm.hash,c,u.length);for(let e=0;e<u.length;e++)u[e]^=f[e];let h=nN().createHash(n.algorithm.hash.name.replace("-","")).update(D.vJ.toUint8Array(e.label||new Uint8Array(0))).digest();for(let e=0;e<o;e++)if(h[e]!==u[e])throw Error("Decryption failed");let p=o;for(;p<u.length;p++){let e=u[p];if(1===e)break;if(0!==e)throw Error("Decryption failed")}if(p===u.length)throw Error("Decryption failed");return new Uint8Array(a=u.subarray(p+1)).buffer}async onExportKey(e,t){return is.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){return nG(await is.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=nV(e);if(!(r instanceof io||r instanceof ia))throw TypeError("key: Is not RSA CryptoKey")}mgf1(e,t,r=0){let n=il.size(e)>>3,i=new Uint8Array(r),o=new Uint8Array(4),a=Math.ceil(r/n);for(let r=0;r<a;r++){o[0]=r>>>24,o[1]=r>>>16&255,o[2]=r>>>8&255,o[3]=255&r;let a=i.subarray(r*n),s=nN().createHash(e.name.replace("-","")).update(t).update(o).digest();s.length>a.length&&(s=s.subarray(0,a.length)),a.set(s)}return i}}class ip extends rk{constructor(){super(...arguments),this.name="RSAES-PKCS1-v1_5",this.usages={publicKey:["encrypt","wrapKey"],privateKey:["decrypt","unwrapKey"]}}async onGenerateKey(e,t,r){let n=await is.generateKey({...e,name:this.name},t,r);return{privateKey:nG(n.privateKey),publicKey:nG(n.publicKey)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw TypeError("publicExponent: Missing or not a Uint8Array");let t=D.ep.ToBase64(e.publicExponent);if(!("Aw=="===t||"AQAB"===t))throw TypeError("publicExponent: Must be [3] or [1,0,1]");switch(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength){case 1024:case 2048:case 4096:break;default:throw TypeError("modulusLength: Must be 1024, 2048, or 4096")}}async onEncrypt(e,t,r){let n=this.toCryptoOptions(t),i=nN().publicEncrypt(n,new Uint8Array(r));return new Uint8Array(i).buffer}async onDecrypt(e,t,r){let n=this.toCryptoOptions(t),i=nN().privateDecrypt(n,new Uint8Array(r));return new Uint8Array(i).buffer}async onExportKey(e,t){return is.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){return nG(await is.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=nV(e);if(!(r instanceof io||r instanceof ia))throw TypeError("key: Is not RSA CryptoKey")}toCryptoOptions(e){let t=e.type.toUpperCase();return{key:`-----BEGIN ${t} KEY-----
${nV(e).data.toString("base64")}
-----END ${t} KEY-----`,padding:nN().constants.RSA_PKCS1_PADDING}}}let iy={"1.2.840.10045.3.1.7":"P-256","P-256":"1.2.840.10045.3.1.7","1.3.132.0.34":"P-384","P-384":"1.3.132.0.34","1.3.132.0.35":"P-521","P-521":"1.3.132.0.35","1.3.132.0.10":"K-256","K-256":"1.3.132.0.10",brainpoolP160r1:"1.3.36.3.3.2.8.1.1.1","1.3.36.3.3.2.8.1.1.1":"brainpoolP160r1",brainpoolP160t1:"1.3.36.3.3.2.8.1.1.2","1.3.36.3.3.2.8.1.1.2":"brainpoolP160t1",brainpoolP192r1:"1.3.36.3.3.2.8.1.1.3","1.3.36.3.3.2.8.1.1.3":"brainpoolP192r1",brainpoolP192t1:"1.3.36.3.3.2.8.1.1.4","1.3.36.3.3.2.8.1.1.4":"brainpoolP192t1",brainpoolP224r1:"1.3.36.3.3.2.8.1.1.5","1.3.36.3.3.2.8.1.1.5":"brainpoolP224r1",brainpoolP224t1:"1.3.36.3.3.2.8.1.1.6","1.3.36.3.3.2.8.1.1.6":"brainpoolP224t1",brainpoolP256r1:"1.3.36.3.3.2.8.1.1.7","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1",brainpoolP256t1:"1.3.36.3.3.2.8.1.1.8","1.3.36.3.3.2.8.1.1.8":"brainpoolP256t1",brainpoolP320r1:"1.3.36.3.3.2.8.1.1.9","1.3.36.3.3.2.8.1.1.9":"brainpoolP320r1",brainpoolP320t1:"1.3.36.3.3.2.8.1.1.10","1.3.36.3.3.2.8.1.1.10":"brainpoolP320t1",brainpoolP384r1:"1.3.36.3.3.2.8.1.1.11","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1",brainpoolP384t1:"1.3.36.3.3.2.8.1.1.12","1.3.36.3.3.2.8.1.1.12":"brainpoolP384t1",brainpoolP512r1:"1.3.36.3.3.2.8.1.1.13","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1",brainpoolP512t1:"1.3.36.3.3.2.8.1.1.14","1.3.36.3.3.2.8.1.1.14":"brainpoolP512t1"};function id(e){let t=iy[e];if(!t)throw new rb(`Cannot convert WebCrypto named curve '${e}' to OID`);return t}class ig extends nM{constructor(){super(...arguments),this.type="private"}getKey(){let e=t1.parse(this.data,nw.PrivateKeyInfo);return t1.parse(e.privateKey,nw.EcPrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},rp.toJSON(e))}fromJSON(e){if(!e.crv)throw new rb("Cannot get named curve from JWK. Property 'crv' is required");let t=new nw.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",t.privateKeyAlgorithm.parameters=t2.serialize(new nw.ObjectIdentifier(id(e.crv)));let r=ry.fromJSON(e,{targetSchema:nw.EcPrivateKey});return t.privateKey=t2.serialize(r),this.data=nT.Buffer.from(t2.serialize(t)),this}}class im extends nM{constructor(){super(...arguments),this.type="public"}getKey(){let e=t1.parse(this.data,nw.PublicKeyInfo);return new nw.EcPublicKey(e.publicKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},rp.toJSON(e))}fromJSON(e){if(!e.crv)throw new rb("Cannot get named curve from JWK. Property 'crv' is required");let t=ry.fromJSON(e,{targetSchema:nw.EcPublicKey}),r=new nw.PublicKeyInfo;return r.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1",r.publicKeyAlgorithm.parameters=t2.serialize(new nw.ObjectIdentifier(id(e.crv))),r.publicKey=t2.toASN(t).valueHex,this.data=nT.Buffer.from(t2.serialize(r)),this}}class iw extends rk{constructor(){super(...arguments),this.name="SHA-1",this.usages=[]}async onDigest(e,t){return il.digest(e,t)}}class iv extends rk{constructor(){super(...arguments),this.name="SHA-256",this.usages=[]}async onDigest(e,t){return il.digest(e,t)}}class ib extends rk{constructor(){super(...arguments),this.name="SHA-384",this.usages=[]}async onDigest(e,t){return il.digest(e,t)}}class iE extends rk{constructor(){super(...arguments),this.name="SHA-512",this.usages=[]}async onDigest(e,t){return il.digest(e,t)}}class iA extends rk{constructor(){super(...arguments),this.name="SHA3-256",this.usages=[]}async onDigest(e,t){return il.digest(e,t)}}class iS extends rk{constructor(){super(...arguments),this.name="SHA3-384",this.usages=[]}async onDigest(e,t){return il.digest(e,t)}}class ik extends rk{constructor(){super(...arguments),this.name="SHA3-512",this.usages=[]}async onDigest(e,t){return il.digest(e,t)}}class iB{static async generateKey(e,t,r){let n=new ig;n.algorithm=e,n.extractable=t,n.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let i=new im;i.algorithm=e,i.extractable=!0,i.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let o=nN().generateKeyPairSync("ec",{namedCurve:this.getOpenSSLNamedCurve(e.namedCurve),publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return n.data=o.privateKey,i.data=o.publicKey,{privateKey:n,publicKey:i}}static async sign(e,t,r){let n=il.getAlgorithmName(e.hash),i=nN().createSign(n);i.update(nT.Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let o={key:t.pem},a=i.sign(o),s=t1.parse(a,nw.EcDsaSignature);return r2.encodeSignature(s,nv.get(t.algorithm.namedCurve).size).buffer}static async verify(e,t,r,n){let i=il.getAlgorithmName(e.hash),o=nN().createVerify(i);o.update(nT.Buffer.from(n)),t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let a={key:t.pem},s=new nw.EcDsaSignature,c=nv.get(t.algorithm.namedCurve),u=r2.decodeSignature(r,c.size);s.r=D.vJ.toArrayBuffer(u.r),s.s=D.vJ.toArrayBuffer(u.s);let l=nT.Buffer.from(t2.serialize(s));return o.verify(a,l)}static async deriveBits(e,t,r){let n=this.getOpenSSLNamedCurve(t.algorithm.namedCurve),i=nN().createECDH(n),o=t1.parse(t.data,nw.PrivateKeyInfo),a=t1.parse(o.privateKey,nw.EcPrivateKey);i.setPrivateKey(nT.Buffer.from(a.privateKey));let s=t1.parse(e.public.data,nw.PublicKeyInfo),c=i.computeSecret(nT.Buffer.from(s.publicKey));return null===r?c:new Uint8Array(c).buffer.slice(0,r>>3)}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return rp.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;case"raw":return t1.parse(t.data,nw.PublicKeyInfo).publicKey;default:throw new rb("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,t,r,n,i){switch(e.toLowerCase()){case"jwk":if(t.d){let e=ry.fromJSON(t,{targetSchema:nw.EcPrivateKey});return this.importPrivateKey(e,r,n,i)}{let e=ry.fromJSON(t,{targetSchema:nw.EcPublicKey});return this.importPublicKey(e,r,n,i)}case"raw":{let e=new nw.EcPublicKey(t);return this.importPublicKey(e,r,n,i)}case"spki":{let e=t1.parse(new Uint8Array(t),nw.PublicKeyInfo),o=new nw.EcPublicKey(e.publicKey);return this.assertKeyParameters(e.publicKeyAlgorithm.parameters,r.namedCurve),this.importPublicKey(o,r,n,i)}case"pkcs8":{let e=t1.parse(new Uint8Array(t),nw.PrivateKeyInfo),o=t1.parse(e.privateKey,nw.EcPrivateKey);return this.assertKeyParameters(e.privateKeyAlgorithm.parameters,r.namedCurve),this.importPrivateKey(o,r,n,i)}default:throw new rb("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static assertKeyParameters(e,t){if(!e)throw new rm("Key info doesn't have required parameters");let r="";try{r=t1.parse(e,nw.ObjectIdentifier).value}catch(e){throw new rm("Cannot read key info parameters")}if(id(t)!==r)throw new rm("Key info parameter doesn't match to named curve")}static async importPrivateKey(e,t,r,n){let i=new nw.PrivateKeyInfo;i.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",i.privateKeyAlgorithm.parameters=t2.serialize(new nw.ObjectIdentifier(id(t.namedCurve))),i.privateKey=t2.serialize(e);let o=new ig;return o.data=nT.Buffer.from(t2.serialize(i)),o.algorithm=Object.assign({},t),o.extractable=r,o.usages=n,o}static async importPublicKey(e,t,r,n){let i=new nw.PublicKeyInfo;i.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1";let o=id(t.namedCurve);i.publicKeyAlgorithm.parameters=t2.serialize(new nw.ObjectIdentifier(o)),i.publicKey=e.value;let a=new im;return a.data=nT.Buffer.from(t2.serialize(i)),a.algorithm=Object.assign({},t),a.extractable=r,a.usages=n,a}static getOpenSSLNamedCurve(e){switch(e.toUpperCase()){case"P-256":return"prime256v1";case"K-256":return"secp256k1";case"P-384":return"secp384r1";case"P-521":return"secp521r1";default:return e}}}iB.publicKeyUsages=["verify"],iB.privateKeyUsages=["sign","deriveKey","deriveBits"];class ix extends rL{constructor(){super(...arguments),this.namedCurves=nv.names,this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let n=await iB.generateKey({...e,name:this.name},t,r);return{privateKey:nG(n.privateKey),publicKey:nG(n.publicKey)}}async onSign(e,t,r){return iB.sign(e,nV(t),new Uint8Array(r))}async onVerify(e,t,r,n){return iB.verify(e,nV(t),new Uint8Array(r),new Uint8Array(n))}async onExportKey(e,t){return iB.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){return nG(await iB.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=nV(e);if(!(r instanceof ig||r instanceof im))throw TypeError("key: Is not EC CryptoKey")}}class i_ extends rM{constructor(){super(...arguments),this.namedCurves=nv.names}async onGenerateKey(e,t,r){let n=await iB.generateKey({...e,name:this.name},t,r);return{privateKey:nG(n.privateKey),publicKey:nG(n.publicKey)}}async onExportKey(e,t){return iB.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){return nG(await iB.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=nV(e);if(!(r instanceof ig||r instanceof im))throw TypeError("key: Is not EC CryptoKey")}async onDeriveBits(e,t,r){return await iB.deriveBits({...e,public:nV(e.public)},nV(t),r)}}let iP={[nw.idEd448]:"Ed448",ed448:nw.idEd448,[nw.idX448]:"X448",x448:nw.idX448,[nw.idEd25519]:"Ed25519",ed25519:nw.idEd25519,[nw.idX25519]:"X25519",x25519:nw.idX25519};function iC(e){let t=iP[e.toLowerCase()];if(!t)throw new rb(`Cannot convert WebCrypto named curve '${e}' to OID`);return t}class iO extends nM{constructor(){super(...arguments),this.type="private"}getKey(){let e=t1.parse(this.data,nw.PrivateKeyInfo);return t1.parse(e.privateKey,nw.CurvePrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},rp.toJSON(e))}fromJSON(e){if(!e.crv)throw new rb("Cannot get named curve from JWK. Property 'crv' is required");let t=new nw.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm=iC(e.crv);let r=ry.fromJSON(e,{targetSchema:nw.CurvePrivateKey});return t.privateKey=t2.serialize(r),this.data=nT.Buffer.from(t2.serialize(t)),this}}class iR extends nM{constructor(){super(...arguments),this.type="public"}getKey(){return t1.parse(this.data,nw.PublicKeyInfo).publicKey}toJSON(){let e=this.getKey();return Object.assign({kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},{x:D.ep.ToBase64Url(e)})}fromJSON(e){if(!e.crv)throw new rb("Cannot get named curve from JWK. Property 'crv' is required");if(!e.x)throw new rb("Cannot get property from JWK. Property 'x' is required");let t=new nw.PublicKeyInfo;return t.publicKeyAlgorithm.algorithm=iC(e.crv),t.publicKey=D.ep.FromBase64Url(e.x),this.data=nT.Buffer.from(t2.serialize(t)),this}}class iU{static async generateKey(e,t,r){let n=new iO;n.algorithm=e,n.extractable=t,n.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let i=new iR;i.algorithm=e,i.extractable=!0,i.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let o=e.namedCurve.toLowerCase(),a=nN().generateKeyPairSync(o,{publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return n.data=a.privateKey,i.data=a.publicKey,{privateKey:n,publicKey:i}}static async sign(e,t,r){t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let n={key:t.pem},i=nN().sign(null,nT.Buffer.from(r),n);return D.vJ.toArrayBuffer(i)}static async verify(e,t,r,n){t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let i={key:t.pem};return nN().verify(null,nT.Buffer.from(n),i,nT.Buffer.from(r))}static async deriveBits(e,t,r){let n=nN().createPublicKey({key:e.public.data,format:"der",type:"spki"}),i=nN().createPrivateKey({key:t.data,format:"der",type:"pkcs8"});return new Uint8Array(nN().diffieHellman({publicKey:n,privateKey:i})).buffer.slice(0,r>>3)}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return rp.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;case"raw":return t1.parse(t.data,nw.PublicKeyInfo).publicKey;default:throw new rb("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,t,r,n,i){switch(e.toLowerCase()){case"jwk":{let e=t;if(e.d){let e=ry.fromJSON(t,{targetSchema:nw.CurvePrivateKey});return this.importPrivateKey(e,r,n,i)}if(!e.x)throw TypeError("keyData: Cannot get required 'x' filed");return this.importPublicKey(D.ep.FromBase64Url(e.x),r,n,i)}case"raw":return this.importPublicKey(t,r,n,i);case"spki":{let e=t1.parse(new Uint8Array(t),nw.PublicKeyInfo);return this.importPublicKey(e.publicKey,r,n,i)}case"pkcs8":{let e=t1.parse(new Uint8Array(t),nw.PrivateKeyInfo),o=t1.parse(e.privateKey,nw.CurvePrivateKey);return this.importPrivateKey(o,r,n,i)}default:throw new rb("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static importPrivateKey(e,t,r,n){let i=new iO;return i.fromJSON({crv:t.namedCurve,d:D.ep.ToBase64Url(e.d)}),i.algorithm=Object.assign({},t),i.extractable=r,i.usages=n,i}static async importPublicKey(e,t,r,n){let i=new iR;return i.fromJSON({crv:t.namedCurve,x:D.ep.ToBase64Url(e)}),i.algorithm=Object.assign({},t),i.extractable=r,i.usages=n,i}}iU.publicKeyUsages=["verify"],iU.privateKeyUsages=["sign","deriveKey","deriveBits"];class iT extends rF{async onGenerateKey(e,t,r){let n=await iU.generateKey({name:this.name,namedCurve:e.namedCurve.replace(/^ed/i,"Ed")},t,r);return{privateKey:nG(n.privateKey),publicKey:nG(n.publicKey)}}async onSign(e,t,r){return iU.sign(e,nV(t),new Uint8Array(r))}async onVerify(e,t,r,n){return iU.verify(e,nV(t),new Uint8Array(r),new Uint8Array(n))}async onExportKey(e,t){return iU.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){return nG(await iU.importKey(e,t,{...r,name:this.name},n,i))}}class iK extends rJ{async onGenerateKey(e,t,r){let n=await iU.generateKey({name:this.name,namedCurve:e.namedCurve.toUpperCase()},t,r);return{privateKey:nG(n.privateKey),publicKey:nG(n.publicKey)}}async onDeriveBits(e,t,r){return await iU.deriveBits({...e,public:nV(e.public)},nV(t),r)}async onExportKey(e,t){return iU.exportKey(e,nV(t))}async onImportKey(e,t,r,n,i){return nG(await iU.importKey(e,t,{...r,name:this.name},n,i))}}class iN extends nj{constructor(e,t,r,n){super(),this.algorithm=e,this.extractable=t,this.usages=r,this.data=nH.from(n)}toJWK(){return{kty:"OKP",crv:this.algorithm.name,key_ops:this.usages,ext:this.extractable}}}class iI extends iN{constructor(){super(...arguments),this.type="private"}toJWK(){let e=nN().createPublicKey({key:this.data,format:"pem"}).export({format:"jwk"}),t=rA.toUint8Array(this.data.toString()),r=t8.parse(t,nw.PrivateKeyInfo),n=t8.parse(r.privateKey,nw.EdPrivateKey).value;return{...super.toJWK(),...e,d:nH.from(new Uint8Array(n)).toString("base64url")}}}class iH extends iN{constructor(){super(...arguments),this.type="public"}toJWK(){let e=nN().createPublicKey({key:this.data,format:"pem"}).export({format:"jwk"});return{...super.toJWK(),...e}}}class iL{static async generateKey(e,t,r){let n=e.name.toLowerCase(),i=nN().generateKeyPairSync(n,{publicKeyEncoding:{format:"pem",type:"spki"},privateKeyEncoding:{format:"pem",type:"pkcs8"}}),o={name:"ed25519"===n?"Ed25519":"X25519"},a=r.filter(e=>this.privateKeyUsages.includes(e)),s=r.filter(e=>this.publicKeyUsages.includes(e));return{privateKey:new iI(o,t,a,i.privateKey),publicKey:new iH(o,!0,s,i.publicKey)}}static async sign(e,t,r){let n=nN().sign(null,nH.from(r),t.data);return D.vJ.toArrayBuffer(n)}static async verify(e,t,r,n){return nN().verify(null,nH.from(n),t.data,r)}static async exportKey(e,t){switch(e){case"jwk":return t.toJWK();case"pkcs8":case"spki":return rA.toArrayBuffer(t.data.toString());case"raw":{let e=t.toJWK();return D.ep.FromBase64Url(e.x)}default:return Promise.reject(new rb("format: Must be 'jwk', 'raw', pkcs8' or 'spki'"))}}static async importKey(e,t,r,n,i){switch(e){case"jwk":{let e=t;if(e.d){let t=new nw.EdPrivateKey;t.value=D.vJ.toArrayBuffer(nH.from(e.d,"base64url"));let o=new nw.PrivateKeyInfo;o.privateKeyAlgorithm.algorithm="ed25519"===r.name.toLowerCase()?nw.idEd25519:nw.idX25519,o.privateKey=t8.serialize(t);let a=t8.serialize(o);return new iI(r,n,i,rA.fromBufferSource(a,"PRIVATE KEY"))}if(e.x)return new iH(r,n,i,nN().createPublicKey({format:"jwk",key:e}).export({format:"pem",type:"spki"}));throw new rb("keyData: Cannot import JWK. 'd' or 'x' must be presented")}case"pkcs8":return new iI(r,n,i,rA.fromBufferSource(t,"PRIVATE KEY"));case"spki":return new iH(r,n,i,rA.fromBufferSource(t,"PUBLIC KEY"));case"raw":{let e=t,o=nN().createPublicKey({format:"jwk",key:{kty:"OKP",crv:"ed25519"===r.name.toLowerCase()?"Ed25519":"X25519",x:D.ep.ToBase64Url(e)}}).export({format:"pem",type:"spki"});return new iH(r,n,i,o)}default:return Promise.reject(new rb("format: Must be 'jwk', 'raw', pkcs8' or 'spki'"))}}}iL.privateKeyUsages=["sign","deriveBits","deriveKey"],iL.publicKeyUsages=["verify"];class ij extends nE{async onGenerateKey(e,t,r){let n=await iL.generateKey(e,t,r);return{privateKey:nG(n.privateKey),publicKey:nG(n.publicKey)}}async onSign(e,t,r){let n=nV(t);return iL.sign(e,n,new Uint8Array(r))}onVerify(e,t,r,n){let i=nV(t);return iL.verify(e,i,new Uint8Array(r),new Uint8Array(n))}async onExportKey(e,t){let r=nV(t);return iL.exportKey(e,r)}async onImportKey(e,t,r,n,i){return nG(await iL.importKey(e,t,r,n,i))}}class iD extends nb{async onGenerateKey(e,t,r){let n=await iL.generateKey(e,t,r);return{privateKey:nG(n.privateKey),publicKey:nG(n.publicKey)}}async onDeriveBits(e,t,r){let n=nV(t),i=nV(e.public),o=nN().createPublicKey({key:i.data.toString(),format:"pem",type:"spki"}),a=nN().createPrivateKey({key:n.data.toString(),format:"pem",type:"pkcs8"});return new Uint8Array(nN().diffieHellman({publicKey:o,privateKey:a})).buffer.slice(0,r>>3)}async onExportKey(e,t){let r=nV(t);return iL.exportKey(e,r)}async onImportKey(e,t,r,n,i){return nG(await iL.importKey(e,t,r,n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(nV(e) instanceof iN))throw TypeError("key: Is not a Ed25519CryptoKey")}}class iM extends nj{}class iJ extends nS{async onDeriveBits(e,t,r){return new Promise((n,i)=>{let o=D.vJ.toArrayBuffer(e.salt),a=e.hash.name.replace("-","");nN().pbkdf2(nV(t).data,nT.Buffer.from(o),e.iterations,r>>3,a,(e,t)=>{e?i(e):n(new Uint8Array(t).buffer)})})}async onImportKey(e,t,r,n,i){if("raw"===e){let e=new iM;return e.data=nT.Buffer.from(t),e.algorithm={name:this.name},e.extractable=!1,e.usages=i,nG(e)}throw new rb("format: Must be 'raw'")}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(nV(e) instanceof iM))throw TypeError("key: Is not PBKDF CryptoKey")}}class iF extends nj{get alg(){let e=this.algorithm.hash.name.toUpperCase();return`HS${e.replace("SHA-","")}`}set alg(e){}}(0,t3.gn)([rg({name:"k",converter:nL})],iF.prototype,"data",void 0);class iW extends nA{async onGenerateKey(e,t,r){let n=(e.length||this.getDefaultLength(e.hash.name))>>3<<3,i=new iF;return i.algorithm={...e,length:n,name:this.name},i.extractable=t,i.usages=r,i.data=nN().randomBytes(n>>3),nG(i)}async onSign(e,t,r){let n=il.getAlgorithmName(t.algorithm.hash);return new Uint8Array(nN().createHmac(n,nV(t).data).update(nT.Buffer.from(r)).digest()).buffer}async onVerify(e,t,r,n){let i=il.getAlgorithmName(t.algorithm.hash);return 0===nN().createHmac(i,nV(t).data).update(nT.Buffer.from(n)).digest().compare(nT.Buffer.from(r))}async onImportKey(e,t,r,n,i){let o;switch(e.toLowerCase()){case"jwk":o=ry.fromJSON(t,{targetSchema:iF});break;case"raw":(o=new iF).data=nT.Buffer.from(t);break;default:throw new rb("format: Must be 'jwk' or 'raw'")}return o.algorithm={hash:{name:r.hash.name},name:this.name,length:o.data.length<<3},o.extractable=n,o.usages=i,nG(o)}async onExportKey(e,t){switch(e.toLowerCase()){case"jwk":return rp.toJSON(nV(t));case"raw":return new Uint8Array(nV(t).data).buffer;default:throw new rb("format: Must be 'jwk' or 'raw'")}}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(nV(e) instanceof iF))throw TypeError("key: Is not HMAC CryptoKey")}}class iV extends nj{}class iG extends nk{async onImportKey(e,t,r,n,i){if("raw"!==e.toLowerCase())throw new rb("Operation not supported");let o=new iV;return o.data=nT.Buffer.from(t),o.algorithm={name:this.name},o.extractable=n,o.usages=i,nG(o)}async onDeriveBits(e,t,r){let n=e.hash.name.replace("-",""),i=nN().createHash(n).digest().length,o=r/8,a=D.vJ.toUint8Array(e.info),s=nN().createHmac(n,D.vJ.toUint8Array(e.salt)).update(D.vJ.toUint8Array(nV(t).data)).digest(),c=[nT.Buffer.alloc(0)],u=Math.ceil(o/i)+1;for(let e=1;e<u;++e)c.push(nN().createHmac(n,s).update(nT.Buffer.concat([c[e-1],a,nT.Buffer.from([e])])).digest());return nT.Buffer.concat(c).slice(0,o)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(nV(e) instanceof iV))throw TypeError("key: Is not HKDF CryptoKey")}}class i${static digest(e,t){return new Uint8Array(nN().createHash(e.name.toLowerCase(),{outputLength:e.length}).update(nT.Buffer.from(t)).digest()).buffer}}class iz extends nx{async onDigest(e,t){return i$.digest(e,t)}}class iq extends n_{async onDigest(e,t){return i$.digest(e,t)}}class iY extends nU{constructor(){var e;super(),this.providers.set(new n$),this.providers.set(new n6),this.providers.set(new n4),this.providers.set(new n3),this.providers.set(new n5),this.providers.set(new n7),nN().getCiphers().includes("des-cbc")&&this.providers.set(new it),this.providers.set(new ir),this.providers.set(new ic),this.providers.set(new iu),this.providers.set(new ih),this.providers.set(new ip),this.providers.set(new ix),this.providers.set(new i_),this.providers.set(new iw),this.providers.set(new iv),this.providers.set(new ib),this.providers.set(new iE),this.providers.set(new iJ),this.providers.set(new iW),this.providers.set(new iG);let t=null===(e=/^v(\d+)/.exec(nI.version))||void 0===e?void 0:e[1];t&&parseInt(t,10)>=12&&(this.providers.set(new iz),this.providers.set(new iq));let r=nN().getHashes();r.includes("sha3-256")&&this.providers.set(new iA),r.includes("sha3-384")&&this.providers.set(new iS),r.includes("sha3-512")&&this.providers.set(new ik),t&&parseInt(t,10)>=14&&(this.providers.set(new iT),this.providers.set(new iK),this.providers.set(new ij),this.providers.set(new iD))}}class iX extends nP{constructor(){super(...arguments),this.subtle=new iY}getRandomValues(e){if(!ArrayBuffer.isView(e))throw TypeError("Failed to execute 'getRandomValues' on 'Crypto': parameter 1 is not of type 'ArrayBufferView'");let t=nT.Buffer.from(e.buffer,e.byteOffset,e.byteLength);return nN().randomFillSync(t),e}}},9626:function(e,t){"use strict";t.byteLength=u,t.toByteArray=f,t.fromByteArray=y;for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function u(e){var t=c(e),r=t[0],n=t[1];return(r+n)*3/4-n}function l(e,t,r){return(t+r)*3/4-r}function f(e){var t,r,o=c(e),a=o[0],s=o[1],u=new i(l(e,a,s)),f=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[f++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t),u}function h(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,r){for(var n=[],i=t;i<r;i+=3)n.push(h((e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2])));return n.join("")}function y(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(p(e,s,s+a>c?c:s+a));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},6385:function(e,t,r){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var n=r(9626),i=r(8255),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;var a=2147483647;function s(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}function c(e){if(e>a)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return p(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return y(e,t);if(ArrayBuffer.isView(e))return g(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return m(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);var i=w(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function h(e,t,r){return(f(e),e<=0)?c(e):void 0!==t?"string"==typeof r?c(e).fill(t,r):c(e).fill(t):c(e)}function p(e){return f(e),c(e<0?0:0|v(e))}function y(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!u.isEncoding(t))throw TypeError("Unknown encoding: "+t);var r=0|E(e,t),n=c(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function d(e){for(var t=e.length<0?0:0|v(e.length),r=c(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function g(e){if(X(e,Uint8Array)){var t=new Uint8Array(e);return m(t.buffer,t.byteOffset,t.byteLength)}return d(e)}function m(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),u.prototype),n}function w(e){if(u.isBuffer(e)){var t=0|v(e.length),r=c(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||Z(e.length)?c(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}function v(e){if(e>=a)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),u.alloc(+e)}function E(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(i)return n?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function A(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return H(this,t,r);case"utf8":case"utf-8":return U(this,t,r);case"ascii":return N(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return R(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function S(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function k(e,t,r,n,i){if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:B(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):B(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function B(e,t,r,n,i){var o,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else -1!==l&&(o-=o-l),l=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){for(var f=!0,h=0;h<c;h++)if(u(e,o+h)!==u(t,h)){f=!1;break}if(f)return o}return -1}function x(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(Z(s))break;e[r+a]=s}return a}function _(e,t,r,n){return Y(G(t,e.length-r),e,r,n)}function P(e,t,r,n){return Y($(t),e,r,n)}function C(e,t,r,n){return Y(q(t),e,r,n)}function O(e,t,r,n){return Y(z(t,e.length-r),e,r,n)}function R(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function U(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,c,u=e[i],l=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=r)switch(f){case 1:u<128&&(l=u);break;case 2:(192&(o=e[i+1]))==128&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],a=e[i+2],(192&o)==128&&(192&a)==128&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return K(n)}t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=s(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return h(e,t,r)},u.allocUnsafe=function(e){return p(e)},u.allocUnsafeSlow=function(e){return p(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(X(o,Uint8Array))i+o.length>n.length?u.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else if(u.isBuffer(o))o.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=o.length}return n},u.byteLength=E,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)S(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)S(this,t,t+3),S(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)S(this,t,t+7),S(this,t+1,t+6),S(this,t+2,t+5),S(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?U(this,0,e):A.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,s=Math.min(o,a),c=this.slice(n,i),l=e.slice(t,r),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return k(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return k(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return x(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return P(this,e,t,r);case"base64":return C(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,r);default:if(o)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function K(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}function N(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function H(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=Q[e[o]];return i}function L(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function j(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,i,o){if(!u.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function M(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function J(e,t,r,n,o){return t=+t,r>>>=0,o||M(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,o){return t=+t,r>>>=0,o||M(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return(e>>>=0,t||j(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;D(this,e,t,r,i,0)}var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;D(this,e,t,r,i,0)}var o=r-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeFloatLE=function(e,t,r){return J(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return J(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=u.isBuffer(e)?e:u.from(e,n),s=a.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var W=/[^+/0-9A-Za-z-_]/g;function V(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function G(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function $(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function z(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}function q(e){return n.toByteArray(V(e))}function Y(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}var Q=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},3471:function(e,t){"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=i,t.serialize=o;var r=Object.prototype.toString,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},n=(t||{}).decode||a,i=0;i<e.length;){var o=e.indexOf("=",i);if(-1===o)break;var s=e.indexOf(";",i);if(-1===s)s=e.length;else if(s<o){i=e.lastIndexOf(";",o-1)+1;continue}var c=e.slice(i,o).trim();if(void 0===r[c]){var l=e.slice(o+1,s).trim();34===l.charCodeAt(0)&&(l=l.slice(1,-1)),r[c]=u(l,n)}i=s+1}return r}function o(e,t,r){var i=r||{},o=i.encode||s;if("function"!=typeof o)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var a=o(t);if(a&&!n.test(a))throw TypeError("argument val is invalid");var u=e+"="+a;if(null!=i.maxAge){var l=i.maxAge-0;if(isNaN(l)||!isFinite(l))throw TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(l)}if(i.domain){if(!n.test(i.domain))throw TypeError("option domain is invalid");u+="; Domain="+i.domain}if(i.path){if(!n.test(i.path))throw TypeError("option path is invalid");u+="; Path="+i.path}if(i.expires){var f=i.expires;if(!c(f)||isNaN(f.valueOf()))throw TypeError("option expires is invalid");u+="; Expires="+f.toUTCString()}if(i.httpOnly&&(u+="; HttpOnly"),i.secure&&(u+="; Secure"),i.priority)switch("string"==typeof i.priority?i.priority.toLowerCase():i.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u}function a(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function s(e){return encodeURIComponent(e)}function c(e){return"[object Date]"===r.call(e)||e instanceof Date}function u(e,t){try{return t(e)}catch(t){return e}}},8255:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,u=c>>1,l=-7,f=r?i-1:0,h=r?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=u}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,h=23===i?5960464477539062e-23:0,p=n?0:o-1,y=n?1:-1,d=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+f>=1?t+=h/c:t+=h*Math.pow(2,1-f),t*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=y,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+p]=255&a,p+=y,a/=256,u-=8);e[r+p-y]|=128*d}},9356:function(e,t,r){"use strict";var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))c.call(e,s)||s===r||i(e,s,{get:()=>t[s],enumerable:!(n=o(t,s))||n.enumerable});return e},l=(e,t,r)=>(r=null!=e?n(s(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),f=e=>u(i({},"__esModule",{value:!0}),e),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{createGetIronSession:()=>b,createSealData:()=>B,createUnsealData:()=>S,getIronSession:()=>O,sealData:()=>C,unsealData:()=>P}),e.exports=f(h);var p=l(r(9611)),y=l(r(3471)),d=60,g=1296e3,m=2,w="~",v={ttl:g,cookieOptions:{httpOnly:!0,secure:!0,sameSite:"lax",path:"/"}};function b(e,t,r){return async(e,n,i)=>{if(!e||!n||!i||!i.cookieName||!i.password)throw Error('iron-session: Bad usage. Minimum usage is const session = await getIronSession(req, res, { cookieName: "...", password: "...". Check the usage here: https://github.com/vvo/iron-session');let o=x(i.password);Object.values(x(i.password)).forEach(e=>{if(e.length<32)throw Error("iron-session: Bad usage. Password must be at least 32 characters long.")});let a={...v,...i,cookieOptions:{...v.cookieOptions,...i.cookieOptions||{}}};0===a.ttl&&(a.ttl=2147483647),i.cookieOptions&&"maxAge"in i.cookieOptions?void 0===i.cookieOptions.maxAge?a.ttl=0:a.cookieOptions.maxAge=A(i.cookieOptions.maxAge):a.cookieOptions.maxAge=A(a.ttl);let s=y.default.parse("credentials"in e?e.headers.get("cookie")||"":e.headers.cookie||"")[a.cookieName],c=void 0===s?{}:await t(s,{password:o,ttl:a.ttl});return Object.defineProperties(c,{save:{value:async function(){if("headersSent"in n&&!0===n.headersSent)throw Error("iron-session: Cannot set session cookie: session.save() was called after headers were sent. Make sure to call it before any res.send() or res.end()");let e=await r(c,{password:o,ttl:a.ttl}),t=y.default.serialize(a.cookieName,e,a.cookieOptions);if(t.length>4096)throw Error(`iron-session: Cookie length is too big ${t.length}, browsers will refuse it. Try to remove some data.`);E(t,n)}},destroy:{value:function(){Object.keys(c).forEach(e=>{delete c[e]}),E(y.default.serialize(a.cookieName,"",{...a.cookieOptions,maxAge:0}),n)}}}),c}}function E(e,t){var r;if("headers"in t){t.headers.append("set-cookie",e);return}let n=null!=(r=t.getHeader("set-cookie"))?r:[];"string"==typeof n&&(n=[n]),t.setHeader("set-cookie",[...n,e])}function A(e){return e-d}function S(e){return async(t,{password:r,ttl:n=g})=>{let i=x(r),{sealWithoutVersion:o,tokenVersion:a}=k(t);try{let t=await p.unseal(e,o,i,{...p.defaults,ttl:1e3*n})||{};if(2===a)return t;return{...t.persistent}}catch(e){if(e instanceof Error&&("Expired seal"===e.message||"Bad hmac value"===e.message||e.message.startsWith("Cannot find password: ")||"Incorrect number of sealed components"===e.message))return{};throw e}}}function k(e){if(e[e.length-2]===w){let[t,r]=e.split(w);return{sealWithoutVersion:t,tokenVersion:parseInt(r,10)}}return{sealWithoutVersion:e,tokenVersion:null}}function B(e){return async(t,{password:r,ttl:n=g})=>{let i=x(r),o=Math.max(...Object.keys(i).map(e=>parseInt(e,10))),a={id:o.toString(),secret:i[o]},s=await p.seal(e,t,a,{...p.defaults,ttl:1e3*n});return`${s}${w}${m}`}}function x(e){return"string"==typeof e?{1:e}:e}var _=new(r(5415)).Crypto,P=S(_),C=B(_),O=b(_,P,C)},9611:function(e,t,r){"use strict";var n=r(1071),i=e=>(n.Buffer.isBuffer(e)?e:n.Buffer.from(e)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),o={encryption:{saltBits:256,algorithm:"aes-256-cbc",iterations:1,minPasswordlength:32},integrity:{saltBits:256,algorithm:"sha256",iterations:1,minPasswordlength:32},ttl:0,timestampSkewSec:60,localtimeOffsetMsec:0},a=e=>({...e,encryption:{...e.encryption},integrity:{...e.integrity}}),s={"aes-128-ctr":{keyBits:128,ivBits:128,name:"AES-CTR"},"aes-256-cbc":{keyBits:256,ivBits:128,name:"AES-CBC"},sha256:{keyBits:256,name:"SHA-256"}},c="2",u=`Fe26.${c}`,l=(e,t)=>{let r=n.Buffer.allocUnsafe(t);return e.getRandomValues(r),r},f=(e,t)=>{if(t<1)throw Error("Invalid random bits count");return l(e,Math.ceil(t/8))},h=async(e,t,r,i,o,a)=>{let s=new TextEncoder,c=s.encode(t),u=await e.subtle.importKey("raw",c,"PBKDF2",!1,["deriveBits"]),l={name:"PBKDF2",hash:a,salt:s.encode(r),iterations:i},f=await e.subtle.deriveBits(l,u,8*o);return n.Buffer.from(f)},p=async(e,t,r)=>{var n;if(null==t||!t.length)throw Error("Empty password");if(null==r||"object"!=typeof r)throw Error("Bad options");if(!(r.algorithm in s))throw Error(`Unknown algorithm: ${r.algorithm}`);let i=s[r.algorithm],o={},a=null!=(n=r.hmac)&&n,c=a?{name:"HMAC",hash:i.name}:{name:i.name},u=a?["sign","verify"]:["encrypt","decrypt"];if("string"==typeof t){if(t.length<r.minPasswordlength)throw Error(`Password string too short (min ${r.minPasswordlength} characters required)`);let{salt:n=""}=r;if(!n){let{saltBits:t=0}=r;if(!t)throw Error("Missing salt and saltBits options");n=f(e,t).toString("hex")}let a=await h(e,t,n,r.iterations,i.keyBits/8,"SHA-1"),s=await e.subtle.importKey("raw",a,c,!1,u);o.key=s,o.salt=n}else{if(t.length<i.keyBits/8)throw Error("Key buffer (password) too small");o.key=await e.subtle.importKey("raw",t,c,!1,u),o.salt=""}return r.iv?o.iv=r.iv:"ivBits"in i&&(o.iv=f(e,i.ivBits)),o},y=async(e,t,r,i)=>{let o=await p(e,t,r),a=new TextEncoder().encode(i),c=await e.subtle.encrypt({name:s[r.algorithm].name,iv:o.iv},o.key,a);return{encrypted:n.Buffer.from(c),key:o}},d=async(e,t,r,i)=>{let o=await p(e,t,r),a=await e.subtle.decrypt({name:s[r.algorithm].name,iv:o.iv},o.key,n.Buffer.isBuffer(i)?i:n.Buffer.from(i));return new TextDecoder().decode(a)},g=async(e,t,r,o)=>{let a=await p(e,t,{...r,hmac:!0}),s=new TextEncoder().encode(o),c=await e.subtle.sign({name:"HMAC"},a.key,s);return{digest:i(n.Buffer.from(c)),salt:a.salt}},m=e=>"object"!=typeof e||n.Buffer.isBuffer(e)?{encryption:e,integrity:e}:"secret"in e?{id:e.id,encryption:e.secret,integrity:e.secret}:{id:e.id,encryption:e.encryption,integrity:e.integrity},w=async(e,t,r,n)=>{if(!r)throw Error("Empty password");let o=a(n),s=Date.now()+(o.localtimeOffsetMsec||0),c=JSON.stringify(t),l=m(r),{id:f=""}=l;if(f&&!/^\w+$/.test(f))throw Error("Invalid password id");let{encrypted:h,key:p}=await y(e,l.encryption,o.encryption,c),d=i(h),w=i(p.iv),v=o.ttl?s+o.ttl:"",b=`${u}*${f}*${p.salt}*${w}*${d}*${v}`,E=await g(e,l.integrity,o.integrity,b);return`${b}*${E.salt}*${E.digest}`},v=(e,t)=>{let r=e.length===t.length?0:1;r&&(t=e);for(let n=0;n<e.length;n+=1)r|=e.charCodeAt(n)^t.charCodeAt(n);return 0===r},b=async(e,t,r,i)=>{let o;if(!r)throw Error("Empty password");let s=a(i),c=Date.now()+(s.localtimeOffsetMsec||0),l=t.split("*");if(8!==l.length)throw Error("Incorrect number of sealed components");let f=l[0],h=l[1],p=l[2],y=l[3],w=l[4],b=l[5],E=l[6],A=l[7],S=`${f}*${h}*${p}*${y}*${w}*${b}`;if(u!==f)throw Error("Wrong mac prefix");if(b){if(!/^\d+$/.exec(b))throw Error("Invalid expiration");if(parseInt(b,10)<=c-1e3*s.timestampSkewSec)throw Error("Expired seal")}if(void 0===r||"string"==typeof r&&0===r.length)throw Error("Empty password");if("object"!=typeof r||n.Buffer.isBuffer(r))o=r;else{if(!((h||"default")in r))throw Error(`Cannot find password: ${h}`);o=r[h||"default"]}o=m(o);let k=s.integrity;if(k.salt=E,!v((await g(e,o.integrity,k,S)).digest,A))throw Error("Bad hmac value");let B=n.Buffer.from(w,"base64"),x=s.encryption;x.salt=p,x.iv=n.Buffer.from(y,"base64");let _=await d(e,o.encryption,x,B);return _?JSON.parse(_):null};Object.defineProperty(t,"Buffer",{enumerable:!0,get:function(){return n.Buffer}}),t.algorithms=s,t.base64urlEncode=i,t.clone=a,t.decrypt=d,t.defaults=o,t.encrypt=y,t.generateKey=p,t.hmacWithPassword=g,t.macFormatVersion=c,t.macPrefix=u,t.randomBits=f,t.seal=w,t.unseal=b},1071:function(e,t,r){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */let n=r(9626),i=r(8255),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;let a=2147483647;function s(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}function c(e){if(e>a)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return p(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return y(e,t);if(ArrayBuffer.isView(e))return g(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ea(e,ArrayBuffer)||e&&ea(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(ea(e,SharedArrayBuffer)||e&&ea(e.buffer,SharedArrayBuffer)))return m(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);let i=w(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function h(e,t,r){return(f(e),e<=0)?c(e):void 0!==t?"string"==typeof r?c(e).fill(t,r):c(e).fill(t):c(e)}function p(e){return f(e),c(e<0?0:0|v(e))}function y(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!u.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|E(e,t),n=c(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function d(e){let t=e.length<0?0:0|v(e.length),r=c(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function g(e){if(ea(e,Uint8Array)){let t=new Uint8Array(e);return m(t.buffer,t.byteOffset,t.byteLength)}return d(e)}function m(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),u.prototype),n}function w(e){if(u.isBuffer(e)){let t=0|v(e.length),r=c(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||es(e.length)?c(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}function v(e){if(e>=a)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),u.alloc(+e)}function E(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ea(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return et(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return ei(e).length;default:if(i)return n?-1:et(e).length;t=(""+t).toLowerCase(),i=!0}}function A(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return H(this,t,r);case"utf8":case"utf-8":return U(this,t,r);case"ascii":return N(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return R(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function S(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function k(e,t,r,n,i){if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),es(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:B(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):B(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function B(e,t,r,n,i){let o,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*a}else -1!==n&&(o-=o-n),n=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return -1}function x(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(es(n))break;e[r+i]=n}return i}function _(e,t,r,n){return eo(et(t,e.length-r),e,r,n)}function P(e,t,r,n){return eo(er(t),e,r,n)}function C(e,t,r,n){return eo(ei(t),e,r,n)}function O(e,t,r,n){return eo(en(t,e.length-r),e,r,n)}function R(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function U(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,c;switch(a){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(c=(31&t)<<6|63&r)>127&&(o=c);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(c=(15&t)<<12|(63&r)<<6|63&n)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return K(n)}t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=s(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return h(e,t,r)},u.allocUnsafe=function(e){return p(e)},u.allocUnsafeSlow=function(e){return p(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(ea(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),ea(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(ea(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(u.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},u.byteLength=E,u.prototype._isBuffer=!0,u.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)S(this,t,t+1);return this},u.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)S(this,t,t+3),S(this,t+1,t+2);return this},u.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)S(this,t,t+7),S(this,t+1,t+6),S(this,t+2,t+5),S(this,t+3,t+4);return this},u.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?U(this,0,e):A.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(ea(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,a=r-t,s=Math.min(o,a),c=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<s;++e)if(c[e]!==l[e]){o=c[e],a=l[e];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return k(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return k(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return x(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return P(this,e,t,r);case"base64":return C(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,r);default:if(o)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let T=4096;function K(e){let t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}function N(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function I(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function H(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=ec[e[n]];return i}function L(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function j(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,i,o){if(!u.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function M(e,t,r,n,i){Y(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function J(e,t,r,n,i){Y(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function F(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function W(e,t,r,n,o){return t=+t,r>>>=0,o||F(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function V(e,t,r,n,o){return t=+t,r>>>=0,o||F(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=eu(function(e){X(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&Z(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),u.prototype.readBigUInt64BE=eu(function(e){X(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&Z(e,this.length-8);let n=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return(e>>>=0,t||j(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=eu(function(e){X(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&Z(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),u.prototype.readBigInt64BE=eu(function(e){X(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&Z(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;D(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;D(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=eu(function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=eu(function(e,t=0){return J(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);D(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);D(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=eu(function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=eu(function(e,t=0){return J(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(e,t,r){return W(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return W(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return V(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return V(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=u.isBuffer(e)?e:u.from(e,n),a=o.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};let G={};function $(e,t,r){G[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function z(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function q(e,t,r){X(t,"offset"),(void 0===e[t]||void 0===e[t+r])&&Z(t,e.length-(r+1))}function Y(e,t,r,n,i,o){if(e>r||e<t){let n;let i="bigint"==typeof t?"n":"";throw n=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new G.ERR_OUT_OF_RANGE("value",n,e)}q(n,i,o)}function X(e,t){if("number"!=typeof e)throw new G.ERR_INVALID_ARG_TYPE(t,"number",e)}function Z(e,t,r){if(Math.floor(e)!==e)throw X(e,r),new G.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new G.ERR_BUFFER_OUT_OF_BOUNDS;throw new G.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}$("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),$("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),$("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=z(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=z(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let Q=/[^+/0-9A-Za-z-_]/g;function ee(e){if((e=(e=e.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function et(e,t){let r;t=t||1/0;let n=e.length,i=null,o=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function er(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function en(e,t){let r,n;let i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}function ei(e){return n.toByteArray(ee(e))}function eo(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function ea(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function es(e){return e!=e}let ec=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function eu(e){return"undefined"==typeof BigInt?el:e}function el(){throw Error("BigInt not supported")}},7754:function(e,t,r){"use strict";var n=r(534);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},3875:function(e,t,r){"use strict";var n,i;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(3928)},1181:function(e){var t="/";!function(){"use strict";var r={864:function(e){var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function i(e){console&&console.warn&&console.warn(e)}t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=w,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function c(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){if(c(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=u(e))>0&&s.length>o&&!s.warned){s.warned=!0;var o,a,s,l=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,i(l)}return e}function f(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?m(i):d(i,i.length)}function y(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function m(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function w(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}b(e,t,o,{once:!0}),"error"!==t&&v(e,i,{once:!0})})}function v(e,t,r){"function"==typeof e.on&&b(e,"error",t,r)}function b(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,s=Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else for(var u=c.length,l=d(c,u),r=0;r<u;++r)n(l[r],this,t);return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,o,a;if(c(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():g(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},a.prototype.listenerCount=y,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}},a=!0;try{r[e](o,o.exports,i),a=!1}finally{a&&delete n[e]}return o.exports}i.ab=t+"/";var o=i(864);e.exports=o}()},3928:function(e){var t="/";!function(){var r={229:function(e){var t,r,n,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}function c(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u=[],l=!1,f=-1;function h(){l&&n&&(l=!1,n.length?u=n.concat(u):f=-1,u.length&&p())}function p(){if(!l){var e=s(h);l=!0;for(var t=u.length;t;){for(n=u,u=[];++f<t;)n&&n[f].run();f=-1,t=u.length}n=null,l=!1,c(e)}}function y(e,t){this.fun=e,this.array=t}function d(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new y(e,t)),1!==u.length||l||s(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}},a=!0;try{r[e](o,o.exports,i),a=!1}finally{a&&delete n[e]}return o.exports}i.ab=t+"/";var o=i(229);e.exports=o}()},4472:function(e,t,r){var n="/",i=r(3875);!function(){var t={782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},646:function(e){"use strict";let t={};function r(e,r,n){function i(e,t,n){return"string"==typeof r?r:r(e,t,n)}n||(n=Error);class o extends n{constructor(e,t,r){super(i(e,t,r))}}o.prototype.name=n.name,o.prototype.code=e,t[e]=o}function n(e,t){if(!Array.isArray(e))return`of ${t} ${String(e)}`;{let r=e.length;return(e=e.map(e=>String(e)),r>2)?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}}function i(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function o(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function a(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,r){let s,c;if("string"==typeof t&&i(t,"not ")?(s="must not be",t=t.replace(/^not /,"")):s="must be",o(e," argument"))c=`The ${e} ${s} ${n(t,"type")}`;else{let r=a(e,".")?"property":"argument";c=`The "${e}" ${r} ${s} ${n(t,"type")}`}return c+`. Received type ${typeof r}`},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},403:function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var o=r(709),a=r(337);r(782)(l,o);for(var s=n(a.prototype),c=0;c<s.length;c++){var u=s[c];l.prototype[u]||(l.prototype[u]=a.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||i.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},889:function(e,t,r){"use strict";e.exports=i;var n=r(170);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(782)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},709:function(e,t,n){"use strict";e.exports=C,C.ReadableState=P,n(361).EventEmitter;var o,a,s,c,u,l=function(e,t){return e.listeners(t).length},f=n(678),h=n(300).Buffer,p=r.g.Uint8Array||function(){};function y(e){return h.from(e)}function d(e){return h.isBuffer(e)||e instanceof p}var g=n(837);a=g&&g.debuglog?g.debuglog("stream"):function(){};var m=n(379),w=n(25),v=n(776).getHighWaterMark,b=n(646).q,E=b.ERR_INVALID_ARG_TYPE,A=b.ERR_STREAM_PUSH_AFTER_EOF,S=b.ERR_METHOD_NOT_IMPLEMENTED,k=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(782)(C,f);var B=w.errorOrDestroy,x=["error","close","destroy","pause","resume"];function _(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function P(e,t,r){o=o||n(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof o),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=v(this,e,"readableHighWaterMark",r),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=n(704).s),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function C(e){if(o=o||n(403),!(this instanceof C))return new C(e);var t=this instanceof o;this._readableState=new P(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),f.call(this)}function O(e,t,r,n,i){a("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,I(e,s);else if(i||(o=U(s,t)),o)B(e,o);else if(s.objectMode||t&&t.length>0){if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===h.prototype||(t=y(t)),n)s.endEmitted?B(e,new k):R(e,s,t,!0);else if(s.ended)B(e,new A);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?R(e,s,t,!1):j(e,s)):R(e,s,t,!1)}}else n||(s.reading=!1,j(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function R(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&H(e)),j(e,t)}function U(e,t){var r;return d(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new E("chunk",["string","Buffer","Uint8Array"],t)),r}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=w.destroy,C.prototype._undestroy=w.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=h.from(e,t),t=""),r=!0),O(this,e,t,!1,r)},C.prototype.unshift=function(e){return O(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){s||(s=n(704).s);var t=new s(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=1073741824;function K(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function N(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=K(e)),e<=t.length)?e:t.ended?t.length:(t.needReadable=!0,0)}function I(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?H(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,L(e)))}}function H(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(L,e))}function L(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,G(e)}function j(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(D,e,t))}function D(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(a("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function M(e){return function(){var t=e._readableState;a("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&l(e,"data")&&(t.flowing=!0,G(e))}}function J(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){a("readable nexttick read 0"),e.read(0)}function W(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(V,e,t))}function V(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),G(e),t.flowing&&!t.reading&&e.read(0)}function G(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function $(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function z(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(q,t,e))}function q(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function Y(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}C.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t,r=this._readableState,n=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return a("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?z(this):H(this),null;if(0===(e=N(e,r))&&r.ended)return 0===r.length&&z(this),null;var i=r.needReadable;return a("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&a("length less than watermark",i=!0),r.ended||r.reading?a("reading or ended",i=!1):i&&(a("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=N(n,r))),null===(t=e>0?$(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&z(this)),null!==t&&this.emit("data",t),t},C.prototype._read=function(e){B(this,new S("_read()"))},C.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,a("pipe count=%d opts=%j",n.pipesCount,t);var o=t&&!1===t.end||e===i.stdout||e===i.stderr?m:c;function s(e,t){a("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,h())}function c(){a("onend"),e.end()}n.endEmitted?i.nextTick(o):r.once("end",o),e.on("unpipe",s);var u=M(r);e.on("drain",u);var f=!1;function h(){a("cleanup"),e.removeListener("close",d),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",y),e.removeListener("unpipe",s),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),f=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}function p(t){a("ondata");var i=e.write(t);a("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==Y(n.pipes,e))&&!f&&(a("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function y(t){a("onerror",t),m(),e.removeListener("error",y),0===l(e,"error")&&B(e,t)}function d(){e.removeListener("finish",g),m()}function g(){a("onfinish"),e.removeListener("close",d),m()}function m(){a("unpipe"),r.unpipe(e)}return r.on("data",p),_(e,"error",y),e.once("close",d),e.once("finish",g),e.emit("pipe",r),n.flowing||(a("pipe resume"),r.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Y(t.pipes,e);return -1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},C.prototype.on=function(e,t){var r=f.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,a("on readable",n.length,n.reading),n.length?H(this):n.reading||i.nextTick(F,this)),r},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var r=f.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(J,this),r},C.prototype.removeAllListeners=function(e){var t=f.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&i.nextTick(J,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,W(this,e)),e.paused=!1,this},C.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(a("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){a("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!=i)&&(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<x.length;o++)e.on(x[o],this.emit.bind(this,x[o]));return this._read=function(t){a("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===c&&(c=n(871)),c(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=$,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(e,t){return void 0===u&&(u=n(727)),u(C,e,t)})},170:function(e,t,r){"use strict";e.exports=l;var n=r(646).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(403);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(t,r){h(e,t,r)})}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(782)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,function(e){t(e)})}},337:function(e,t,n){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){V(t,e)}}e.exports=P,P.WritableState=_;var a,s,c={deprecate:n(769)},u=n(678),l=n(300).Buffer,f=r.g.Uint8Array||function(){};function h(e){return l.from(e)}function p(e){return l.isBuffer(e)||e instanceof f}var y=n(25),d=n(776).getHighWaterMark,g=n(646).q,m=g.ERR_INVALID_ARG_TYPE,w=g.ERR_METHOD_NOT_IMPLEMENTED,v=g.ERR_MULTIPLE_CALLBACK,b=g.ERR_STREAM_CANNOT_PIPE,E=g.ERR_STREAM_DESTROYED,A=g.ERR_STREAM_NULL_VALUES,S=g.ERR_STREAM_WRITE_AFTER_END,k=g.ERR_UNKNOWN_ENCODING,B=y.errorOrDestroy;function x(){}function _(e,t,r){a=a||n(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof a),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){I(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function P(e){var t=this instanceof(a=a||n(403));if(!t&&!s.call(P,this))return new P(e);this._writableState=new _(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function C(e,t){var r=new S;B(e,r),i.nextTick(t,r)}function O(e,t,r,n){var o;return null===r?o=new A:"string"==typeof r||t.objectMode||(o=new m("chunk",["string","Buffer"],r)),!o||(B(e,o),i.nextTick(n,o),!1)}function R(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,r)),t}function U(e,t,r,n,i,o){if(!r){var a=R(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,s,n,i,o);return c}function T(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new E("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function K(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(F,e,t),e._writableState.errorEmitted=!0,B(e,n)):(o(n),e._writableState.errorEmitted=!0,B(e,n),F(e,t))}function N(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function I(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new v;if(N(r),t)K(e,r,n,t,o);else{var a=D(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||j(e,r),n?i.nextTick(H,e,r,a,o):H(e,r,a,o)}}function H(e,t,r,n){r||L(e,t),t.pendingcb--,n(),F(e,t)}function L(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function j(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=r;for(var a=0,s=!0;r;)n[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;n.allBuffers=s,T(e,t,!0,t.length,n,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,l=r.callback,f=t.objectMode?1:c.length;if(T(e,t,!1,f,c,u,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(e,t){e._final(function(r){t.pendingcb--,r&&B(e,r),t.prefinished=!0,e.emit("prefinish"),F(e,t)})}function J(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(M,e,t)))}function F(e,t){var r=D(t);if(r&&(J(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function W(e,t,r){t.ending=!0,F(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function V(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}n(782)(P,u),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===P&&e&&e._writableState instanceof _}})):s=function(e){return e instanceof this},P.prototype.pipe=function(){B(this,new b)},P.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&p(e);return o&&!l.isBuffer(e)&&(e=h(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=x),n.ending?C(this,r):(o||O(this,n,e,r))&&(n.pendingcb++,i=U(this,n,o,e,t,r)),i},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var e=this._writableState;!e.corked||(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||j(this,e))},P.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(e,t,r){r(new w("_write()"))},P.prototype._writev=null,P.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||W(this,n,r),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),P.prototype.destroy=y.destroy,P.prototype._undestroy=y.undestroy,P.prototype._destroy=function(e,t){t(e)}},871:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,a=r(698),s=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),h=Symbol("handlePromise"),p=Symbol("stream");function y(e,t){return{value:e,done:t}}function d(e){var t=e[s];if(null!==t){var r=e[p].read();null!==r&&(e[f]=null,e[s]=null,e[c]=null,t(y(r,!1)))}}function g(e){i.nextTick(d,e)}function m(e,t){return function(r,n){e.then(function(){if(t[l]){r(y(void 0,!0));return}t[h](r,n)},n)}}var w=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((n(o={get stream(){return this[p]},next:function(){var e,t=this,r=this[u];if(null!==r)return Promise.reject(r);if(this[l])return Promise.resolve(y(void 0,!0));if(this[p].destroyed)return new Promise(function(e,r){i.nextTick(function(){t[u]?r(t[u]):e(y(void 0,!0))})});var n=this[f];if(n)e=new Promise(m(n,this));else{var o=this[p].read();if(null!==o)return Promise.resolve(y(o,!1));e=new Promise(this[h])}return this[f]=e,e}},Symbol.asyncIterator,function(){return this}),n(o,"return",function(){var e=this;return new Promise(function(t,r){e[p].destroy(null,function(e){if(e){r(e);return}t(y(void 0,!0))})})}),o),w),b=function(e){var t,r=Object.create(v,(n(t={},p,{value:e,writable:!0}),n(t,s,{value:null,writable:!0}),n(t,c,{value:null,writable:!0}),n(t,u,{value:null,writable:!0}),n(t,l,{value:e._readableState.endEmitted,writable:!0}),n(t,h,{value:function(e,t){var n=r[p].read();n?(r[f]=null,r[s]=null,r[c]=null,e(y(n,!1))):(r[s]=e,r[c]=t)},writable:!0}),t));return r[f]=null,a(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];null!==t&&(r[f]=null,r[s]=null,r[c]=null,t(e)),r[u]=e;return}var n=r[s];null!==n&&(r[f]=null,r[s]=null,r[c]=null,n(y(void 0,!0))),r[l]=!0}),e.on("readable",g.bind(null,r)),r};e.exports=b},379:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var u=r(300).Buffer,l=r(837).inspect,f=l&&l.custom||"inspect";function h(e,t,r){u.prototype.copy.call(e,t,r)}e.exports=function(){function e(){a(this,e),this.head=null,this.tail=null,this.length=0}return c(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return u.alloc(0);for(var t=u.allocUnsafe(e>>>0),r=this.head,n=0;r;)h(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=u.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:f,value:function(e,t){return l(this,i({},t,{depth:0,customInspect:!1}))}}]),e}()},25:function(e){"use strict";function t(e,t){var o=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(a,this,e)):i.nextTick(a,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?o._writableState?o._writableState.errorEmitted?i.nextTick(n,o):(o._writableState.errorEmitted=!0,i.nextTick(r,o,e)):i.nextTick(r,o,e):t?(i.nextTick(n,o),t(e)):i.nextTick(n,o)})),this}function r(e,t){a(e,t),n(e)}function n(e){(!e._writableState||e._writableState.emitClose)&&(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(e,t){e.emit("error",t)}function s(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}e.exports={destroy:t,undestroy:o,errorOrDestroy:s}},698:function(e,t,r){"use strict";var n=r(646).q.ERR_STREAM_PREMATURE_CLOSE;function i(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function o(){}function a(e){return e.setHeader&&"function"==typeof e.abort}function s(e,t,r){if("function"==typeof t)return s(e,null,t);t||(t={}),r=i(r||o);var c=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,l=function(){e.writable||h()},f=e._writableState&&e._writableState.finished,h=function(){u=!1,f=!0,c||r.call(e)},p=e._readableState&&e._readableState.endEmitted,y=function(){c=!1,p=!0,u||r.call(e)},d=function(t){r.call(e,t)},g=function(){var t;return c&&!p?(e._readableState&&e._readableState.ended||(t=new n),r.call(e,t)):u&&!f?(e._writableState&&e._writableState.ended||(t=new n),r.call(e,t)):void 0},m=function(){e.req.on("finish",h)};return a(e)?(e.on("complete",h),e.on("abort",g),e.req?m():e.on("request",m)):u&&!e._writableState&&(e.on("end",l),e.on("close",l)),e.on("end",y),e.on("finish",h),!1!==t.error&&e.on("error",d),e.on("close",g),function(){e.removeListener("complete",h),e.removeListener("abort",g),e.removeListener("request",m),e.req&&e.req.removeListener("finish",h),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",h),e.removeListener("end",y),e.removeListener("error",d),e.removeListener("close",g)}}e.exports=s},727:function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,c,"next",e)}function c(e){n(a,i,o,s,c,"throw",e)}s(void 0)})}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=r(646).q.ERR_INVALID_ARG_TYPE;function u(e,t,r){if(t&&"function"==typeof t.next)n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])n=t[Symbol.iterator]();else throw new c("iterable",["Iterable"],t);var n,o=new e(a({objectMode:!0},r)),s=!1;function u(){return l.apply(this,arguments)}function l(){return(l=i(function*(){try{var e=yield n.next(),t=e.value;e.done?o.push(null):o.push((yield t))?u():s=!1}catch(e){o.destroy(e)}})).apply(this,arguments)}return o._read=function(){s||(s=!0,u())},o}e.exports=u},442:function(e,t,r){"use strict";function n(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var i,o=r(646).q,a=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function c(e){if(e)throw e}function u(e){return e.setHeader&&"function"==typeof e.abort}function l(e,t,o,a){a=n(a);var c=!1;e.on("close",function(){c=!0}),void 0===i&&(i=r(698)),i(e,{readable:t,writable:o},function(e){if(e)return a(e);c=!0,a()});var l=!1;return function(t){if(!c&&!l){if(l=!0,u(e))return e.abort();if("function"==typeof e.destroy)return e.destroy();a(t||new s("pipe"))}}}function f(e){e()}function h(e,t){return e.pipe(t)}function p(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():c}function y(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=p(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new a("streams");var o=r.map(function(t,n){var a=n<r.length-1;return l(t,a,n>0,function(t){e||(e=t),t&&o.forEach(f),a||(o.forEach(f),i(e))})});return r.reduce(h)}e.exports=y},776:function(e,t,r){"use strict";var n=r(646).q.ERR_INVALID_OPT_VALUE;function i(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}function o(e,t,r,o){var a=i(t,o,r);if(null!=a){if(!(isFinite(a)&&Math.floor(a)===a)||a<0)throw new n(o?r:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}e.exports={getHighWaterMark:o}},678:function(e,t,r){e.exports=r(781)},55:function(e,t,r){var n=r(300),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},173:function(e,t,r){e.exports=i;var n=r(361).EventEmitter;function i(){n.call(this)}r(782)(i,n),i.Readable=r(709),i.Writable=r(337),i.Duplex=r(403),i.Transform=r(170),i.PassThrough=r(889),i.finished=r(698),i.pipeline=r(442),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",c));var a=!1;function s(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",u),e.on("error",u),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},704:function(e,t,r){"use strict";var n=r(55).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=o(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=y,this.end=d,t=4;break;case"utf8":this.fillLast=f,t=4;break;case"base64":this.text=g,this.end=m,t=3;break;default:this.write=w,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function c(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e,t,r){var n=t.length-1;if(n<r)return 0;var i=c(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=c(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=c(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}function l(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"�"}}function f(e){var t=this.lastTotal-this.lastNeed,r=l(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function h(e,t){var r=u(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function y(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function g(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function w(e){return e.toString(this.encoding)}function v(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=p,s.prototype.text=h,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},769:function(e){function t(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=t},300:function(e){"use strict";e.exports=r(6385)},361:function(e){"use strict";e.exports=r(1181)},781:function(e){"use strict";e.exports=r(1181).EventEmitter},837:function(e){"use strict";e.exports=r(878)}},o={};function a(e){var r=o[e];if(void 0!==r)return r.exports;var n=o[e]={exports:{}},i=!0;try{t[e](n,n.exports,a),i=!1}finally{i&&delete o[e]}return n.exports}a.ab=n+"/";var s=a(173);e.exports=s}()},878:function(e,t,r){var n="/",i=r(6385).Buffer,o=r(3875);!function(){var t={992:function(e){e.exports=function(e,r,n){if(e.filter)return e.filter(r,n);if(null==e||"function"!=typeof r)throw TypeError();for(var i=[],o=0;o<e.length;o++)if(t.call(e,o)){var a=e[o];r.call(n,a,o,e)&&i.push(a)}return i};var t=Object.prototype.hasOwnProperty},256:function(e,t,r){"use strict";var n=r(925),i=r(139),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},139:function(e,t,r){"use strict";var n=r(174),i=r(925),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),c=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=s(n,a,arguments);return c&&u&&c(t,"length").configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))}),t};var f=function(){return s(n,o,arguments)};u?u(e.exports,"apply",{value:f}):e.exports.apply=f},144:function(e){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,i){if("[object Function]"!==r.call(n))throw TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)n.call(i,e[a],a,e);else for(var s in e)t.call(e,s)&&n.call(i,e[s],s,e)}},426:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o,a=this;if("function"!=typeof a||n.call(a)!==i)throw TypeError(t+a);for(var s=r.call(arguments,1),c=function(){if(!(this instanceof o))return a.apply(e,s.concat(r.call(arguments)));var t=a.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this},u=Math.max(0,a.length-s.length),l=[],f=0;f<u;f++)l.push("$"+f);if(o=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(c),a.prototype){var h=function(){};h.prototype=a.prototype,o.prototype=new h,h.prototype=null}return o}},174:function(e,t,r){"use strict";var n=r(426);e.exports=Function.prototype.bind||n},500:function(e,t,r){"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var u=function(){throw new a},l=c?function(){try{return arguments.callee,u}catch(e){try{return c(arguments,"callee").get}catch(e){return u}}}():u,f=r(115)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p={},y="undefined"==typeof Uint8Array?n:h(Uint8Array),d={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?h(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":y,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},g=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=h(i.prototype))}return d[t]=r,r},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=r(174),v=r(101),b=w.call(Function.call,Array.prototype.concat),E=w.call(Function.apply,Array.prototype.splice),A=w.call(Function.call,String.prototype.replace),S=w.call(Function.call,String.prototype.slice),k=w.call(Function.call,RegExp.prototype.exec),B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,_=function(e){var t=S(e,0,1),r=S(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return A(e,B,function(e,t,r,i){n[n.length]=r?A(i,x,"$1"):t||e}),n},P=function(e,t){var r,n=e;if(v(m,n)&&(n="%"+(r=m[n])[0]+"%"),v(d,n)){var o=d[n];if(o===p&&(o=g(n)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===k(/^%?[^%]*%?$/g,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=_(e),n=r.length>0?r[0]:"",o=P("%"+n+"%",t),s=o.name,u=o.value,l=!1,f=o.alias;f&&(n=f[0],E(r,b([0,1],f)));for(var h=1,p=!0;h<r.length;h+=1){var y=r[h],g=S(y,0,1),m=S(y,-1);if(('"'===g||"'"===g||"`"===g||'"'===m||"'"===m||"`"===m)&&g!==m)throw new i("property names with quotes must have matching quotes");if("constructor"!==y&&p||(l=!0),n+="."+y,v(d,s="%"+n+"%"))u=d[s];else if(null!=u){if(!(y in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&h+1>=r.length){var w=c(u,y);u=(p=!!w)&&"get"in w&&!("originalValue"in w.get)?w.get:u[y]}else p=v(u,y),u=u[y];p&&!l&&(d[s]=u)}}return u}},925:function(e,t,r){"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var u=function(){throw new a},l=c?function(){try{return arguments.callee,u}catch(e){try{return c(arguments,"callee").get}catch(e){return u}}}():u,f=r(115)(),h=r(504)(),p=Object.getPrototypeOf||(h?function(e){return e.__proto__}:null),y={},d="undefined"!=typeof Uint8Array&&p?p(Uint8Array):n,g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f&&p?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":y,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f&&p?p(p([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f&&p?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f&&p?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f&&p?p(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":d,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(p)try{null.error}catch(e){var m=p(p(e));g["%Error.prototype%"]=m}var w=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&p&&(r=p(i.prototype))}return g[t]=r,r},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(174),E=r(101),A=b.call(Function.call,Array.prototype.concat),S=b.call(Function.apply,Array.prototype.splice),k=b.call(Function.call,String.prototype.replace),B=b.call(Function.call,String.prototype.slice),x=b.call(Function.call,RegExp.prototype.exec),_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,C=function(e){var t=B(e,0,1),r=B(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return k(e,_,function(e,t,r,i){n[n.length]=r?k(i,P,"$1"):t||e}),n},O=function(e,t){var r,n=e;if(E(v,n)&&(n="%"+(r=v[n])[0]+"%"),E(g,n)){var o=g[n];if(o===y&&(o=w(n)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===x(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=C(e),n=r.length>0?r[0]:"",o=O("%"+n+"%",t),s=o.name,u=o.value,l=!1,f=o.alias;f&&(n=f[0],S(r,A([0,1],f)));for(var h=1,p=!0;h<r.length;h+=1){var y=r[h],d=B(y,0,1),m=B(y,-1);if(('"'===d||"'"===d||"`"===d||'"'===m||"'"===m||"`"===m)&&d!==m)throw new i("property names with quotes must have matching quotes");if("constructor"!==y&&p||(l=!0),n+="."+y,E(g,s="%"+n+"%"))u=g[s];else if(null!=u){if(!(y in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&h+1>=r.length){var w=c(u,y);u=(p=!!w)&&"get"in w&&!("originalValue"in w.get)?w.get:u[y]}else p=E(u,y),u=u[y];p&&!l&&(g[s]=u)}}return u}},504:function(e){"use strict";var t={foo:{}},r=Object;e.exports=function(){return({__proto__:t}).foo===t.foo&&!(({__proto__:null})instanceof r)}},942:function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(773);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},773:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;var n=42;for(t in e[t]=n,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==n||!0!==o.enumerable)return!1}return!0}},115:function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(832);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},832:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;var n=42;for(t in e[t]=n,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==n||!0!==o.enumerable)return!1}return!0}},101:function(e,t,r){"use strict";var n=r(174);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},157:function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,r=Object.prototype.toString,n=function(e){return(!t||!e||"object"!=typeof e||!(Symbol.toStringTag in e))&&"[object Arguments]"===r.call(e)},i=function(e){return!!n(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r.call(e)&&"[object Function]"===r.call(e.callee)},o=function(){return n(arguments)}();n.isLegacyArguments=i,e.exports=o?n:i},391:function(e){"use strict";var t=Object.prototype.toString,r=Function.prototype.toString,n=/^\s*(?:function)?\*/,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.getPrototypeOf,a=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch(e){}}(),s=a?o(a):{};e.exports=function(e){return"function"==typeof e&&(!!n.test(r.call(e))||(i?o(e)===s:"[object GeneratorFunction]"===t.call(e)))}},994:function(e,t,n){"use strict";var i=n(144),o=n(349),a=n(256),s=a("Object.prototype.toString"),c=n(942)()&&"symbol"==typeof Symbol.toStringTag,u=o(),l=a("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return -1},f=a("String.prototype.slice"),h={},p=n(24),y=Object.getPrototypeOf;c&&p&&y&&i(u,function(e){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=y(t),i=p(n,Symbol.toStringTag);i||(i=p(y(n),Symbol.toStringTag)),h[e]=i.get});var d=function(e){var t=!1;return i(h,function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}}),t};e.exports=function(e){return!!e&&"object"==typeof e&&(c?!!p&&d(e):l(u,f(s(e),8,-1))>-1)}},369:function(e){e.exports=function(e){return e instanceof i}},584:function(e,t,r){"use strict";var n=r(157),i=r(391),o=r(490),a=r(994);function s(e){return e.call.bind(e)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=s(Object.prototype.toString),f=s(Number.prototype.valueOf),h=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);if(c)var y=s(BigInt.prototype.valueOf);if(u)var d=s(Symbol.prototype.valueOf);function g(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function m(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch}function w(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||M(e)}function v(e){return"Uint8Array"===o(e)}function b(e){return"Uint8ClampedArray"===o(e)}function E(e){return"Uint16Array"===o(e)}function A(e){return"Uint32Array"===o(e)}function S(e){return"Int8Array"===o(e)}function k(e){return"Int16Array"===o(e)}function B(e){return"Int32Array"===o(e)}function x(e){return"Float32Array"===o(e)}function _(e){return"Float64Array"===o(e)}function P(e){return"BigInt64Array"===o(e)}function C(e){return"BigUint64Array"===o(e)}function O(e){return"[object Map]"===l(e)}function R(e){return"undefined"!=typeof Map&&(O.working?O(e):e instanceof Map)}function U(e){return"[object Set]"===l(e)}function T(e){return"undefined"!=typeof Set&&(U.working?U(e):e instanceof Set)}function K(e){return"[object WeakMap]"===l(e)}function N(e){return"undefined"!=typeof WeakMap&&(K.working?K(e):e instanceof WeakMap)}function I(e){return"[object WeakSet]"===l(e)}function H(e){return I(e)}function L(e){return"[object ArrayBuffer]"===l(e)}function j(e){return"undefined"!=typeof ArrayBuffer&&(L.working?L(e):e instanceof ArrayBuffer)}function D(e){return"[object DataView]"===l(e)}function M(e){return"undefined"!=typeof DataView&&(D.working?D(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=m,t.isArrayBufferView=w,t.isUint8Array=v,t.isUint8ClampedArray=b,t.isUint16Array=E,t.isUint32Array=A,t.isInt8Array=S,t.isInt16Array=k,t.isInt32Array=B,t.isFloat32Array=x,t.isFloat64Array=_,t.isBigInt64Array=P,t.isBigUint64Array=C,O.working="undefined"!=typeof Map&&O(new Map),t.isMap=R,U.working="undefined"!=typeof Set&&U(new Set),t.isSet=T,K.working="undefined"!=typeof WeakMap&&K(new WeakMap),t.isWeakMap=N,I.working="undefined"!=typeof WeakSet&&I(new WeakSet),t.isWeakSet=H,L.working="undefined"!=typeof ArrayBuffer&&L(new ArrayBuffer),t.isArrayBuffer=j,D.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&D(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=M;var J="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function F(e){return"[object SharedArrayBuffer]"===l(e)}function W(e){return void 0!==J&&(void 0===F.working&&(F.working=F(new J)),F.working?F(e):e instanceof J)}function V(e){return"[object AsyncFunction]"===l(e)}function G(e){return"[object Map Iterator]"===l(e)}function $(e){return"[object Set Iterator]"===l(e)}function z(e){return"[object Generator]"===l(e)}function q(e){return"[object WebAssembly.Module]"===l(e)}function Y(e){return g(e,f)}function X(e){return g(e,h)}function Z(e){return g(e,p)}function Q(e){return c&&g(e,y)}function ee(e){return u&&g(e,d)}function et(e){return Y(e)||X(e)||Z(e)||Q(e)||ee(e)}function er(e){return"undefined"!=typeof Uint8Array&&(j(e)||W(e))}t.isSharedArrayBuffer=W,t.isAsyncFunction=V,t.isMapIterator=G,t.isSetIterator=$,t.isGeneratorObject=z,t.isWebAssemblyCompiledModule=q,t.isNumberObject=Y,t.isStringObject=X,t.isBooleanObject=Z,t.isBigIntObject=Q,t.isSymbolObject=ee,t.isBoxedPrimitive=et,t.isAnyArrayBuffer=er,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw Error(e+" is not supported in userland")}})})},177:function(e,t,r){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!k(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,o=n.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<o;s=n[++r])E(s)||!P(s)?a+=" "+s:a+=" "+u(s);return a},t.deprecate=function(e,r){if(void 0!==o&&!0===o.noDeprecation)return e;if(void 0===o)return function(){return t.deprecate(e,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(o.throwDeprecation)throw Error(r);o.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}};var a={},s=/^$/;if(o.env.NODE_DEBUG){var c=o.env.NODE_DEBUG;s=RegExp("^"+(c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase())+"$","i")}function u(e,r){var n={seen:[],stylize:f};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(r)?n.showHidden=r:r&&t._extend(n,r),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),p(n,e,n.depth)}function l(e,t){var r=u.styles[t];return r?"\x1b["+u.colors[r][0]+"m"+e+"\x1b["+u.colors[r][1]+"m":e}function f(e,t){return e}function h(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,r,n){if(e.customInspect&&r&&R(r.inspect)&&r.inspect!==t.inspect&&!(r.constructor&&r.constructor.prototype===r)){var i,o=r.inspect(n,e);return k(o)||(o=p(e,o,n)),o}var a=y(e,r);if(a)return a;var s=Object.keys(r),c=h(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),O(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return d(r);if(0===s.length){if(R(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(_(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(C(r))return e.stylize(Date.prototype.toString.call(r),"date");if(O(r))return d(r)}var l="",f=!1,b=["{","}"];return(v(r)&&(f=!0,b=["[","]"]),R(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),_(r)&&(l=" "+RegExp.prototype.toString.call(r)),C(r)&&(l=" "+Date.prototype.toUTCString.call(r)),O(r)&&(l=" "+d(r)),0!==s.length||f&&0!=r.length)?n<0?_(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),i=f?g(e,r,n,c,s):s.map(function(t){return m(e,r,n,c,t,f)}),e.seen.pop(),w(i,l,b)):b[0]+l+b[1]}function y(e,t){if(x(t))return e.stylize("undefined","undefined");if(k(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return S(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):E(t)?e.stylize("null","null"):void 0}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)H(t,String(a))?o.push(m(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(m(e,t,r,n,i,!0))}),o}function m(e,t,r,n,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),H(n,i)||(a="["+i+"]"),!s&&(0>e.seen.indexOf(c.value)?(s=E(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),x(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function w(e,t,r){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function v(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function E(e){return null===e}function A(e){return null==e}function S(e){return"number"==typeof e}function k(e){return"string"==typeof e}function B(e){return"symbol"==typeof e}function x(e){return void 0===e}function _(e){return P(e)&&"[object RegExp]"===T(e)}function P(e){return"object"==typeof e&&null!==e}function C(e){return P(e)&&"[object Date]"===T(e)}function O(e){return P(e)&&("[object Error]"===T(e)||e instanceof Error)}function R(e){return"function"==typeof e}function U(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function T(e){return Object.prototype.toString.call(e)}function K(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(!a[e=e.toUpperCase()]){if(s.test(e)){var r=o.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else a[e]=function(){}}return a[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(584),t.isArray=v,t.isBoolean=b,t.isNull=E,t.isNullOrUndefined=A,t.isNumber=S,t.isString=k,t.isSymbol=B,t.isUndefined=x,t.isRegExp=_,t.types.isRegExp=_,t.isObject=P,t.isDate=C,t.types.isDate=C,t.isError=O,t.types.isNativeError=O,t.isFunction=R,t.isPrimitive=U,t.isBuffer=r(369);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var e=new Date,t=[K(e.getHours()),K(e.getMinutes()),K(e.getSeconds())].join(":");return[e.getDate(),N[e.getMonth()],t].join(" ")}function H(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",I(),t.format.apply(t,arguments))},t.inherits=r(782),t._extend=function(e,t){if(!t||!P(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var L="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function j(e,t){if(!e){var r=Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function D(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw TypeError("The last argument must be of type Function");var i=this,a=function(){return n.apply(i,arguments)};e.apply(this,t).then(function(e){o.nextTick(a.bind(null,null,e))},function(e){o.nextTick(j.bind(null,e,a))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,n(e)),t}t.promisify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');if(L&&e[L]){var t=e[L];if("function"!=typeof t)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,n){e?r(e):t(n)});try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),L&&Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=L,t.callbackify=D},490:function(e,t,n){"use strict";var i=n(144),o=n(349),a=n(256),s=a("Object.prototype.toString"),c=n(942)()&&"symbol"==typeof Symbol.toStringTag,u=o(),l=a("String.prototype.slice"),f={},h=n(24),p=Object.getPrototypeOf;c&&h&&p&&i(u,function(e){if("function"==typeof r.g[e]){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=p(t),i=h(n,Symbol.toStringTag);i||(i=h(p(n),Symbol.toStringTag)),f[e]=i.get}});var y=function(e){var t=!1;return i(f,function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}}),t},d=n(994);e.exports=function(e){return!!d(e)&&(c?y(e):l(s(e),8,-1))}},349:function(e,t,n){"use strict";var i=n(992);e.exports=function(){return i(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(e){return"function"==typeof r.g[e]})}},24:function(e,t,r){"use strict";var n=r(500)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n}},a={};function s(e){var r=a[e];if(void 0!==r)return r.exports;var n=a[e]={exports:{}},i=!0;try{t[e](n,n.exports,s),i=!1}finally{i&&delete a[e]}return n.exports}s.ab=n+"/";var c=s(177);e.exports=c}()},9767:function(module){var __dirname="/";!function(){var __webpack_modules__={950:function(__unused_webpack_module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return -1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var o=Object_keys(r),a=n.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(o,t))&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return e&&forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t}}};"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var __nested_webpack_exports__={};__webpack_modules__[950](0,__nested_webpack_exports__),module.exports=__nested_webpack_exports__}()},7184:function(e,t,r){"use strict";var n,i=r(6385).Buffer;/*!
 * MIT License
 * 
 * Copyright (c) 2017-2022 Peculiar Ventures, LLC
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */let o="[object ArrayBuffer]";class a{static isArrayBuffer(e){return Object.prototype.toString.call(e)===o}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){let r=a.toUint8Array(e),n=a.toUint8Array(t);if(r.length!==n.byteLength)return!1;for(let e=0;e<r.length;e++)if(r[e]!==n[e])return!1;return!0}static concat(...e){let t;t=!Array.isArray(e[0])||e[1]instanceof Function?Array.isArray(e[0])&&e[1]instanceof Function?e[0]:e[e.length-1]instanceof Function?e.slice(0,e.length-1):e:e[0];let r=0;for(let e of t)r+=e.byteLength;let n=new Uint8Array(r),i=0;for(let e of t){let t=this.toUint8Array(e);n.set(t,i),i+=t.length}return e[e.length-1]instanceof Function?this.toView(n,e[e.length-1]):n.buffer}}let s="string",c=/^[0-9a-f]+$/i,u=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,l=/^[a-zA-Z0-9-_]+$/;class f{static fromString(e){let t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}static toString(e){let t=a.toUint8Array(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return decodeURIComponent(escape(r))}}class h{static toString(e,t=!1){let r=a.toArrayBuffer(e),n=new DataView(r),i="";for(let e=0;e<r.byteLength;e+=2)i+=String.fromCharCode(n.getUint16(e,t));return i}static fromString(e,t=!1){let r=new ArrayBuffer(2*e.length),n=new DataView(r);for(let r=0;r<e.length;r++)n.setUint16(2*r,e.charCodeAt(r),t);return r}}class p{static isHex(e){return typeof e===s&&c.test(e)}static isBase64(e){return typeof e===s&&u.test(e)}static isBase64Url(e){return typeof e===s&&l.test(e)}static ToString(e,t="utf8"){let r=a.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return h.toString(r,!0);case"utf16":case"utf16be":return h.toString(r);default:throw Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return h.fromString(e,!0);case"utf16":case"utf16be":return h.fromString(e);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){let t=a.toUint8Array(e);return"undefined"!=typeof btoa?btoa(this.ToString(t,"binary")):i.from(t).toString("base64")}static FromBase64(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!p.isBase64(t))throw TypeError("Argument 'base64Text' is not Base64 encoded");return"undefined"!=typeof atob?this.FromBinary(atob(t)):new Uint8Array(i.from(t,"base64")).buffer}static FromBase64Url(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!p.isBase64Url(t))throw TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=p.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return f.fromString(e);case"utf16":case"utf16be":return h.fromString(e);case"utf16le":case"usc2":return h.fromString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=p.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return f.toString(e);case"utf16":case"utf16be":return h.toString(e);case"utf16le":case"usc2":return h.toString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){let t=e.length,r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);return r.buffer}static ToBinary(e){let t=a.toUint8Array(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return r}static ToHex(e){let t=a.toUint8Array(e),r="",n=t.length;for(let e=0;e<n;e++){let n=t[e];n<16&&(r+="0"),r+=n.toString(16)}return r}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!p.isHex(t))throw TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2){let n=t.slice(e,e+2);r[e/2]=parseInt(n,16)}return r.buffer}static ToUtf16String(e,t=!1){return h.toString(e,t)}static FromUtf16String(e,t=!1){return h.fromString(e,t)}static Base64Padding(e){let t=4-e.length%4;if(t<4)for(let r=0;r<t;r++)e+="=";return e}static formatString(e){return(null==e?void 0:e.replace(/[\n\r\t ]/g,""))||""}}function y(e,...t){let r=arguments[0];for(let e=1;e<arguments.length;e++){let t=arguments[e];for(let e in t)r[e]=t[e]}return r}function d(...e){let t=new Uint8Array(e.map(e=>e.byteLength).reduce((e,t)=>e+t)),r=0;return e.map(e=>new Uint8Array(e)).forEach(e=>{for(let n of e)t[r++]=n}),t.buffer}p.DEFAULT_UTF8_ENCODING="utf8",t.vJ=a,t.ep=p,n=y,t.$e=d},1596:function(e,t,r){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var n=r(6385),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},362:function(e,t,r){"use strict";var n=r(1596).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=o(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=y,this.end=d,t=4;break;case"utf8":this.fillLast=f,t=4;break;case"base64":this.text=g,this.end=m,t=3;break;default:this.write=w,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function c(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e,t,r){var n=t.length-1;if(n<r)return 0;var i=c(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=c(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=c(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}function l(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"�"}}function f(e){var t=this.lastTotal-this.lastNeed,r=l(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function h(e,t){var r=u(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function y(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function g(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function w(e){return e.toString(this.encoding)}function v(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=p,s.prototype.text=h,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},7311:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5841:function(e){function t(e){return e&&e.__esModule?e:{default:e}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},892:function(e){function t(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3882:function(e,t,r){"use strict";r.r(t),r.d(t,{CompactEncrypt:function(){return t_},CompactSign:function(){return tO},EmbeddedJWK:function(){return tj},EncryptJWT:function(){return tN},FlattenedEncrypt:function(){return to},FlattenedSign:function(){return tC},GeneralEncrypt:function(){return ts},GeneralSign:function(){return tU},SignJWT:function(){return tK},UnsecuredJWT:function(){return tX},base64url:function(){return i},calculateJwkThumbprint:function(){return tH},calculateJwkThumbprintUri:function(){return tL},compactDecrypt:function(){return e5},compactVerify:function(){return th},createLocalJWKSet:function(){return tG},createRemoteJWKSet:function(){return tY},cryptoRuntime:function(){return t5},decodeJwt:function(){return t1},decodeProtectedHeader:function(){return t0},errors:function(){return n},exportJWK:function(){return tr},exportPKCS8:function(){return tt},exportSPKI:function(){return te},flattenedDecrypt:function(){return e4},flattenedVerify:function(){return tf},generalDecrypt:function(){return e7},generalVerify:function(){return tp},generateKeyPair:function(){return t6},generateSecret:function(){return t4},importJWK:function(){return ez},importPKCS8:function(){return e$},importSPKI:function(){return eV},importX509:function(){return eG},jwtDecrypt:function(){return tx},jwtVerify:function(){return tB}});var n={};r.r(n),r.d(n,{JOSEAlgNotAllowed:function(){return B},JOSEError:function(){return A},JOSENotSupported:function(){return x},JWEDecompressionFailed:function(){return P},JWEDecryptionFailed:function(){return _},JWEInvalid:function(){return C},JWKInvalid:function(){return U},JWKSInvalid:function(){return T},JWKSMultipleMatchingKeys:function(){return N},JWKSNoMatchingKey:function(){return K},JWKSTimeout:function(){return I},JWSInvalid:function(){return O},JWSSignatureVerificationFailed:function(){return H},JWTClaimValidationFailed:function(){return S},JWTExpired:function(){return k},JWTInvalid:function(){return R}});var i={};r.r(i),r.d(i,{decode:function(){return tQ},encode:function(){return tZ}});var o=crypto;let a=e=>e instanceof CryptoKey;var s=async(e,t)=>{let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await o.subtle.digest(r,t))};let c=new TextEncoder,u=new TextDecoder,l=4294967296;function f(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;return e.forEach(e=>{t.set(e,r),r+=e.length}),t}function h(e,t){return f(c.encode(e),new Uint8Array([0]),t)}function p(e,t,r){if(t<0||t>=l)throw RangeError(`value must be >= 0 and <= ${l-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function y(e){let t=Math.floor(e/l),r=e%l,n=new Uint8Array(8);return p(n,t,0),p(n,r,4),n}function d(e){let t=new Uint8Array(4);return p(t,e),t}function g(e){return f(d(e.length),e)}async function m(e,t,r){let n=Math.ceil((t>>3)/32),i=new Uint8Array(32*n);for(let t=0;t<n;t++){let n=new Uint8Array(4+e.length+r.length);n.set(d(t+1)),n.set(e,4),n.set(r,4+e.length),i.set(await s("sha256",n),32*t)}return i.slice(0,t>>3)}let w=e=>{let t=e;"string"==typeof t&&(t=c.encode(t));let r=32768,n=[];for(let e=0;e<t.length;e+=r)n.push(String.fromCharCode.apply(null,t.subarray(e,e+r)));return btoa(n.join(""))},v=e=>w(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),b=e=>{let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r},E=e=>{let t=e;t instanceof Uint8Array&&(t=u.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return b(t)}catch(e){throw TypeError("The input to be decoded is not correctly encoded.")}};class A extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}class S extends A{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=r}}class k extends A{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=r}}class B extends A{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class x extends A{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class _ extends A{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class P extends A{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}}class C extends A{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class O extends A{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class R extends A{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class U extends A{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class T extends A{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class K extends A{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class N extends A{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class I extends A{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class H extends A{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}var L=o.getRandomValues.bind(o);function j(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new x(`Unsupported JWE Algorithm: ${e}`)}}var D=e=>L(new Uint8Array(j(e)>>3)),M=(e,t)=>{if(t.length<<3!==j(e))throw new C("Invalid Initialization Vector length")},J=(e,t)=>{let r=e.byteLength<<3;if(r!==t)throw new C(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)},F=(e,t)=>{if(!(e instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw TypeError("Second argument must be a buffer");if(e.length!==t.length)throw TypeError("Input buffers must have the same length");let r=e.length,n=0,i=-1;for(;++i<r;)n|=e[i]^t[i];return 0===n};function W(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function V(e,t){return e.name===t}function G(e){return parseInt(e.name.slice(4),10)}function $(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}function z(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}function q(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!V(e.algorithm,"HMAC"))throw W("HMAC");let r=parseInt(t.slice(2),10);if(G(e.algorithm.hash)!==r)throw W(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!V(e.algorithm,"RSASSA-PKCS1-v1_5"))throw W("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(G(e.algorithm.hash)!==r)throw W(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!V(e.algorithm,"RSA-PSS"))throw W("RSA-PSS");let r=parseInt(t.slice(2),10);if(G(e.algorithm.hash)!==r)throw W(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw W("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!V(e.algorithm,"ECDSA"))throw W("ECDSA");let r=$(t);if(e.algorithm.namedCurve!==r)throw W(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}z(e,r)}function Y(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!V(e.algorithm,"AES-GCM"))throw W("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw W(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!V(e.algorithm,"AES-KW"))throw W("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw W(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw W("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!V(e.algorithm,"PBKDF2"))throw W("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!V(e.algorithm,"RSA-OAEP"))throw W("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(G(e.algorithm.hash)!==r)throw W(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}z(e,r)}function X(e,t,...r){if(r.length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}var Z=(e,...t)=>X("Key must be ",e,...t);function Q(e,t,...r){return X(`Key for the ${e} algorithm must be `,t,...r)}var ee=e=>a(e);let et=["CryptoKey"];async function er(e,t,r,n,i,a){let s,c;if(!(t instanceof Uint8Array))throw TypeError(Z(t,"Uint8Array"));let u=parseInt(e.slice(1,4),10),l=await o.subtle.importKey("raw",t.subarray(u>>3),"AES-CBC",!1,["decrypt"]),h=await o.subtle.importKey("raw",t.subarray(0,u>>3),{hash:`SHA-${u<<1}`,name:"HMAC"},!1,["sign"]),p=f(a,n,r,y(a.length<<3)),d=new Uint8Array((await o.subtle.sign("HMAC",h,p)).slice(0,u>>3));try{s=F(i,d)}catch(e){}if(!s)throw new _;try{c=new Uint8Array(await o.subtle.decrypt({iv:n,name:"AES-CBC"},l,r))}catch(e){}if(!c)throw new _;return c}async function en(e,t,r,n,i,a){let s;t instanceof Uint8Array?s=await o.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(Y(t,e,"decrypt"),s=t);try{return new Uint8Array(await o.subtle.decrypt({additionalData:a,iv:n,name:"AES-GCM",tagLength:128},s,f(r,i)))}catch(e){throw new _}}var ei=async(e,t,r,n,i,o)=>{if(!a(t)&&!(t instanceof Uint8Array))throw TypeError(Z(t,...et,"Uint8Array"));switch(M(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&J(t,parseInt(e.slice(-3),10)),er(e,t,r,n,i,o);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&J(t,parseInt(e.slice(1,4),10)),en(e,t,r,n,i,o);default:throw new x("Unsupported JWE Content Encryption Algorithm")}};let eo=async()=>{throw new x('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},ea=async()=>{throw new x('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')};var es=(...e)=>{let t;let r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0};function ec(e){return"object"==typeof e&&null!==e}function eu(e){if(!ec(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var el=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function ef(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function eh(e,t,r){if(a(e))return Y(e,t,r),e;if(e instanceof Uint8Array)return o.subtle.importKey("raw",e,"AES-KW",!0,[r]);throw TypeError(Z(e,...et,"Uint8Array"))}let ep=async(e,t,r)=>{let n=await eh(t,e,"wrapKey");ef(n,e);let i=await o.subtle.importKey("raw",r,...el);return new Uint8Array(await o.subtle.wrapKey("raw",i,n,"AES-KW"))},ey=async(e,t,r)=>{let n=await eh(t,e,"unwrapKey");ef(n,e);let i=await o.subtle.unwrapKey("raw",r,n,"AES-KW",...el);return new Uint8Array(await o.subtle.exportKey("raw",i))};async function ed(e,t,r,n,i=new Uint8Array(0),s=new Uint8Array(0)){let u;if(!a(e))throw TypeError(Z(e,...et));if(Y(e,"ECDH"),!a(t))throw TypeError(Z(t,...et));Y(t,"ECDH","deriveBits");let l=f(g(c.encode(r)),g(i),g(s),d(n));return u="X25519"===e.algorithm.name?256:"X448"===e.algorithm.name?448:Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3,m(new Uint8Array(await o.subtle.deriveBits({name:e.algorithm.name,public:e},t,u)),n,l)}async function eg(e){if(!a(e))throw TypeError(Z(e,...et));return o.subtle.generateKey(e.algorithm,!0,["deriveBits"])}function em(e){if(!a(e))throw TypeError(Z(e,...et));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||"X25519"===e.algorithm.name||"X448"===e.algorithm.name}function ew(e){if(!(e instanceof Uint8Array)||e.length<8)throw new C("PBES2 Salt Input must be 8 or more octets")}function ev(e,t){if(e instanceof Uint8Array)return o.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(a(e))return Y(e,t,"deriveBits","deriveKey"),e;throw TypeError(Z(e,...et,"Uint8Array"))}async function eb(e,t,r,n){ew(e);let i=h(t,e),a=parseInt(t.slice(13,16),10),s={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:i},c={length:a,name:"AES-KW"},u=await ev(n,t);if(u.usages.includes("deriveBits"))return new Uint8Array(await o.subtle.deriveBits(s,u,a));if(u.usages.includes("deriveKey"))return o.subtle.deriveKey(s,u,c,!1,["wrapKey","unwrapKey"]);throw TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}let eE=async(e,t,r,n=2048,i=L(new Uint8Array(16)))=>{let o=await eb(i,e,n,t);return{encryptedKey:await ep(e.slice(-6),o,r),p2c:n,p2s:v(i)}},eA=async(e,t,r,n,i)=>{let o=await eb(i,e,n,t);return ey(e.slice(-6),o,r)};function eS(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new x(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}var ek=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};let eB=async(e,t,r)=>{if(!a(t))throw TypeError(Z(t,...et));if(Y(t,e,"encrypt","wrapKey"),ek(e,t),t.usages.includes("encrypt"))return new Uint8Array(await o.subtle.encrypt(eS(e),t,r));if(t.usages.includes("wrapKey")){let n=await o.subtle.importKey("raw",r,...el);return new Uint8Array(await o.subtle.wrapKey("raw",n,t,eS(e)))}throw TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},ex=async(e,t,r)=>{if(!a(t))throw TypeError(Z(t,...et));if(Y(t,e,"decrypt","unwrapKey"),ek(e,t),t.usages.includes("decrypt"))return new Uint8Array(await o.subtle.decrypt(eS(e),t,r));if(t.usages.includes("unwrapKey")){let n=await o.subtle.unwrapKey("raw",r,t,eS(e),...el);return new Uint8Array(await o.subtle.exportKey("raw",n))}throw TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function e_(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new x(`Unsupported JWE Algorithm: ${e}`)}}var eP=e=>L(new Uint8Array(e_(e)>>3)),eC=(e,t)=>{let r=(e.match(/.{1,64}/g)||[]).join("\n");return`-----BEGIN ${t}-----
${r}
-----END ${t}-----`};let eO=async(e,t,r)=>{if(!a(r))throw TypeError(Z(r,...et));if(!r.extractable)throw TypeError("CryptoKey is not extractable");if(r.type!==e)throw TypeError(`key is not a ${e} key`);return eC(w(new Uint8Array(await o.subtle.exportKey(t,r))),`${e.toUpperCase()} KEY`)},eR=e=>eO("public","spki",e),eU=e=>eO("private","pkcs8",e),eT=(e,t,r=0)=>{0===r&&(t.unshift(t.length),t.unshift(6));let n=e.indexOf(t[0],r);if(-1===n)return!1;let i=e.subarray(n,n+t.length);return i.length===t.length&&(i.every((e,r)=>e===t[r])||eT(e,t,n+1))},eK=e=>{switch(!0){case eT(e,[42,134,72,206,61,3,1,7]):return"P-256";case eT(e,[43,129,4,0,34]):return"P-384";case eT(e,[43,129,4,0,35]):return"P-521";case eT(e,[43,101,110]):return"X25519";case eT(e,[43,101,111]):return"X448";case eT(e,[43,101,112]):return"Ed25519";case eT(e,[43,101,113]):return"Ed448";default:throw new x("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},eN=async(e,t,r,n,i)=>{var a;let s,c;let u=new Uint8Array(atob(r.replace(e,"")).split("").map(e=>e.charCodeAt(0))),l="spki"===t;switch(n){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${n.slice(-3)}`},c=l?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${n.slice(-3)}`},c=l?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(n.slice(-3),10)||1}`},c=l?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":s={name:"ECDSA",namedCurve:"P-256"},c=l?["verify"]:["sign"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},c=l?["verify"]:["sign"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},c=l?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e=eK(u);s=e.startsWith("P-")?{name:"ECDH",namedCurve:e}:{name:e},c=l?[]:["deriveBits"];break}case"EdDSA":s={name:eK(u)},c=l?["verify"]:["sign"];break;default:throw new x('Invalid or unsupported "alg" (Algorithm) value')}return o.subtle.importKey(t,u,s,null!==(a=null==i?void 0:i.extractable)&&void 0!==a&&a,c)},eI=(e,t,r)=>eN(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,r),eH=(e,t,r)=>eN(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,r);function eL(e){let t=[],r=0;for(;r<e.length;){let n=ej(e.subarray(r));t.push(n),r+=n.byteLength}return t}function ej(e){let t=0,r=31&e[0];if(t++,31===r){for(r=0;e[t]>=128;)r=128*r+e[t]-128,t++;r=128*r+e[t]-128,t++}let n=0;if(e[t]<128)n=e[t],t++;else if(128===n){for(n=0;0!==e[t+n]||0!==e[t+n+1];){if(n>e.byteLength)throw TypeError("invalid indefinite form length");n++}let r=t+n+2;return{byteLength:r,contents:e.subarray(t,t+n),raw:e.subarray(0,r)}}else{let r=127&e[t];t++,n=0;for(let i=0;i<r;i++)n=256*n+e[t],t++}let i=t+n;return{byteLength:i,contents:e.subarray(t,i),raw:e.subarray(0,i)}}function eD(e){let t=eL(eL(ej(e).contents)[0].contents);return w(t[160===t[0].raw[0]?6:5].raw)}function eM(e){return eC(eD(b(e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""))),"PUBLIC KEY")}let eJ=(e,t,r)=>{let n;try{n=eM(e)}catch(e){throw TypeError("Failed to parse the X.509 certificate",{cause:e})}return eH(n,t,r)};function eF(e){let t,r;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:`SHA-${e.alg.slice(-3)}`},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new x(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},r=["deriveBits"];break;default:throw new x('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new x('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new x('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new x('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new x('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}var eW=async e=>{var t,r;if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:n,keyUsages:i}=eF(e),a=[n,null!==(t=e.ext)&&void 0!==t&&t,null!==(r=e.key_ops)&&void 0!==r?r:i];if("PBKDF2"===n.name)return o.subtle.importKey("raw",E(e.k),...a);let s={...e};return delete s.alg,delete s.use,o.subtle.importKey("jwk",s,...a)};async function eV(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw TypeError('"spki" must be SPKI formatted string');return eH(e,t,r)}async function eG(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw TypeError('"x509" must be X.509 formatted string');return eJ(e,t,r)}async function e$(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw TypeError('"pkcs8" must be PKCS#8 formatted string');return eI(e,t,r)}async function ez(e,t,r){var n;if(!eu(e))throw TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');if(null!=r||(r=!0!==e.ext),r)return eW({...e,alg:t,ext:null!==(n=e.ext)&&void 0!==n&&n});return E(e.k);case"RSA":if(void 0!==e.oth)throw new x('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return eW({...e,alg:t});default:throw new x('Unsupported "kty" (Key Type) Parameter value')}}let eq=(e,t)=>{if(!(t instanceof Uint8Array)){if(!ee(t))throw TypeError(Q(e,t,...et,"Uint8Array"));if("secret"!==t.type)throw TypeError(`${et.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},eY=(e,t,r)=>{if(!ee(t))throw TypeError(Q(e,t,...et));if("secret"===t.type)throw TypeError(`${et.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${et.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${et.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${et.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${et.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)};var eX=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?eq(e,t):eY(e,t,r)};async function eZ(e,t,r,n,i){if(!(r instanceof Uint8Array))throw TypeError(Z(r,"Uint8Array"));let a=parseInt(e.slice(1,4),10),s=await o.subtle.importKey("raw",r.subarray(a>>3),"AES-CBC",!1,["encrypt"]),c=await o.subtle.importKey("raw",r.subarray(0,a>>3),{hash:`SHA-${a<<1}`,name:"HMAC"},!1,["sign"]),u=new Uint8Array(await o.subtle.encrypt({iv:n,name:"AES-CBC"},s,t)),l=f(i,n,u,y(i.length<<3));return{ciphertext:u,tag:new Uint8Array((await o.subtle.sign("HMAC",c,l)).slice(0,a>>3))}}async function eQ(e,t,r,n,i){let a;r instanceof Uint8Array?a=await o.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(Y(r,e,"encrypt"),a=r);let s=new Uint8Array(await o.subtle.encrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},a,t)),c=s.slice(-16);return{ciphertext:s.slice(0,-16),tag:c}}var e0=async(e,t,r,n,i)=>{if(!a(r)&&!(r instanceof Uint8Array))throw TypeError(Z(r,...et,"Uint8Array"));switch(M(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&J(r,parseInt(e.slice(-3),10)),eZ(e,t,r,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&J(r,parseInt(e.slice(1,4),10)),eQ(e,t,r,n,i);default:throw new x("Unsupported JWE Content Encryption Algorithm")}};async function e1(e,t,r,n){let i=e.slice(0,7);n||(n=D(i));let{ciphertext:o,tag:a}=await e0(i,r,t,n,new Uint8Array(0));return{encryptedKey:o,iv:v(n),tag:v(a)}}async function e2(e,t,r,n,i){return ei(e.slice(0,7),t,r,n,i,new Uint8Array(0))}var e8=async function(e,t,r,n,i){switch(eX(e,t,"decrypt"),e){case"dir":if(void 0!==r)throw new C("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new C("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i,o;if(!eu(n.epk))throw new C('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!em(t))throw new x("ECDH with the provided key is not allowed or not supported by your javascript runtime");let a=await ez(n.epk,e);if(void 0!==n.apu){if("string"!=typeof n.apu)throw new C('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{i=E(n.apu)}catch(e){throw new C("Failed to base64url decode the apu")}}if(void 0!==n.apv){if("string"!=typeof n.apv)throw new C('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{o=E(n.apv)}catch(e){throw new C("Failed to base64url decode the apv")}}let s=await ed(a,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?e_(n.enc):parseInt(e.slice(-5,-2),10),i,o);if("ECDH-ES"===e)return s;if(void 0===r)throw new C("JWE Encrypted Key missing");return ey(e.slice(-6),s,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new C("JWE Encrypted Key missing");return ex(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let o;if(void 0===r)throw new C("JWE Encrypted Key missing");if("number"!=typeof n.p2c)throw new C('JOSE Header "p2c" (PBES2 Count) missing or invalid');let a=(null==i?void 0:i.maxPBES2Count)||1e4;if(n.p2c>a)throw new C('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof n.p2s)throw new C('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{o=E(n.p2s)}catch(e){throw new C("Failed to base64url decode the p2s")}return eA(e,t,r,n.p2c,o)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new C("JWE Encrypted Key missing");return ey(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let i,o;if(void 0===r)throw new C("JWE Encrypted Key missing");if("string"!=typeof n.iv)throw new C('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof n.tag)throw new C('JOSE Header "tag" (Authentication Tag) missing or invalid');try{i=E(n.iv)}catch(e){throw new C("Failed to base64url decode the iv")}try{o=E(n.tag)}catch(e){throw new C("Failed to base64url decode the tag")}return e2(e,t,r,i,o)}default:throw new x('Invalid or unsupported "alg" (JWE Algorithm) header value')}},e3=function(e,t,r,n,i){let o;if(void 0!==i.crit&&void 0===n.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let a of(o=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!o.has(a))throw new x(`Extension Header Parameter "${a}" is not recognized`);if(void 0===i[a])throw new e(`Extension Header Parameter "${a}" is missing`);if(o.get(a)&&void 0===n[a])throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(n.crit)},e6=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function e4(e,t,r){var n;let i,o,a,s,l,h,p;if(!eu(e))throw new C("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new C("JOSE Header missing");if("string"!=typeof e.iv)throw new C("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new C("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new C("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new C("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new C("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new C("JWE AAD incorrect type");if(void 0!==e.header&&!eu(e.header))throw new C("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!eu(e.unprotected))throw new C("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=E(e.protected);i=JSON.parse(u.decode(t))}catch(e){throw new C("JWE Protected Header is invalid")}if(!es(i,e.header,e.unprotected))throw new C("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let y={...i,...e.header,...e.unprotected};if(e3(C,new Map,null==r?void 0:r.crit,i,y),void 0!==y.zip){if(!i||!i.zip)throw new C('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==y.zip)throw new x('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:d,enc:g}=y;if("string"!=typeof d||!d)throw new C("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof g||!g)throw new C("missing JWE Encryption Algorithm (enc) in JWE Header");let m=r&&e6("keyManagementAlgorithms",r.keyManagementAlgorithms),w=r&&e6("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(m&&!m.has(d))throw new B('"alg" (Algorithm) Header Parameter not allowed');if(w&&!w.has(g))throw new B('"enc" (Encryption Algorithm) Header Parameter not allowed');if(void 0!==e.encrypted_key)try{o=E(e.encrypted_key)}catch(e){throw new C("Failed to base64url decode the encrypted_key")}let v=!1;"function"==typeof t&&(t=await t(i,e),v=!0);try{a=await e8(d,t,o,y,r)}catch(e){if(e instanceof TypeError||e instanceof C||e instanceof x)throw e;a=eP(g)}try{s=E(e.iv)}catch(e){throw new C("Failed to base64url decode the iv")}try{l=E(e.tag)}catch(e){throw new C("Failed to base64url decode the tag")}let b=c.encode(null!==(n=e.protected)&&void 0!==n?n:"");h=void 0!==e.aad?f(b,c.encode("."),c.encode(e.aad)):b;try{p=E(e.ciphertext)}catch(e){throw new C("Failed to base64url decode the ciphertext")}let A=await ei(g,a,p,s,l,h);"DEF"===y.zip&&(A=await ((null==r?void 0:r.inflateRaw)||eo)(A));let S={plaintext:A};if(void 0!==e.protected&&(S.protectedHeader=i),void 0!==e.aad)try{S.additionalAuthenticatedData=E(e.aad)}catch(e){throw new C("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(S.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(S.unprotectedHeader=e.header),v)?{...S,key:t}:S}async function e5(e,t,r){if(e instanceof Uint8Array&&(e=u.decode(e)),"string"!=typeof e)throw new C("Compact JWE must be a string or Uint8Array");let{0:n,1:i,2:o,3:a,4:s,length:c}=e.split(".");if(5!==c)throw new C("Invalid Compact JWE");let l=await e4({ciphertext:a,iv:o||void 0,protected:n||void 0,tag:s||void 0,encrypted_key:i||void 0},t,r),f={plaintext:l.plaintext,protectedHeader:l.protectedHeader};return"function"==typeof t?{...f,key:l.key}:f}async function e7(e,t,r){if(!eu(e))throw new C("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(eu))throw new C("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new C("JWE Recipients has no members");for(let n of e.recipients)try{return await e4({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:n.encrypted_key,header:n.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch(e){}throw new _}var e9=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:v(e)};if(!a(e))throw TypeError(Z(e,...et,"Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:n,use:i,...s}=await o.subtle.exportKey("jwk",e);return s};async function te(e){return eR(e)}async function tt(e){return eU(e)}async function tr(e){return e9(e)}var tn=async function(e,t,r,n,i={}){let o,a,s;switch(eX(e,r,"encrypt"),e){case"dir":s=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!em(r))throw new x("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:c,apv:u}=i,{epk:l}=i;l||(l=(await eg(r)).privateKey);let{x:f,y:h,crv:p,kty:y}=await tr(l),d=await ed(r,l,"ECDH-ES"===e?t:e,"ECDH-ES"===e?e_(t):parseInt(e.slice(-5,-2),10),c,u);if(a={epk:{x:f,crv:p,kty:y}},"EC"===y&&(a.epk.y=h),c&&(a.apu=v(c)),u&&(a.apv=v(u)),"ECDH-ES"===e){s=d;break}s=n||eP(t);let g=e.slice(-6);o=await ep(g,d,s);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s=n||eP(t),o=await eB(e,r,s);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{s=n||eP(t);let{p2c:c,p2s:u}=i;({encryptedKey:o,...a}=await eE(e,r,s,c,u));break}case"A128KW":case"A192KW":case"A256KW":s=n||eP(t),o=await ep(e,r,s);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{s=n||eP(t);let{iv:c}=i;({encryptedKey:o,...a}=await e1(e,r,s,c));break}default:throw new x('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:s,encryptedKey:o,parameters:a}};let ti=Symbol();class to{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let r,n,i,o,a,s,l;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new C("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!es(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new C("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let h={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(e3(C,new Map,null==t?void 0:t.crit,this._protectedHeader,h),void 0!==h.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new C('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==h.zip)throw new x('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:p,enc:y}=h;if("string"!=typeof p||!p)throw new C('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof y||!y)throw new C('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if("dir"===p){if(this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===p&&this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let i;({cek:n,encryptedKey:r,parameters:i}=await tn(p,y,e,this._cek,this._keyManagementParameters)),i&&(t&&ti in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...i}:this.setUnprotectedHeader(i):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...i}:this.setProtectedHeader(i))}if(this._iv||(this._iv=D(y)),o=this._protectedHeader?c.encode(v(JSON.stringify(this._protectedHeader))):c.encode(""),this._aad?(a=v(this._aad),i=f(o,c.encode("."),c.encode(a))):i=o,"DEF"===h.zip){let e=await ((null==t?void 0:t.deflateRaw)||ea)(this._plaintext);({ciphertext:s,tag:l}=await e0(y,e,n,this._iv,i))}else({ciphertext:s,tag:l}=await e0(y,this._plaintext,n,this._iv,i));let d={ciphertext:v(s),iv:v(this._iv),tag:v(l)};return r&&(d.encrypted_key=v(r)),a&&(d.aad=a),this._protectedHeader&&(d.protected=u.decode(o)),this._sharedUnprotectedHeader&&(d.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(d.header=this._unprotectedHeader),d}}class ta{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}class ts{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){let r=new ta(this,e,{crit:null==t?void 0:t.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var t,r,n;let i;if(!this._recipients.length)throw new C("at least one recipient must be added");if(e={deflateRaw:null==e?void 0:e.deflateRaw},1===this._recipients.length){let[t]=this._recipients,r=await new to(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(t.unprotectedHeader).encrypt(t.key,{...t.options,...e}),n={ciphertext:r.ciphertext,iv:r.iv,recipients:[{}],tag:r.tag};return r.aad&&(n.aad=r.aad),r.protected&&(n.protected=r.protected),r.unprotected&&(n.unprotected=r.unprotected),r.encrypted_key&&(n.recipients[0].encrypted_key=r.encrypted_key),r.header&&(n.recipients[0].header=r.header),n}for(let e=0;e<this._recipients.length;e++){let t=this._recipients[e];if(!es(this._protectedHeader,this._unprotectedHeader,t.unprotectedHeader))throw new C("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let r={...this._protectedHeader,...this._unprotectedHeader,...t.unprotectedHeader},{alg:n}=r;if("string"!=typeof n||!n)throw new C('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===n||"ECDH-ES"===n)throw new C('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof r.enc||!r.enc)throw new C('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(i){if(i!==r.enc)throw new C('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else i=r.enc;if(e3(C,new Map,t.options.crit,this._protectedHeader,r),void 0!==r.zip&&(!this._protectedHeader||!this._protectedHeader.zip))throw new C('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}let o=eP(i),a={ciphertext:"",iv:"",recipients:[],tag:""};for(let s=0;s<this._recipients.length;s++){let c=this._recipients[s],u={};a.recipients.push(u);let l=({...this._protectedHeader,...this._unprotectedHeader,...c.unprotectedHeader}).alg.startsWith("PBES2")?2048+s:void 0;if(0===s){let t=await new to(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(o).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(c.unprotectedHeader).setKeyManagementParameters({p2c:l}).encrypt(c.key,{...c.options,...e,[ti]:!0});a.ciphertext=t.ciphertext,a.iv=t.iv,a.tag=t.tag,t.aad&&(a.aad=t.aad),t.protected&&(a.protected=t.protected),t.unprotected&&(a.unprotected=t.unprotected),u.encrypted_key=t.encrypted_key,t.header&&(u.header=t.header);continue}let{encryptedKey:f,parameters:h}=await tn((null===(t=c.unprotectedHeader)||void 0===t?void 0:t.alg)||(null===(r=this._protectedHeader)||void 0===r?void 0:r.alg)||(null===(n=this._unprotectedHeader)||void 0===n?void 0:n.alg),i,c.key,o,{p2c:l});u.encrypted_key=v(f),(c.unprotectedHeader||h)&&(u.header={...c.unprotectedHeader,...h})}return a}}function tc(e,t){let r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new x(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function tu(e,t,r){if(a(t))return q(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(Z(t,...et));return o.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}throw TypeError(Z(t,...et,"Uint8Array"))}var tl=async(e,t,r,n)=>{let i=await tu(e,t,"verify");ek(e,i);let a=tc(e,i.algorithm);try{return await o.subtle.verify(a,i,r,n)}catch(e){return!1}};async function tf(e,t,r){var n;let i,o;if(!eu(e))throw new O("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new O('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new O("JWS Protected Header incorrect type");if(void 0===e.payload)throw new O("JWS Payload missing");if("string"!=typeof e.signature)throw new O("JWS Signature missing or incorrect type");if(void 0!==e.header&&!eu(e.header))throw new O("JWS Unprotected Header incorrect type");let a={};if(e.protected)try{let t=E(e.protected);a=JSON.parse(u.decode(t))}catch(e){throw new O("JWS Protected Header is invalid")}if(!es(a,e.header))throw new O("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let s={...a,...e.header},l=e3(O,new Map([["b64",!0]]),null==r?void 0:r.crit,a,s),h=!0;if(l.has("b64")&&"boolean"!=typeof(h=a.b64))throw new O('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:p}=s;if("string"!=typeof p||!p)throw new O('JWS "alg" (Algorithm) Header Parameter missing or invalid');let y=r&&e6("algorithms",r.algorithms);if(y&&!y.has(p))throw new B('"alg" (Algorithm) Header Parameter not allowed');if(h){if("string"!=typeof e.payload)throw new O("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new O("JWS Payload must be a string or an Uint8Array instance");let d=!1;"function"==typeof t&&(t=await t(a,e),d=!0),eX(p,t,"verify");let g=f(c.encode(null!==(n=e.protected)&&void 0!==n?n:""),c.encode("."),"string"==typeof e.payload?c.encode(e.payload):e.payload);try{i=E(e.signature)}catch(e){throw new O("Failed to base64url decode the signature")}if(!await tl(p,t,i,g))throw new H;if(h)try{o=E(e.payload)}catch(e){throw new O("Failed to base64url decode the payload")}else o="string"==typeof e.payload?c.encode(e.payload):e.payload;let m={payload:o};return(void 0!==e.protected&&(m.protectedHeader=a),void 0!==e.header&&(m.unprotectedHeader=e.header),d)?{...m,key:t}:m}async function th(e,t,r){if(e instanceof Uint8Array&&(e=u.decode(e)),"string"!=typeof e)throw new O("Compact JWS must be a string or Uint8Array");let{0:n,1:i,2:o,length:a}=e.split(".");if(3!==a)throw new O("Invalid Compact JWS");let s=await tf({payload:i,protected:n,signature:o},t,r),c={payload:s.payload,protectedHeader:s.protectedHeader};return"function"==typeof t?{...c,key:s.key}:c}async function tp(e,t,r){if(!eu(e))throw new O("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(eu))throw new O("JWS Signatures missing or incorrect type");for(let n of e.signatures)try{return await tf({header:n.header,payload:e.payload,protected:n.protected,signature:n.signature},t,r)}catch(e){}throw new H}var ty=e=>Math.floor(e.getTime()/1e3);let td=60,tg=3600,tm=86400,tw=604800,tv=31557600,tb=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;var tE=e=>{let t=tb.exec(e);if(!t)throw TypeError("Invalid time period format");let r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(r*td);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(r*tg);case"day":case"days":case"d":return Math.round(r*tm);case"week":case"weeks":case"w":return Math.round(r*tw);default:return Math.round(r*tv)}};let tA=e=>e.toLowerCase().replace(/^application\//,""),tS=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)));var tk=(e,t,r={})=>{let n,i;let{typ:o}=r;if(o&&("string"!=typeof e.typ||tA(e.typ)!==tA(o)))throw new S('unexpected "typ" JWT header value',"typ","check_failed");try{n=JSON.parse(u.decode(t))}catch(e){}if(!eu(n))throw new R("JWT Claims Set must be a top-level JSON object");let{requiredClaims:a=[],issuer:s,subject:c,audience:l,maxTokenAge:f}=r;for(let e of(void 0!==f&&a.push("iat"),void 0!==l&&a.push("aud"),void 0!==c&&a.push("sub"),void 0!==s&&a.push("iss"),new Set(a.reverse())))if(!(e in n))throw new S(`missing required "${e}" claim`,e,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(n.iss))throw new S('unexpected "iss" claim value',"iss","check_failed");if(c&&n.sub!==c)throw new S('unexpected "sub" claim value',"sub","check_failed");if(l&&!tS(n.aud,"string"==typeof l?[l]:l))throw new S('unexpected "aud" claim value',"aud","check_failed");switch(typeof r.clockTolerance){case"string":i=tE(r.clockTolerance);break;case"number":i=r.clockTolerance;break;case"undefined":i=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:h}=r,p=ty(h||new Date);if((void 0!==n.iat||f)&&"number"!=typeof n.iat)throw new S('"iat" claim must be a number',"iat","invalid");if(void 0!==n.nbf){if("number"!=typeof n.nbf)throw new S('"nbf" claim must be a number',"nbf","invalid");if(n.nbf>p+i)throw new S('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==n.exp){if("number"!=typeof n.exp)throw new S('"exp" claim must be a number',"exp","invalid");if(n.exp<=p-i)throw new k('"exp" claim timestamp check failed',"exp","check_failed")}if(f){let e=p-n.iat;if(e-i>("number"==typeof f?f:tE(f)))throw new k('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-i)throw new S('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return n};async function tB(e,t,r){var n;let i=await th(e,t,r);if((null===(n=i.protectedHeader.crit)||void 0===n?void 0:n.includes("b64"))&&!1===i.protectedHeader.b64)throw new R("JWTs MUST NOT use unencoded payload");let o={payload:tk(i.protectedHeader,i.payload,r),protectedHeader:i.protectedHeader};return"function"==typeof t?{...o,key:i.key}:o}async function tx(e,t,r){let n=await e5(e,t,r),i=tk(n.protectedHeader,n.plaintext,r),{protectedHeader:o}=n;if(void 0!==o.iss&&o.iss!==i.iss)throw new S('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==o.sub&&o.sub!==i.sub)throw new S('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==o.aud&&JSON.stringify(o.aud)!==JSON.stringify(i.aud))throw new S('replicated "aud" claim header parameter mismatch',"aud","mismatch");let a={payload:i,protectedHeader:o};return"function"==typeof t?{...a,key:n.key}:a}class t_{constructor(e){this._flattened=new to(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}var tP=async(e,t,r)=>{let n=await tu(e,t,"sign");return ek(e,n),new Uint8Array(await o.subtle.sign(tc(e,n.algorithm),n,r))};class tC{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){let r;if(!this._protectedHeader&&!this._unprotectedHeader)throw new O("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!es(this._protectedHeader,this._unprotectedHeader))throw new O("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let n={...this._protectedHeader,...this._unprotectedHeader},i=e3(O,new Map([["b64",!0]]),null==t?void 0:t.crit,this._protectedHeader,n),o=!0;if(i.has("b64")&&"boolean"!=typeof(o=this._protectedHeader.b64))throw new O('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:a}=n;if("string"!=typeof a||!a)throw new O('JWS "alg" (Algorithm) Header Parameter missing or invalid');eX(a,e,"sign");let s=this._payload;o&&(s=c.encode(v(s)));let l=f(r=this._protectedHeader?c.encode(v(JSON.stringify(this._protectedHeader))):c.encode(""),c.encode("."),s),h={signature:v(await tP(a,e,l)),payload:""};return o&&(h.payload=u.decode(s)),this._unprotectedHeader&&(h.header=this._unprotectedHeader),this._protectedHeader&&(h.protected=u.decode(r)),h}}class tO{constructor(e){this._flattened=new tC(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){let r=await this._flattened.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}class tR{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setProtectedHeader(e){if(this.protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}class tU{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){let r=new tR(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new O("at least one signature must be added");let e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){let r=this._signatures[t],n=new tC(this._payload);n.setProtectedHeader(r.protectedHeader),n.setUnprotectedHeader(r.unprotectedHeader);let{payload:i,...o}=await n.sign(r.key,r.options);if(0===t)e.payload=i;else if(e.payload!==i)throw new O("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(o)}return e}}class tT{constructor(e){if(!eu(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:e}:this._payload={...this._payload,nbf:ty(new Date)+tE(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:e}:this._payload={...this._payload,exp:ty(new Date)+tE(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:ty(new Date)}:this._payload={...this._payload,iat:e},this}}class tK extends tT{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var r;let n=new tO(c.encode(JSON.stringify(this._payload)));if(n.setProtectedHeader(this._protectedHeader),Array.isArray(null===(r=this._protectedHeader)||void 0===r?void 0:r.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new R("JWTs MUST NOT use unencoded payload");return n.sign(e,t)}}class tN extends tT{setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new t_(c.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}let tI=(e,t)=>{if("string"!=typeof e||!e)throw new U(`${t} missing or invalid`)};async function tH(e,t){let r;if(!eu(e))throw TypeError("JWK must be an object");if(null!=t||(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":tI(e.crv,'"crv" (Curve) Parameter'),tI(e.x,'"x" (X Coordinate) Parameter'),tI(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":tI(e.crv,'"crv" (Subtype of Key Pair) Parameter'),tI(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":tI(e.e,'"e" (Exponent) Parameter'),tI(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":tI(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new x('"kty" (Key Type) Parameter missing or unsupported')}let n=c.encode(JSON.stringify(r));return v(await s(t,n))}async function tL(e,t){null!=t||(t="sha256");let r=await tH(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}async function tj(e,t){let r={...e,...null==t?void 0:t.header};if(!eu(r.jwk))throw new O('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let n=await ez({...r.jwk,ext:!0},r.alg,!0);if(n instanceof Uint8Array||"public"!==n.type)throw new O('"jwk" (JSON Web Key) Header Parameter must be a public key');return n}function tD(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new x('Unsupported "alg" value for a JSON Web Key Set')}}function tM(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(tJ)}function tJ(e){return eu(e)}function tF(e){return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}class tW{constructor(e){if(this._cached=new WeakMap,!tM(e))throw new T("JSON Web Key Set malformed");this._jwks=tF(e)}async getKey(e,t){let{alg:r,kid:n}={...e,...null==t?void 0:t.header},i=tD(r),o=this._jwks.keys.filter(e=>{let t=i===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t}),{0:a,length:s}=o;if(0===s)throw new K;if(1!==s){let e=new N,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(let e of o)try{yield await tV(t,e,r)}catch(e){continue}},e}return tV(this._cached,a,r)}}async function tV(e,t,r){let n=e.get(t)||e.set(t,{}).get(t);if(void 0===n[r]){let e=await ez({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new T("JSON Web Key Set members must be public keys");n[r]=e}return n[r]}function tG(e){let t=new tW(e);return async function(e,r){return t.getKey(e,r)}}var t$=async(e,t,r)=>{let n,i;let o=!1;"function"==typeof AbortController&&(n=new AbortController,i=setTimeout(()=>{o=!0,n.abort()},t));let a=await fetch(e.href,{signal:n?n.signal:void 0,redirect:"manual",headers:r.headers}).catch(e=>{if(o)throw new I;throw e});if(void 0!==i&&clearTimeout(i),200!==a.status)throw new A("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await a.json()}catch(e){throw new A("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function tz(){return"undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime}class tq extends tW{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof K&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){this._pendingFetch&&tz()&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=t$(this._url,this._timeoutDuration,this._options).then(e=>{if(!tM(e))throw new T("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}function tY(e,t){let r=new tq(e,t);return async function(e,t){return r.getKey(e,t)}}class tX extends tT{encode(){let e=v(JSON.stringify({alg:"none"})),t=v(JSON.stringify(this._payload));return`${e}.${t}.`}static decode(e,t){let r;if("string"!=typeof e)throw new R("Unsecured JWT must be a string");let{0:n,1:i,2:o,length:a}=e.split(".");if(3!==a||""!==o)throw new R("Invalid Unsecured JWT");try{if(r=JSON.parse(u.decode(E(n))),"none"!==r.alg)throw Error()}catch(e){throw new R("Invalid Unsecured JWT")}return{payload:tk(r,E(i),t),header:r}}}let tZ=v,tQ=E;function t0(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e){if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header")}try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(u.decode(tQ(t)));if(!eu(e))throw Error();return e}catch(e){throw TypeError("Invalid Token or Protected Header formatting")}}function t1(e){let t,r;if("string"!=typeof e)throw new R("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new R("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new R("Invalid JWT");if(!n)throw new R("JWTs must contain a payload");try{t=tQ(n)}catch(e){throw new R("Failed to base64url decode the payload")}try{r=JSON.parse(u.decode(t))}catch(e){throw new R("Failed to parse the decoded payload as JSON")}if(!eu(r))throw new R("Invalid JWT Claims Set");return r}async function t2(e,t){var r;let n,i,a;switch(e){case"HS256":case"HS384":case"HS512":n=parseInt(e.slice(-3),10),i={name:"HMAC",hash:`SHA-${n}`,length:n},a=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return L(new Uint8Array((n=parseInt(e.slice(-3),10))>>3));case"A128KW":case"A192KW":case"A256KW":i={name:"AES-KW",length:n=parseInt(e.slice(1,4),10)},a=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":i={name:"AES-GCM",length:n=parseInt(e.slice(1,4),10)},a=["encrypt","decrypt"];break;default:throw new x('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return o.subtle.generateKey(i,null!==(r=null==t?void 0:t.extractable)&&void 0!==r&&r,a)}function t8(e){var t;let r=null!==(t=null==e?void 0:e.modulusLength)&&void 0!==t?t:2048;if("number"!=typeof r||r<2048)throw new x("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return r}async function t3(e,t){var r,n,i;let a,s;switch(e){case"PS256":case"PS384":case"PS512":a={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:t8(t)},s=["sign","verify"];break;case"RS256":case"RS384":case"RS512":a={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:t8(t)},s=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":a={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:t8(t)},s=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":a={name:"ECDSA",namedCurve:"P-256"},s=["sign","verify"];break;case"ES384":a={name:"ECDSA",namedCurve:"P-384"},s=["sign","verify"];break;case"ES512":a={name:"ECDSA",namedCurve:"P-521"},s=["sign","verify"];break;case"EdDSA":s=["sign","verify"];let c=null!==(r=null==t?void 0:t.crv)&&void 0!==r?r:"Ed25519";switch(c){case"Ed25519":case"Ed448":a={name:c};break;default:throw new x("Invalid or unsupported crv option provided")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{s=["deriveKey","deriveBits"];let e=null!==(n=null==t?void 0:t.crv)&&void 0!==n?n:"P-256";switch(e){case"P-256":case"P-384":case"P-521":a={name:"ECDH",namedCurve:e};break;case"X25519":case"X448":a={name:e};break;default:throw new x("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new x('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return o.subtle.generateKey(a,null!==(i=null==t?void 0:t.extractable)&&void 0!==i&&i,s)}async function t6(e,t){return t3(e,t)}async function t4(e,t){return t2(e,t)}var t5="WebCryptoAPI"},3176:function(e,t,r){"use strict";r.d(t,{_T:function(){return i},ev:function(){return a},gn:function(){return o},pi:function(){return n}});var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function o(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function a(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError},8434:function(e){"use strict";e.exports=JSON.parse('{"name":"next","version":"14.2.6","description":"The React Framework","main":"./dist/server/next.js","license":"MIT","repository":"vercel/next.js","bugs":"https://github.com/vercel/next.js/issues","homepage":"https://nextjs.org","types":"index.d.ts","files":["dist","app.js","app.d.ts","babel.js","babel.d.ts","client.js","client.d.ts","compat","cache.js","cache.d.ts","config.js","config.d.ts","constants.js","constants.d.ts","document.js","document.d.ts","dynamic.js","dynamic.d.ts","error.js","error.d.ts","future","legacy","script.js","script.d.ts","server.js","server.d.ts","head.js","head.d.ts","image.js","image.d.ts","link.js","link.d.ts","router.js","router.d.ts","jest.js","jest.d.ts","amp.js","amp.d.ts","og.js","og.d.ts","index.d.ts","types/index.d.ts","types/global.d.ts","types/compiled.d.ts","image-types/global.d.ts","navigation-types/navigation.d.ts","navigation-types/compat/navigation.d.ts","font","navigation.js","navigation.d.ts","headers.js","headers.d.ts","navigation-types","web-vitals.js","web-vitals.d.ts","experimental/testmode/playwright.js","experimental/testmode/playwright.d.ts","experimental/testmode/playwright/msw.js","experimental/testmode/playwright/msw.d.ts","experimental/testmode/proxy.js","experimental/testmode/proxy.d.ts"],"bin":{"next":"./dist/bin/next"},"scripts":{"dev":"taskr","release":"taskr release","build":"pnpm release","prepublishOnly":"cd ../../ && turbo run build","types":"tsc --declaration --emitDeclarationOnly --stripInternal --declarationDir dist","typescript":"tsec --noEmit","ncc-compiled":"ncc cache clean && taskr ncc"},"taskr":{"requires":["./taskfile-webpack.js","./taskfile-ncc.js","./taskfile-swc.js","./taskfile-watch.js"]},"dependencies":{"@next/env":"14.2.6","@swc/helpers":"0.5.5","busboy":"1.6.0","caniuse-lite":"^1.0.30001579","graceful-fs":"^4.2.11","postcss":"8.4.31","styled-jsx":"5.1.1"},"peerDependencies":{"@opentelemetry/api":"^1.1.0","@playwright/test":"^1.41.2","react":"^18.2.0","react-dom":"^18.2.0","sass":"^1.3.0"},"peerDependenciesMeta":{"sass":{"optional":true},"@opentelemetry/api":{"optional":true},"@playwright/test":{"optional":true}},"devDependencies":{"@ampproject/toolbox-optimizer":"2.8.3","@babel/code-frame":"7.22.5","@babel/core":"7.22.5","@babel/eslint-parser":"7.22.5","@babel/generator":"7.22.5","@babel/plugin-proposal-class-properties":"7.18.6","@babel/plugin-proposal-export-namespace-from":"7.18.9","@babel/plugin-proposal-numeric-separator":"7.18.6","@babel/plugin-proposal-object-rest-spread":"7.20.7","@babel/plugin-syntax-bigint":"7.8.3","@babel/plugin-syntax-dynamic-import":"7.8.3","@babel/plugin-syntax-import-assertions":"7.22.5","@babel/plugin-syntax-jsx":"7.22.5","@babel/plugin-transform-modules-commonjs":"7.22.5","@babel/plugin-transform-runtime":"7.22.5","@babel/preset-env":"7.22.5","@babel/preset-react":"7.22.5","@babel/preset-typescript":"7.22.5","@babel/runtime":"7.22.5","@babel/traverse":"7.22.5","@babel/types":"7.22.5","@capsizecss/metrics":"2.2.0","@edge-runtime/cookies":"4.1.1","@edge-runtime/ponyfill":"2.4.2","@edge-runtime/primitives":"4.1.0","@hapi/accept":"5.0.2","@jest/transform":"29.5.0","@jest/types":"29.5.0","@mswjs/interceptors":"0.23.0","@napi-rs/triples":"1.2.0","@next/polyfill-module":"14.2.6","@next/polyfill-nomodule":"14.2.6","@next/react-refresh-utils":"14.2.6","@next/swc":"14.2.6","@opentelemetry/api":"1.6.0","@playwright/test":"1.41.2","@taskr/clear":"1.1.0","@taskr/esnext":"1.1.0","@types/amphtml-validator":"1.0.0","@types/babel__code-frame":"7.0.2","@types/babel__core":"7.1.12","@types/babel__generator":"7.6.2","@types/babel__template":"7.4.0","@types/babel__traverse":"7.11.0","@types/bytes":"3.1.1","@types/ci-info":"2.0.0","@types/compression":"0.0.36","@types/content-disposition":"0.5.4","@types/content-type":"1.1.3","@types/cookie":"0.3.3","@types/cross-spawn":"6.0.0","@types/debug":"4.1.5","@types/express-serve-static-core":"4.17.33","@types/fresh":"0.5.0","@types/glob":"7.1.1","@types/graceful-fs":"4.1.9","@types/jsonwebtoken":"9.0.0","@types/lodash":"4.14.198","@types/lodash.curry":"4.1.6","@types/lru-cache":"5.1.0","@types/path-to-regexp":"1.7.0","@types/picomatch":"2.3.3","@types/platform":"1.3.4","@types/react":"18.2.37","@types/react-dom":"18.2.15","@types/react-is":"17.0.3","@types/semver":"7.3.1","@types/send":"0.14.4","@types/shell-quote":"1.7.1","@types/tar":"6.1.5","@types/text-table":"0.2.1","@types/ua-parser-js":"0.7.36","@types/uuid":"8.3.1","@types/webpack-sources1":"npm:@types/webpack-sources@0.1.5","@types/ws":"8.2.0","@vercel/ncc":"0.34.0","@vercel/nft":"0.26.4","@vercel/turbopack-ecmascript-runtime":"https://gitpkg-fork.vercel.sh/vercel/turbo/crates/turbopack-ecmascript-runtime/js?turbopack-240417.2","acorn":"8.11.3","amphtml-validator":"1.0.35","anser":"1.4.9","arg":"4.1.0","assert":"2.0.0","async-retry":"1.2.3","async-sema":"3.0.0","babel-plugin-transform-define":"2.0.0","babel-plugin-transform-react-remove-prop-types":"0.4.24","browserify-zlib":"0.2.0","browserslist":"4.22.2","buffer":"5.6.0","bytes":"3.1.1","ci-info":"watson/ci-info#f43f6a1cefff47fb361c88cf4b943fdbcaafe540","cli-select":"1.1.2","client-only":"0.0.1","commander":"12.0.0","comment-json":"3.0.3","compression":"1.7.4","conf":"5.0.0","constants-browserify":"1.0.0","content-disposition":"0.5.3","content-type":"1.0.4","cookie":"0.4.1","cross-spawn":"7.0.3","crypto-browserify":"3.12.0","css.escape":"1.5.1","cssnano-preset-default":"5.2.14","data-uri-to-buffer":"3.0.1","debug":"4.1.1","devalue":"2.0.1","domain-browser":"4.19.0","edge-runtime":"2.5.4","events":"3.3.0","find-up":"4.1.0","fresh":"0.5.2","get-orientation":"1.1.2","glob":"7.1.7","gzip-size":"5.1.1","http-proxy":"1.18.1","http-proxy-agent":"5.0.0","https-browserify":"1.0.0","https-proxy-agent":"5.0.1","icss-utils":"5.1.0","ignore-loader":"0.1.2","image-size":"1.0.0","is-docker":"2.0.0","is-wsl":"2.2.0","jest-worker":"27.5.1","json5":"2.2.3","jsonwebtoken":"9.0.0","loader-runner":"4.3.0","loader-utils2":"npm:loader-utils@2.0.0","loader-utils3":"npm:loader-utils@3.1.3","lodash.curry":"4.1.1","lru-cache":"5.1.1","mini-css-extract-plugin":"2.4.4","msw":"1.3.0","nanoid":"3.1.32","native-url":"0.3.4","neo-async":"2.6.1","node-html-parser":"5.3.3","ora":"4.0.4","os-browserify":"0.3.0","p-limit":"3.1.0","path-browserify":"1.0.1","path-to-regexp":"6.1.0","picomatch":"4.0.1","platform":"1.3.6","postcss-flexbugs-fixes":"5.0.2","postcss-modules-extract-imports":"3.0.0","postcss-modules-local-by-default":"4.0.4","postcss-modules-scope":"3.0.0","postcss-modules-values":"4.0.0","postcss-preset-env":"7.4.3","postcss-safe-parser":"6.0.0","postcss-scss":"4.0.3","postcss-value-parser":"4.2.0","process":"0.11.10","punycode":"2.1.1","querystring-es3":"0.2.1","raw-body":"2.4.1","react-is":"18.2.0","react-refresh":"0.12.0","regenerator-runtime":"0.13.4","sass-loader":"12.4.0","schema-utils2":"npm:schema-utils@2.7.1","schema-utils3":"npm:schema-utils@3.0.0","semver":"7.3.2","send":"0.17.1","server-only":"0.0.1","setimmediate":"1.0.5","shell-quote":"1.7.3","source-map":"0.6.1","source-map08":"npm:source-map@0.8.0-beta.0","stacktrace-parser":"0.1.10","stream-browserify":"3.0.0","stream-http":"3.1.1","strict-event-emitter":"0.5.0","string-hash":"1.1.3","string_decoder":"1.3.0","strip-ansi":"6.0.0","superstruct":"1.0.3","tar":"6.1.15","taskr":"1.1.0","terser":"5.27.0","terser-webpack-plugin":"5.3.9","text-table":"0.2.0","timers-browserify":"2.0.12","tty-browserify":"0.0.1","ua-parser-js":"1.0.35","unistore":"3.4.1","util":"0.12.4","uuid":"8.3.2","vm-browserify":"1.1.2","watchpack":"2.4.0","web-vitals":"3.0.0","webpack":"5.90.0","webpack-sources1":"npm:webpack-sources@1.4.3","webpack-sources3":"npm:webpack-sources@3.2.3","ws":"8.2.3","zod":"3.22.3"},"engines":{"node":">=18.17.0"},"optionalDependencies":{"@next/swc-darwin-arm64":"14.2.6","@next/swc-darwin-x64":"14.2.6","@next/swc-linux-arm64-gnu":"14.2.6","@next/swc-linux-arm64-musl":"14.2.6","@next/swc-linux-x64-gnu":"14.2.6","@next/swc-linux-x64-musl":"14.2.6","@next/swc-win32-arm64-msvc":"14.2.6","@next/swc-win32-ia32-msvc":"14.2.6","@next/swc-win32-x64-msvc":"14.2.6"}}')}}]);