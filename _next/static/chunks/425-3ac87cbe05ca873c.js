(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[425],{1044:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createConditionEvaluator=void 0;let i=n(8999),a=n(7871);e.createConditionEvaluator=function(t){let e=(0,a.useSanitizer)(t.condition.op);if(!e)return()=>!1;let{isSanitized:n,sanitizedValue:s}=e(t.condition.value);if(!n||void 0===s)return()=>!1;let r=(0,i.useOperation)(t.condition.op,s);return e=>{let n=e[t.condition.attribute];if(void 0===n||!r)return!1;let{isValid:i}=r(n);return t.condition.negate?!i:i}}},4631:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),a(n(1044),e),a(n(3599),e)},3599:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},2896:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.evaluateFeatureFlag=void 0;let i=n(7439);e.evaluateFeatureFlag=function(t,e){var n;if(!t.on)return{treatment:t.offTreatment};let a=null===(n=t.rules)||void 0===n?void 0:n.find(t=>(0,i.createRuleEvaluator)({rule:t})(e)===i.RuleEvaluationResultEnum.Treatable);return a?{treatment:a.treatment}:{treatment:t.defaultTreatment}}},5354:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),a(n(2896),e)},7128:function(t,e,n){"use strict";e.wJ=e.tE=void 0,n(5354),n(2523),n(7439),n(6200);var i=n(7866);Object.defineProperty(e,"tE",{enumerable:!0,get:function(){return i.evaluateIsEntitledToFeature}}),Object.defineProperty(e,"wJ",{enumerable:!0,get:function(){return i.evaluateIsEntitledToPermissions}})},1404:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.BooleanOperationsMapper=void 0;let s=n(6200),r=n(3383);a(n(3383),e),a(n(7187),e),e.BooleanOperationsMapper={[s.OperationEnum.Is]:t=>(0,r.useIsOperation)(t)}},3383:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useIsOperation=void 0,e.useIsOperation=function(t){return e=>({isValid:e===t.boolean})}},7187:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BooleanSanitizersMapper=e.singleBooleanSanitizer=void 0;let i=n(6200),a=t=>"boolean"==typeof t;e.singleBooleanSanitizer=t=>{let e=void 0!==t.boolean&&a(t.boolean)?{boolean:t.boolean}:void 0;return{isSanitized:!!e,sanitizedValue:e}},e.BooleanSanitizersMapper={[i.OperationEnum.Is]:e.singleBooleanSanitizer}},8999:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useOperation=void 0;let i=n(243),a=n(708),s=n(9531),r=n(1404),o={...i.StringOperationsMapper,...a.NumericOperationsMapper,...s.DateOperationsMapper,...r.BooleanOperationsMapper};e.useOperation=function(t,e){let n=o[t];return n?n(e):void 0}},7871:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useSanitizer=void 0;let i=n(1404),a=n(8832),s=n(5565),r=n(708),o={...a.StringSanitizersMapper,...r.NumericSanitizersMapper,...s.DateSanitizersMapper,...i.BooleanSanitizersMapper};e.useSanitizer=function(t){return o[t]}},9531:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.DateOperationsMapper=void 0;let s=n(6200),r=n(8628);a(n(8628),e),a(n(2840),e),e.DateOperationsMapper={[s.OperationEnum.On]:t=>(0,r.useDateOnOperation)(t),[s.OperationEnum.OnOrAfter]:t=>(0,r.useDateOnOrAfterOperation)(t),[s.OperationEnum.OnOrBefore]:t=>(0,r.useDateOnOrBeforeOperation)(t),[s.OperationEnum.BetweenDate]:t=>(0,r.useDateBetweenOperation)(t)}},8628:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useDateBetweenOperation=e.useDateOnOrBeforeOperation=e.useDateOnOrAfterOperation=e.useDateOnOperation=void 0,e.useDateOnOperation=function(t){return e=>({isValid:e.getTime()===t.date.getTime()})},e.useDateOnOrAfterOperation=function(t){return e=>({isValid:e.getTime()>=t.date.getTime()})},e.useDateOnOrBeforeOperation=function(t){return e=>({isValid:e.getTime()<=t.date.getTime()})},e.useDateBetweenOperation=function(t){return e=>({isValid:e.getTime()>=t.start.getTime()&&e.getTime()<=t.end.getTime()})}},5565:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateSanitizersMapper=e.sanitizeDateRange=e.sanitizeSingleDate=e.isValidDate=e.sanitizeDateValue=void 0;let i=n(6200);e.sanitizeDateValue=t=>new Date(t),e.isValidDate=t=>t instanceof Date&&!isNaN(t),e.sanitizeSingleDate=t=>{let n=t.date?(0,e.sanitizeDateValue)(t.date):void 0,i=n&&(0,e.isValidDate)(n)?{date:n}:void 0;return{isSanitized:!!i,sanitizedValue:i}},e.sanitizeDateRange=t=>{let n=t.start?(0,e.sanitizeDateValue)(t.start):void 0,i=t.end?(0,e.sanitizeDateValue)(t.end):void 0,a=n&&i&&(0,e.isValidDate)(n)&&(0,e.isValidDate)(i)?{start:n,end:i}:void 0;return{isSanitized:!!a,sanitizedValue:a}},e.DateSanitizersMapper={[i.OperationEnum.On]:e.sanitizeSingleDate,[i.OperationEnum.OnOrAfter]:e.sanitizeSingleDate,[i.OperationEnum.OnOrBefore]:e.sanitizeSingleDate,[i.OperationEnum.BetweenDate]:e.sanitizeDateRange}},2840:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},708:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.NumericOperationsMapper=void 0;let s=n(6200),r=n(4466);e.NumericOperationsMapper={[s.OperationEnum.Equal]:t=>(0,r.useEqualsOperation)(t),[s.OperationEnum.GreaterThan]:t=>(0,r.useGreaterThanOperation)(t),[s.OperationEnum.GreaterThanEqual]:t=>(0,r.useGreaterThanEqualOperation)(t),[s.OperationEnum.LesserThan]:t=>(0,r.useLesserThanOperation)(t),[s.OperationEnum.LesserThanEqual]:t=>(0,r.useLesserThanEqualOperation)(t),[s.OperationEnum.BetweenNumeric]:t=>(0,r.useBetweenNumericOperation)(t)},a(n(4466),e),a(n(6348),e),a(n(2878),e)},4466:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useBetweenNumericOperation=e.useLesserThanEqualOperation=e.useLesserThanOperation=e.useGreaterThanEqualOperation=e.useGreaterThanOperation=e.useEqualsOperation=void 0,e.useEqualsOperation=function(t){return e=>({isValid:e===t.number})},e.useGreaterThanOperation=function(t){return e=>({isValid:e>t.number})},e.useGreaterThanEqualOperation=function(t){return e=>({isValid:e>=t.number})},e.useLesserThanOperation=function(t){return e=>({isValid:e<t.number})},e.useLesserThanEqualOperation=function(t){return e=>({isValid:e<=t.number})},e.useBetweenNumericOperation=function(t){return e=>({isValid:e>=t.start&&e<=t.end})}},6348:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NumericSanitizersMapper=e.sanitizeNumericRange=e.sanitizeSingleNumber=void 0;let i=n(6200),a=t=>"number"==typeof t;e.sanitizeSingleNumber=t=>{let e=void 0!==t.number&&a(t.number)?{number:t.number}:void 0;return{isSanitized:!!e,sanitizedValue:e}},e.sanitizeNumericRange=t=>{let e=void 0!==t.start&&void 0!==t.end&&a(t.start)&&a(t.end)?{start:t.start,end:t.end}:void 0;return{isSanitized:!!e,sanitizedValue:e}},e.NumericSanitizersMapper={[i.OperationEnum.Equal]:e.sanitizeSingleNumber,[i.OperationEnum.GreaterThan]:e.sanitizeSingleNumber,[i.OperationEnum.GreaterThanEqual]:e.sanitizeSingleNumber,[i.OperationEnum.LesserThan]:e.sanitizeSingleNumber,[i.OperationEnum.LesserThanEqual]:e.sanitizeSingleNumber,[i.OperationEnum.BetweenNumeric]:e.sanitizeNumericRange}},2878:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},243:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.StringOperationsMapper=void 0;let s=n(6200),r=n(5926);a(n(5926),e),a(n(6556),e),e.StringOperationsMapper={[s.OperationEnum.StartsWith]:t=>(0,r.useStartsWithOperation)(t),[s.OperationEnum.EndsWith]:t=>(0,r.useEndsWithOperation)(t),[s.OperationEnum.Contains]:t=>(0,r.useContainsOperation)(t),[s.OperationEnum.InList]:t=>(0,r.useInListOperation)(t),[s.OperationEnum.Matches]:t=>(0,r.useMatchesOperation)(t)}},5926:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useMatchesOperation=e.useInListOperation=e.useContainsOperation=e.useEndsWithOperation=e.useStartsWithOperation=void 0,e.useStartsWithOperation=function(t){return e=>({isValid:t.list.some(t=>e.startsWith(t))})},e.useEndsWithOperation=function(t){return e=>({isValid:t.list.some(t=>e.endsWith(t))})},e.useContainsOperation=function(t){return e=>({isValid:t.list.some(t=>e.includes(t))})},e.useInListOperation=function(t){return e=>({isValid:t.list.includes(e)})},e.useMatchesOperation=function(t){return e=>{let n;try{n=new RegExp(t.string)}catch(t){return{isValid:!1}}return{isValid:n.test(e)}}}},8832:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSanitizersMapper=e.sanitizeListString=e.sanitizeSingleString=void 0;let i=n(6200),a=t=>"string"==typeof t;e.sanitizeSingleString=t=>{let e=void 0!==t.string&&a(t.string)?{string:t.string}:void 0;return{isSanitized:!!e,sanitizedValue:e}},e.sanitizeListString=t=>{let e=void 0!==t.list&&t.list.every(t=>a(t))?{list:t.list}:void 0;return{isSanitized:!!e,sanitizedValue:e}},e.StringSanitizersMapper={[i.OperationEnum.Matches]:e.sanitizeSingleString,[i.OperationEnum.Contains]:e.sanitizeListString,[i.OperationEnum.StartsWith]:e.sanitizeListString,[i.OperationEnum.EndsWith]:e.sanitizeListString,[i.OperationEnum.InList]:e.sanitizeListString}},6556:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},6200:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),a(n(7446),e)},7446:function(t,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.OperationEnum=void 0,(n=e.OperationEnum||(e.OperationEnum={})).InList="in_list",n.StartsWith="starts_with",n.EndsWith="ends_with",n.Contains="contains",n.Matches="matches",n.Equal="equal",n.GreaterThan="greater_than",n.GreaterThanEqual="greater_than_equal",n.LesserThan="lower_than",n.LesserThanEqual="lower_than_equal",n.BetweenNumeric="between_numeric",n.Is="is",n.On="on",n.BetweenDate="between_date",n.OnOrAfter="on_or_after",n.OnOrBefore="on_or_before"},2523:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),a(n(2694),e)},2694:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.evaluatePlan=void 0;let i=n(7439);e.evaluatePlan=function(t,e){var n;let a=null===(n=t.rules)||void 0===n?void 0:n.find(t=>(0,i.createRuleEvaluator)({rule:t})(e)===i.RuleEvaluationResultEnum.Treatable);return a?{treatment:a.treatment}:{treatment:t.defaultTreatment}}},7439:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),a(n(5344),e),a(n(1553),e)},1553:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createRuleEvaluator=void 0;let i=n(5344),a=n(4631);e.createRuleEvaluator=function(t){return e=>t.rule.conditions.every(t=>(0,a.createConditionEvaluator)({condition:t})(e))?i.RuleEvaluationResultEnum.Treatable:i.RuleEvaluationResultEnum.Insufficient}},5344:function(t,e){"use strict";var n,i;Object.defineProperty(e,"__esModule",{value:!0}),e.RuleEvaluationResultEnum=e.TreatmentEnum=e.ConditionLogicEnum=void 0,(e.ConditionLogicEnum||(e.ConditionLogicEnum={})).And="and",(n=e.TreatmentEnum||(e.TreatmentEnum={})).True="true",n.False="false",(i=e.RuleEvaluationResultEnum||(e.RuleEvaluationResultEnum={})).Treatable="treatable",i.Insufficient="insufficient"},7866:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),a(n(6869),e),a(n(8099),e),a(n(7836),e),a(n(3890),e)},7106:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.directEntitlementEvalutor=void 0;let i=n(7836);e.directEntitlementEvalutor=function(t,e,n={}){let a=e.features[t],s=!1;return!a||null===a.expireTime||(s=a.expireTime!==i.NO_EXPIRATION_TIME&&a.expireTime<Date.now())?{isEntitled:!1,justification:s?i.NotEntitledJustification.BUNDLE_EXPIRED:i.NotEntitledJustification.MISSING_FEATURE}:{isEntitled:!0}}},5190:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.featureFlagEvaluator=void 0;let i=n(7836),a=n(5354),s=n(6562),r=n(7439);e.featureFlagEvaluator=function(t,e,n={}){let o=e.features[t];if(o&&o.featureFlag){let t=(0,s.prepareAttributes)(n),{treatment:e}=(0,a.evaluateFeatureFlag)(o.featureFlag,t);if(e===r.TreatmentEnum.True)return{isEntitled:!0}}return{isEntitled:!1,justification:i.NotEntitledJustification.MISSING_FEATURE}}},4586:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIsEntitledEvaluators=void 0;let i=n(7106),a=n(5190),s=n(3319);e.getIsEntitledEvaluators=function(){return[i.directEntitlementEvalutor,a.featureFlagEvaluator,s.planTargetingRulesEvalutor]}},3319:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.planTargetingRulesEvalutor=void 0;let i=n(7836),a=n(6562),s=n(7439),r=n(2523);e.planTargetingRulesEvalutor=function(t,e,n={}){let o=e.features[t];if(o&&o.planIds&&o.planIds.length>0){let t=(0,a.prepareAttributes)(n),i=e.plans;for(let e of o.planIds){let n=i[e];if(n){let{treatment:e}=(0,r.evaluatePlan)(n,t);if(e===s.TreatmentEnum.True)return{isEntitled:!0}}}}return{isEntitled:!1,justification:i.NotEntitledJustification.MISSING_FEATURE}}},6869:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),a(n(8092),e)},8092:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.evaluateIsEntitledToFeature=void 0;let i=n(7836),a=n(3890),s=n(4586);e.evaluateIsEntitledToFeature=function(t,e,n={}){if(!e)return{isEntitled:!1,justification:i.NotEntitledJustification.MISSING_FEATURE};let r=[];for(let i of(0,s.getIsEntitledEvaluators)())if(r.push(i(t,e,n)),!(0,a.shouldContinue)(r))break;return(0,a.getResult)(r)}},8099:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),a(n(9547),e)},9547:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.evaluateIsEntitledToPermissions=void 0;let i=n(8092),a=n(7836),s=n(3890),r=n(8063);e.evaluateIsEntitledToPermissions=function(t,e,n){if(!e||!(0,r.checkPermission)(e.permissions,t))return{isEntitled:!1,justification:a.NotEntitledJustification.MISSING_PERMISSION};let o=Object.keys(e.features).filter(n=>e.features[n].linkedPermissions.includes(t));if(!o.length)return{isEntitled:!0};let l=[];for(let t of o)if(l.push((0,i.evaluateIsEntitledToFeature)(t,e,n)),!(0,s.shouldContinue)(l))break;return(0,s.getResult)(l)}},7836:function(t,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.NO_EXPIRATION_TIME=e.NotEntitledJustification=void 0,(n=e.NotEntitledJustification||(e.NotEntitledJustification={})).MISSING_FEATURE="MISSING_FEATURE",n.MISSING_PERMISSION="MISSING_PERMISSION",n.BUNDLE_EXPIRED="BUNDLE_EXPIRED",e.NO_EXPIRATION_TIME=-1},6562:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.modifyObjectKeysWithPrefix=e.defaultFronteggAttributesMapper=e.prepareAttributes=void 0;let i=n(725);function a(t){return{email:t.email,emailVerified:t.email_verified,tenantId:t.tenantId,userId:t.id}}function s(t,e){return Object.keys(t).reduce((n,i)=>(n[`${e}${i}`]=t[i],n),{})}e.prepareAttributes=function(t={},e){let{custom:n={},jwt:r={}}=t,o=(0,i.flatten)(r),l=e?e(r):a(r);return{...n,...s(l,"frontegg."),...s(o,"jwt.")}},e.defaultFronteggAttributesMapper=a,e.modifyObjectKeysWithPrefix=s},9210:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldContinue=e.getResult=void 0;let i=n(7836);e.getResult=function(t){let e=!1;for(let n of t){if(n.isEntitled)return n;n.justification===i.NotEntitledJustification.BUNDLE_EXPIRED&&(e=!0)}return{isEntitled:!1,justification:e?i.NotEntitledJustification.BUNDLE_EXPIRED:i.NotEntitledJustification.MISSING_FEATURE}},e.shouldContinue=function(t){return t.every(({isEntitled:t})=>!t)}},725:function(t,e){"use strict";function n(t){return t}Object.defineProperty(e,"__esModule",{value:!0}),e.flatten=void 0,e.flatten=function(t,e){let i=(null==(e=e||{})?void 0:e.delimiter)||".",a=null==e?void 0:e.maxDepth,s=(null==e?void 0:e.transformKey)||n,r={};return function t(n,o,l){l=l||1,Object.keys(n).forEach(function(u){let c=n[u],d=(null==e?void 0:e.safe)&&Array.isArray(c),g=Object.prototype.toString.call(c),h=c&&c.constructor&&"function"==typeof c.constructor.isBuffer&&c.constructor.isBuffer(c),p=o?o+i+s(u):s(u);if(!d&&!h&&("[object Object]"===g||"[object Array]"===g)&&Object.keys(c).length&&(!(null==e?void 0:e.maxDepth)||a&&l<a))return t(c,p,l+1);r[p]=c})}(t),r}},3890:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),a(n(8063),e),a(n(6562),e),a(n(9210),e)},8063:function(t,e){"use strict";function n(t){return RegExp("^"+t.replace(/\./g,"\\.").replace(/\*/g,".*")+"$","gs")}Object.defineProperty(e,"__esModule",{value:!0}),e.createPermissionCheckRegex=e.checkPermission=void 0,e.checkPermission=function(t,e){return Object.keys(t).some(t=>n(t).test(e))},e.createPermissionCheckRegex=n},3519:function(t,e,n){"use strict";n.r(e),n.d(e,{AppHolder:function(){return s}});var i=n(2614),a=n(1324),s=function(){function t(){(0,i.Z)(this,t)}return(0,a.Z)(t,null,[{key:"setInstance",value:function(e,n){t._apps[e]=n}},{key:"getInstance",value:function(e){var n=t._apps[e];if(!n)throw Error("[".concat(e,"] FronteggApp not found"));return n}}]),t}();s._apps={}},5375:function(t,e,n){"use strict";n.r(e),n.d(e,{AdminPortal:function(){return C},AdminPortalRenderer:function(){return j},AppHolder:function(){return a.AppHolder},CheckoutDialog:function(){return N},FronteggApp:function(){return R},HostedLogin:function(){return U},LoginBoxRenderer:function(){return $},createElement:function(){return m},defaultTheme:function(){return F},formatName:function(){return S},getOverriddenMetadata:function(){return k},getThemeAdminByName:function(){return M},getThemeByName:function(){return Z},initialize:function(){return H},mockFlagsList:function(){return _},restoreSearchParams:function(){return A},waitThemeSetter:function(){return b}});var i,a=n(3519);function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function r(t,e,n,i,a,s,r){try{var o=t[s](r),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(i,a)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(i,a){var s=t.apply(e,n);function o(t){r(s,i,a,o,l,"next",t)}function l(t){r(s,i,a,o,l,"throw",t)}o(void 0)})}}var l=n(2614),u=n(1324),c=n(2118),d=n.n(c),g=n(9836),h=n(2089),p=n(2581),f=n(8826),y=n(9260),v=n(9310),S=function(t){return t.replace(/\W+/g," ").split(/ |\B(?=[A-Z])/).map(function(t){return t.toLowerCase()}).join("")},m=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=document.createElement(e);return Object.keys(n).forEach(function(t){return i.setAttribute(t,n[t])}),t.appendChild(i),i},b=function(t){return new Promise(function(e,n){var i=4e3,a=setInterval(function(){if(null!=t.themeSetter){clearInterval(a),e(!0);return}if(i<0){n("Failed to load Renderer with themeSetter"),clearInterval(a);return}i-=50},50)})},A=function(t){var e=t.toString();if(e){var n=new URL(window.location.href);n.search=e,window.history.pushState(null,"",n.toString())}},w=n(886),T=n(2710),P=n(5909),E=n(4592),O=n(4130),_={admin_portal_ip_restrictions:"on",admin_portal_domain_restrictions:"on","new-mfa-pages":"on","show-passkeys-new":"on","groups-admin-box-new":"on","msp-all-accounts-new":"on","temporary-users":"on"},I=n(127),D=n.n(I),L=function(t){var e,n=v.S.getInstance(t),i=null==n?void 0:null==(e=n.integrations)?void 0:e.gtm;null==i||i.filter(function(t){var e=t.id;return t.enabled&&/^GTM-[a-zA-Z0-9]+$/.test(e)}).forEach(function(t){var e=t.id,n=document.createElement("script");n.innerHTML="\n        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n        })(window,document,'script','dataLayer','".concat(e,"');\n      "),document.body.appendChild(n)})},k=(i=o(d().mark(function t(e,n){var i,a,s,r;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null==(i=e.metadataOverrides)?void 0:i.url){t.next=3;break}return t.abrupt("return",e);case 3:return t.prev=3,t.next=6,n.sendRequest({url:a,method:"GET",credentials:"omit"});case 6:if(!(s=t.sent)){t.next=10;break}return r=D()(e,s),t.abrupt("return",r);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.error("Failed to get metadata overrides",t.t0);case 15:return t.abrupt("return",e);case 16:case"end":return t.stop()}},t,null,[[3,12]])})),function(t,e){return i.apply(this,arguments)}),R=function(){var t,e,n,i;function r(t,e){var n,i,s,u,c=this,g=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,l.Z)(this,r),this.name=void 0,this.iframeRendering=void 0,this.options=void 0,this.loading=!0,this.cdnUrl="https://assets.frontegg.com/admin-box/".concat("7.13.0"),this.customElementName="",this.adminPortalEl=void 0,this.adminPortalRenderer=void 0,this.loginBoxEl=void 0,this.checkoutDialogEl=void 0,this.checkoutDialogRenderer=void 0,this.adminPortalContainer=void 0,this.loginBoxContainer=void 0,this.checkoutDialogContainer=void 0,this.loginBoxRenderer=void 0,this.store=void 0,this.loadingListeners=[],this.fetchClient=void 0,this.apiClient=void 0,this.updateLocalizations=void 0,this.loadAdminBoxMetadata=o(d().mark(function t(){var e,n,i,a,s;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c.options.metadata){t.next=14;break}return t.prev=1,t.next=4,c.fetchClient.get("/metadata",{entityName:"adminBox"});case 4:return s=null!=(e=null==(a=t.sent)?void 0:null==(n=a.rows)?void 0:null==(i=n[0])?void 0:i.configuration)?e:{},t.next=8,k(s,c.fetchClient);case 8:c.options.metadata=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.error("failed to get admin portal metadata",t.t0);case 14:v.S.set(c.options.metadata,c.name);case 15:case"end":return t.stop()}},t,null,[[1,11]])})),this.requestAuthorize=o(d().mark(function t(){var e,n,i;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=null==(e=c.options.authOptions)?void 0:null==(n=e.hostedLoginOptions)?void 0:n.loadUserOnFirstLoad,!c.options.builderMode&&"nextjs"!==c.options.framework&&(c.options.hostedLoginBox&&!c.options.customLoginBox?i&&c.store.dispatch({type:"auth/requestHostedLoginAuthorizeV2",payload:{shouldRedirectToLogin:!1,firstTime:!0}}):c.store.dispatch({type:"auth/requestAuthorize",payload:!0}));case 2:case"end":return t.stop()}},t)})),this.loadFeatureFlags=o(d().mark(function t(){var e;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c.options.previewMode||c.options.builderMode)){t.next=4;break}w.TP.set(_,c.name),t.next=15;break;case 4:return t.prev=4,t.next=7,c.apiClient.featureFlags.loadFeatureFlags();case 7:e=t.sent,c.options.overrideFeatureFlags&&Object.assign(e,c.options.overrideFeatureFlags),w.TP.set(e,c.name),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.error("failed to get admin portal feature flags",t.t0);case 15:case"end":return t.stop()}},t,null,[[4,12]])})),this.setFeatureFlagsForPreview=function(t){w.TP.set(Object.assign({},_,t),c.name)},this.queryFeatureFlags=function(t){return w.TP.getFeatureFlags(t,c.name)},this.updateLocalizationsSetter=function(t){c.updateLocalizations=t},this.getEntitlementsFromStore=function(){var t;return null==(t=c.store.getState().auth.user)?void 0:t.entitlements},this.getUserFromStore=function(){return c.store.getState().auth.user},this.getEntitlementsQueryData=function(t){var e=c.getUserFromStore();return{entitlements:c.getEntitlementsFromStore(),attributes:{custom:t,jwt:e}}};var f=S(e),y="frontegg-app-".concat(f);this.iframeRendering=g,this.name=f,this.options=Object.assign({},t,{contextOptions:Object.assign({requestCredentials:"include"},t.contextOptions)}),this.fetchClient=new P.H(this.name),this.apiClient=(0,T.createApiClient)(this.name),this.options.cdnUrl&&(this.cdnUrl=this.options.cdnUrl),this.customElementName=y;var m=this.options.authOptions?Object.assign({},this.options.authOptions,{hostedLoginBox:this.options.hostedLoginBox}):{hostedLoginBox:this.options.hostedLoginBox};if(m.onRedirectTo=t.onRedirectTo,m.disableSilentRefresh=null==(s=this.options.authOptions)?void 0:s.disableSilentRefresh,this.options.store){if(this.store=this.options.store,!p&&this.options.store.getState().root.appName!==e)throw Error("Mismatch in store names")}else this.store=(0,h.MT)({context:this.options.contextOptions,name:this.name,builderMode:this.options.builderMode,previewMode:this.options.previewMode,storeHolder:this,urlStrategy:this.options.urlStrategy,initialState:{auth:Object.assign({},m,null!=(n=this.options.authOptions)?n:{}),auditLogs:Object.assign({},null!=(i=this.options.auditsOptions)?i:{})}});a.AppHolder.setInstance(f,this);var b=E.a.for(f);b.setAppName(f),this.setEntitlementsOptions(t.entitlementsOptions),this.setSessionContext({enableSessionPerTenant:null==(u=t.authOptions)?void 0:u.enableSessionPerTenant});var A=t.basename;A&&b.setBasename(A)}return(0,u.Z)(r,[{key:"setEntitlementsOptions",value:function(t){E.a.for(this.name).setEntitlementsOptions(Object.assign({},t))}},{key:"setSessionContext",value:function(t){E.a.for(this.name).setSessionContext(Object.assign({},t))}},{key:"initContainers",value:(t=o(d().mark(function t(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.adminPortalEl=e.adminPortalEl,this.loginBoxEl=e.loginBoxEl,this.checkoutDialogEl=e.checkoutDialogEl,this.adminPortalContainer=e.adminPortalContainer,this.loginBoxContainer=e.loginBoxContainer,this.checkoutDialogContainer=e.checkoutDialogContainer;try{"nextjs"!==this.options.framework&&document.body.classList.add("frontegg-loading")}catch(t){console.error("Failed to add frontegg-loading to body classList")}return t.next=9,this.loadFeatureFlags();case 9:return t.next=11,Promise.all([this.loadAdminBoxMetadata(),this.requestAuthorize()]);case 11:this.options.previewMode||this.options.customLoginBox||(this.loadLoginBox(),L(this.name)),this.options.lazyLoadAdminPortal||this.loadScript("FronteggAdminPortal");case 13:case"end":return t.stop()}},t,this)})),function(e){return t.apply(this,arguments)})},{key:"updateMetadata",value:function(t){if(v.S.set(t,this.name),null!=t&&t.localizations){var e;null==(e=this.updateLocalizations)||e.call(this,t.localizations)}}},{key:"addOnLoadedListener",value:function(t){if(!this.loading){t();return}this.loadingListeners.push(t)}},{key:"ready",value:function(t){this.loading?t():this.addOnLoadedListener(t)}},{key:"loginWithRedirect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.store.dispatch({type:"auth/setState",payload:{isLoading:!0}}),this.store.dispatch({type:"auth/requestHostedLoginAuthorize",payload:t})}},{key:"logout",value:function(){this.store.dispatch({type:"auth/setState",payload:{isLoading:!0}}),this.store.dispatch({type:"auth/logout"})}},{key:"loadScript",value:function(t){var e=this;return new Promise(function(n,i){var a=window;if(a[t]){n(a[t]);return}var s=document.createElement("script");s.src="".concat(e.cdnUrl,"/").concat({FronteggLoginBox:"login-box/index.js",FronteggAdminPortal:"admin-portal/index.js"}[t]),s.setAttribute("id","".concat(t,"Script")),s.setAttribute("cdn-url",e.cdnUrl),s.onload=function(){a["".concat(t,"Init")]?n(a["".concat(t,"Init")]({FronteggRestApi:T,FronteggTypes:y,FronteggReduxStore:g})):n(a[t])},s.onerror=function(t){console.log("Profile page error",t),i(t)},document.body.append(s)})}},{key:"loadLoginBox",value:(e=o(d().mark(function t(){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadScript("FronteggLoginBox");case 2:t.sent.render(this.loginBoxEl,{injector:this,options:this.options}),this.loading=!1,this.loadingListeners.forEach(function(t){try{t()}catch(t){console.error("Failed to call loadLoginBoxListener",t)}}),this.loadingListeners=[];case 7:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"showAdminPortal",value:(n=o(d().mark(function t(e){var n,i,a,r;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(null!=e?e:{isMultiApp:!1}).isMultiApp,a=(function(t){if(Array.isArray(t))return t}(i=this.queryFeatureFlags(["multi-apps-admin-portal"]))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,a,s,r,o=[],l=!0,u=!1;try{for(s=(n=n.call(t)).next;!(l=(i=s.call(n)).done)&&(o.push(i.value),1!==o.length);l=!0);}catch(t){u=!0,a=t}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(u)throw a}}return o}}(i,1)||function(t,e){if(t){if("string"==typeof t)return s(t,1);var n=({}).toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,1):void 0}}(i,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],E.a.for(this.name).setRequestSource(O.u1.AdminPortal),t.next=5,this.loadScript("FronteggAdminPortal");case 5:r=t.sent,this.adminPortalRenderer=r.render(this.adminPortalEl,{injector:this,options:Object.assign({isMultiApp:a&&n},this.options)});case 7:case"end":return t.stop()}},t,this)})),function(t){return n.apply(this,arguments)})},{key:"openHostedAdminPortal",value:function(){var t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],e=this.options.contextOptions.baseUrl,n="".concat(e,"/oauth/portal");if(t){window.open(n,"_blank");return}window.location.href=n}},{key:"hideAdminPortal",value:function(){try{var t,e=new URLSearchParams(window.location.search);null==(t=this.adminPortalRenderer)||t.unmount(),A(e),E.a.for(this.name).setRequestSource(null)}catch(t){console.error("Failed to unmount admin portal",t)}}},{key:"showCheckoutDialog",value:(i=o(d().mark(function t(e){var n;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadScript("FronteggAdminPortal");case 2:n=t.sent,this.checkoutDialogRenderer=n.renderCheckoutDialog(this.checkoutDialogEl,Object.assign({injector:this},e,{options:this.options}));case 4:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"hideCheckoutDialog",value:function(){try{var t;null==(t=this.checkoutDialogRenderer)||t.unmount()}catch(t){console.error("Failed to unmount checkout dialog",t)}}},{key:"getFeatureEntitlements",value:function(t,e){var n=this.getEntitlementsQueryData(e),i=n.entitlements,a=n.attributes;return(0,p._j)(i,t,a)}},{key:"getPermissionEntitlements",value:function(t,e){var n=this.getEntitlementsQueryData(e),i=n.entitlements,a=n.attributes;return(0,p.Ux)(i,t,a)}},{key:"getEntitlements",value:function(t,e){return"permissionKey"in t?this.getPermissionEntitlements(t.permissionKey,e):this.getFeatureEntitlements(t.featureKey,e)}},{key:"loadEntitlements",value:function(t){this.store.dispatch({type:"auth/loadEntitlements",payload:{callback:t}})}},{key:"stepUp",value:function(t){var e=this.store.getState(),n=(null==e?void 0:e.auth)||{},i=n.hostedLoginBox,a=n.routes.stepUpUrl;if(i){this.store.dispatch({type:"auth/stepUpHostedLogin",payload:t});return}(0,f.yg)(a,e.auth.onRedirectTo,null==t?void 0:t.maxAge)}},{key:"isSteppedUp",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=((null==(t=this.store.getState())?void 0:t.auth)||{}).user;return(0,f.J)(n,e)}},{key:"switchTenant",value:function(t){this.store.dispatch({type:"auth/switchTenant",payload:t})}},{key:"close",value:function(){this.hideAdminPortal(),this.hideCheckoutDialog()}}]),r}(),U=function(){function t(){(0,l.Z)(this,t)}return(0,u.Z)(t,null,[{key:"setAuthentication",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",s=a.AppHolder.getInstance(i),r=E.a.for(i);t&&e?(r.setAccessToken(e),r.setUser(Object.assign({},n,{accessToken:e})),s.store.actions.setAuthState({isLoading:!1,isAuthenticated:t,user:n}),s.store.actions.loadTenants()):(r.setAccessToken(null),r.setUser(null),s.store.actions.setAuthState({isLoading:!1,isAuthenticated:!1,user:null}))}}]),t}(),C=function(){function t(){(0,l.Z)(this,t)}return(0,u.Z)(t,null,[{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";a.AppHolder.getInstance(t).showAdminPortal()}},{key:"showMultiApp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";a.AppHolder.getInstance(t).showAdminPortal({isMultiApp:!0})}},{key:"openHosted",value:function(){var t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";a.AppHolder.getInstance(e).openHostedAdminPortal(t)}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";a.AppHolder.getInstance(t).hideAdminPortal()}}]),t}(),N=function(){function t(){(0,l.Z)(this,t)}return(0,u.Z)(t,null,[{key:"show",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";a.AppHolder.getInstance(e).showCheckoutDialog(t)}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";a.AppHolder.getInstance(t).hideCheckoutDialog()}}]),t}(),M=function(t){var e;return null!=(e=window.FronteggAdminPortal.adminPortalStaticThemesDefaults[t])?e:void 0},j=function(){var t;function e(t,n,i,a){var s=!(arguments.length>4)||void 0===arguments[4]||arguments[4];(0,l.Z)(this,e),this.app=void 0,this.options=void 0,this.store=void 0,this.setRoute=function(){},this.themeSetter=void 0,this.themeOptions={};var r={baseUrl:"preview"};if(i){if(this.store=i,!s&&i.getState().root.appName!==t)throw Error("Mismatch in store names")}else this.store=(0,h.iv)({context:r,appName:t},this,!0,void 0,void 0,!0);this.options=Object.assign({themeOptions:n,iframeRendering:!0,metadata:{},previewMode:!0,builderMode:!0,store:this.store,contextOptions:r},a),this.app=new R(this.options,t,!0),v.S.set({},t)}return(0,u.Z)(e,[{key:"render",value:(t=o(d().mark(function t(e){var n,i,a,s,r=this;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=e.querySelector("#root"))||((n=e.ownerDocument.createElement("div")).setAttribute("id","root"),e.appendChild(n)),this.app.adminPortalContainer=e,this.app.adminPortalEl=n,i=function(t){r.themeSetter=t},a=function(t){r.setRoute=t},t.next=8,this.app.loadScript("FronteggAdminPortal");case 8:return s=t.sent,this.app.adminPortalRenderer=s.renderPage(n,{options:this.options,injector:this.app,setThemeSetter:i,setStaticRouteSetter:a}),this.app.loading=!1,t.next=13,b(this);case 13:case"end":return t.stop()}},t,this)})),function(e){return t.apply(this,arguments)})},{key:"setStaticRoute",value:function(t){var e;null==(e=this.setRoute)||e.call(this,t)}},{key:"unmount",value:function(){try{var t;null==(t=this.app.adminPortalRenderer)||t.unmount()}catch(t){console.error("Failed to unmount admin Portal renderer",t)}}},{key:"setTheme",value:function(t){var e;this.themeOptions=t,this.themeSetter||console.warn("this.themeSetter is not defined yet"),null==(e=this.themeSetter)||e.call(this,this.themeOptions)}}]),e}(),F="modern",Z=function(t){var e,n=window.FronteggAdminPortal.themes;return null!=(e=n[t])?e:n[F]},$=function(){var t;function e(t,n,i,a){var s=!(arguments.length>4)||void 0===arguments[4]||arguments[4];(0,l.Z)(this,e),this.app=void 0,this.options=void 0,this.store=void 0,this.themeSetter=void 0,this.setRoute=function(){},this.themeOptions={};var r={baseUrl:"preview"};if(i){if(this.store=i,!s&&i.getState().root.appName!==t)throw Error("Mismatch in store names")}else this.store=(0,h.iv)({context:r,appName:t},this,!0,void 0,void 0,!0);this.options=Object.assign({themeOptions:n,iframeRendering:!0,metadata:{},previewMode:!0,builderMode:!0,store:this.store,contextOptions:r,onRedirectTo:function(){console.debug("path")}},a),this.app=new R(this.options,t,!0,s),v.S.set({},t)}return(0,u.Z)(e,[{key:"render",value:(t=o(d().mark(function t(e){var n,i,a,s,r=this;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=e.querySelector("#root"))||((n=e.ownerDocument.createElement("div")).setAttribute("id","root"),e.appendChild(n)),this.app.loginBoxContainer=e,this.app.loginBoxEl=n,i=function(t){r.themeSetter=t},a=function(t){r.setRoute=t},t.next=8,this.app.loadScript("FronteggLoginBox");case 8:return s=t.sent,this.app.loginBoxRenderer=s.renderPage(n,{options:this.options,injector:this.app,setThemeSetter:i,setStaticRouteSetter:a,staticRoute:"/account/login"}),t.next=12,b(this);case 12:case"end":return t.stop()}},t,this)})),function(e){return t.apply(this,arguments)})},{key:"unmount",value:function(){try{var t;null==(t=this.app.loginBoxRenderer)||t.unmount()}catch(t){console.error("Failed to unmount login box renderer",t)}}},{key:"setTheme",value:function(t){var e;this.themeOptions=t,this.themeSetter||console.warn("this.themeSetter is not defined yet"),null==(e=this.themeSetter)||e.call(this,this.themeOptions)}},{key:"setStaticRoute",value:function(t){var e;this.setRoute||console.warn("this.setRoute is not defined yet"),null==(e=this.setRoute)||e.call(this,t)}},{key:"setStore",value:function(t){this.store.dispatch({type:"auth/setState",payload:t})}}]),e}();function x(t,e){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var G=n(4551);function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(V=function(){return!!t})()}function W(t){var e="function"==typeof Map?new Map:void 0;return(W=function(t){if(null===t||!function(t){try{return -1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(V())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var a=new(t.bind.apply(t,i));return n&&x(a,n.prototype),a}(t,arguments,B(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),x(n,t)})(t)}var H=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=new R(t,e);if("undefined"!=typeof document){if(!t.contextOptions.baseUrl){var i,s=Error('Edit <FronteggProvider/> options { ContextOptions: { baseUrl: "" } } in order to connect your application');throw document.body.innerHTML="",alert(s.message),s}if(!customElements.get("frontegg-app")){var r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(i,t);var e,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=B(i);return t=e?Reflect.construct(n,arguments,B(this).constructor):n.apply(this,arguments),function(t,e){if(e&&("object"==(0,G.Z)(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;(0,l.Z)(this,i);for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(t=n.call.apply(n,[this].concat(a))).app=null,t}return(0,u.Z)(i,[{key:"connectedCallback",value:function(){this.updateContent()}},{key:"attributeChangedCallback",value:function(t,e,n){if("app-name"===t){if(null===e||e===n)return;this.innerHTML="",null===n?this.remove():this.updateContent()}console.debug("attributeChangedCallback",t,e,n)}},{key:"updateContent",value:function(){var t,e=null!=(t=this.getAttribute("app-name"))?t:"default",n=a.AppHolder.getInstance(e);if(null===n)throw Error("FronteggApp not found for appName: '".concat(e,"'"));this.setAttribute("id","frontegg-app-".concat(n.name));var i=m(this,"div",{id:"frontegg-admin-portal-container-".concat(n.name)}),s=m(this,"div",{id:"frontegg-login-box-container-".concat(n.name)}),r=m(this,"div",{id:"frontegg-checkout-dialog-container-".concat(n.name)}),o=i.attachShadow({mode:"open"}),l=s.attachShadow({mode:"open"}),u=r.attachShadow({mode:"open"}),c=m(o,"div",{id:"frontegg-admin-portal-".concat(n.name),class:"frontegg-root-content"}),d=m(l,"div",{id:"frontegg-login-box-".concat(n.name),class:"frontegg-root-content"}),g=m(u,"div",{id:"frontegg-checkout-dialog-".concat(n.name),class:"frontegg-root-content"});n.initContainers({adminPortalEl:c,loginBoxEl:d,adminPortalContainer:i,loginBoxContainer:s,checkoutDialogContainer:r,checkoutDialogEl:g})}}],[{key:"observedAttributes",get:function(){return["app-name"]}}]),i}(W(HTMLElement));customElements.define("frontegg-app",r)}null==(i=document.querySelector('frontegg-app[app-name="'.concat(n.name,'"]')))||i.remove();var o=document.createElement("frontegg-app");o.setAttribute("app-name",n.name),document.body.appendChild(o)}return n};/** @license Frontegg v7.13.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */},3845:function(t,e,n){"use strict";n.r(e),n.d(e,{CustomComponentHolder:function(){return A},CustomComponentRegister:function(){return P},FronteggStoreContext:function(){return r},FronteggStoreProvider:function(){return e7},Provider:function(){return l},ShadowDomContext:function(){return O},getMaxAgeFromQueryParam:function(){return t7},reloadProfileIfNeeded:function(){return tF},useAcceptInvitationActions:function(){return V},useAcceptInvitationState:function(){return B},useActivateAccountActions:function(){return q},useActivateAccountState:function(){return J},useAllAccountsActions:function(){return Q},useAllAccountsDialogsActions:function(){return te},useAllAccountsDialogsState:function(){return tt},useAllAccountsState:function(){return X},useApiTokensActions:function(){return ti},useApiTokensState:function(){return tn},useApplicationsActions:function(){return eT},useApplicationsState:function(){return ew},useAuditLogsActions:function(){return eI},useAuditLogsState:function(){return e_},useAuditsActions:function(){return eO},useAuditsMetadataActions:function(){return eL},useAuditsMetadataState:function(){return eD},useAuditsState:function(){return eE},useAuth:function(){return R},useAuthActions:function(){return M},useAuthRoutes:function(){return F},useAuthState:function(){return U},useAuthTeamActions:function(){return er},useAuthTeamState:function(){return es},useAuthUser:function(){return $},useAuthUserOrNull:function(){return x},useBillingInformation:function(){return ex},useBillingInformationActions:function(){return eG},useCheckout:function(){return eF},useCheckoutActions:function(){return eZ},useConnectivityActions:function(){return eR},useConnectivityState:function(){return ek},useCustomLoginActions:function(){return to},useCustomLoginState:function(){return tr},useCustomLoginTheme:function(){return tl},useEmailDomainRestrictions:function(){return ec},useEntitlements:function(){return tS},useEntitlementsActions:function(){return tm},useEntitlementsOptions:function(){return tb},useFeatureEntitlements:function(){return ty},useFeatureFlags:function(){return tc},useFeatureFlagsChecker:function(){return td},useForgotPasswordActions:function(){return tw},useForgotPasswordState:function(){return tA},useGroupsActions:function(){return tP},useGroupsDialogsActions:function(){return tO},useGroupsDialogsState:function(){return tE},useGroupsState:function(){return tT},useImpersonateActions:function(){return tI},useImpersonateState:function(){return t_},useInvoices:function(){return eW},useInvoicesActions:function(){return eH},useIpRestrictions:function(){return eu},useIsAuthenticated:function(){return Z},useIsSteppedUp:function(){return ee},useLoginActions:function(){return tL},useLoginState:function(){return tD},useLoginWithRedirect:function(){return C},useLoginWithRedirectV2:function(){return N},useMfaActions:function(){return tU},useMfaState:function(){return tR},useOnRedirectTo:function(){return j},usePasskeysActions:function(){return tN},usePasskeysState:function(){return tC},usePaymentMethod:function(){return eB},usePaymentMethodActions:function(){return eV},usePaymentProvider:function(){return eC},usePaymentProviderActions:function(){return eN},usePermissionEntitlements:function(){return tv},usePlans:function(){return eM},usePlansActions:function(){return ej},useProfileActions:function(){return tj},useProfileState:function(){return tM},useProvisioningActions:function(){return t$},useProvisioningState:function(){return tZ},usePublicAuthStrategiesPolicySettings:function(){return ev},usePublicPolicySettings:function(){return ey},useResetPhoneNumberActions:function(){return tG},useResetPhoneNumberState:function(){return tx},useRestrictionsActions:function(){return el},useRestrictionsState:function(){return eo},useRolesActions:function(){return tV},useRolesState:function(){return tB},useRootState:function(){return L},useSSOActions:function(){return t5},useSSOState:function(){return t2},useSecurityCenterActions:function(){return eg},useSecurityCenterState:function(){return ed},useSecurityPolicyActions:function(){return ef},useSecurityPolicyState:function(){return ep},useSessionsActions:function(){return tH},useSessionsPolicyActions:function(){return em},useSessionsPolicyState:function(){return eS},useSessionsState:function(){return tW},useShadowDom:function(){return D},useSignUpActions:function(){return tJ},useSignUpState:function(){return tz},useSmsActions:function(){return tY},useSmsState:function(){return tq},useSocialLoginActions:function(){return t0},useSocialLoginState:function(){return tQ},useStepUp:function(){return et},useStepUpActions:function(){return t9},useStepUpState:function(){return t8},useStore:function(){return o},useStripeActions:function(){return eX},useStripeState:function(){return eY},useSubscription:function(){return eJ},useSubscriptionActions:function(){return eq},useSubscriptionCancellation:function(){return eK},useSubscriptionRenewal:function(){return ez},useTeamActions:function(){return ei},useTeamState:function(){return en},useTenantsActions:function(){return eA},useTenantsState:function(){return eb},useUnlockAccountActions:function(){return K},useUnlockAccountState:function(){return H},useVendorActions:function(){return e5},useVendorPublicConfig:function(){return eQ},useVendorPublicConfigActions:function(){return e0},useVendorState:function(){return e2}});var i=n(7653),a=n(4592),s=n(7573);let r=(0,i.createContext)(null),o=()=>(0,i.useContext)(r),l=t=>(0,s.jsx)(r.Provider,{value:t.store,children:t.children});var u=n(8047),c=n(2666),d=n(9181);let{useSyncExternalStore:g}=c,h=new WeakMap;function p(t,e){let n=null==e?void 0:e.sync,a=(0,i.useRef)(),s=(0,i.useRef)(),r=!0,o=g((0,i.useCallback)(e=>{let i=(0,d.Ld)(t,e,n);return e(),i},[t,n]),()=>{let e=(0,d.CO)(t,i.use);try{if(!r&&a.current&&s.current&&!(0,u.ln)(a.current,e,s.current,new WeakMap))return a.current}catch(t){}return e},()=>(0,d.CO)(t,i.use));r=!1;let l=new WeakMap;(0,i.useEffect)(()=>{a.current=o,s.current=l});let c=(0,i.useMemo)(()=>new WeakMap,[]);return(0,u.DM)(o,l,c,h)}var f=n(7926),y=n(9468),v=n(5909),S=n(2710),m=n(3458),b=n(5218);class A{static set(t,e){A.components[t]=e}static get(t){return A.components[t]}}A.components={};let w=(t,e,n)=>{let i=e.split("."),a=t;for(;i.length>1;)a=a[i.shift()];a[i.shift()]=n},T=t=>{var e,n;let{app:a,themeKey:r}=t,o=A.get(r),[l,u]=(0,i.useState)(!1),[c,d]=(0,i.useState)({}),g=(0,i.useCallback)((t={})=>{u(!0),d(t)},[]),h=(0,i.useCallback)(()=>{u(!1)},[]);w(a.options.themeOptions,r,{type:"slot",themeKey:r,mount:g,unmount:h});let p=null==(e=a.loginBoxContainer)?void 0:e.querySelector(`[slot="${r}"]`);p||((p=document.createElement("div")).slot=r,null==(n=a.loginBoxContainer)||n.appendChild(p));let f=o?i.createElement(o,c):null;return p&&l?(0,s.jsx)(i.Fragment,{children:m.createPortal(f,p)}):(0,s.jsx)(s.Fragment,{})},P=({app:t,themeOptions:e})=>{let n=(0,i.useMemo)(()=>{if(!e||!e.loginBox)return[];let t=(e,n,a)=>{if("object"!=typeof n&&"function"!=typeof n)return[];if("function"==typeof n)try{let t=i.createElement(n,{title:"title"});if((0,i.isValidElement)(t)||(0,b.isElement)(t)){let t=`${a}.${e}`;return A.set(t,n),[t]}}catch(t){}if((0,i.isValidElement)(n)||(0,b.isElement)(n)||null===n){let t=`${a}.${e}`;return A.set(t,n),[t]}{let i=[];return Object.keys(n).forEach(s=>{i.push(...t(s,n[s],""===a?e:`${a}.${e}`))}),i}};return t("loginBox",e.loginBox,"")},[]);return(0,s.jsx)(s.Fragment,{children:n.map(e=>(0,s.jsx)(T,{app:t,themeKey:e},e))})},E=["urlStrategy","onRedirectTo","renderByRoute","customLoader","customStyles","contextOptions"],O=(0,i.createContext)({}),_=t=>{var e,n;return"undefined"!=typeof window&&(null==(e=window.history)?void 0:null==(n=e.pushState)?void 0:n.call(e,null,"",t))},I=t=>{var e,n;return"undefined"!=typeof window&&(null==(e=window.history)?void 0:null==(n=e.pushState)?void 0:n.call(e,null,"",`#${t}`))},D=()=>{var t,e;let n=(0,i.useContext)(O),{urlStrategy:a="path",onRedirectTo:s="path"===a?_:I,renderByRoute:r=!1,customLoader:o=!1,customStyles:l,contextOptions:u}=n,c=(0,y.Z)(n,E),d=null!=(t=null==(e=c.injector)?void 0:e.name)?t:"default";return(0,f.Z)({isShadowDom:!0,onRedirectTo:s,renderByRoute:r,customLoader:o,customStyles:l,urlStrategy:a,contextOptions:(0,f.Z)({requestCredentials:"include"},u)},c,{appName:d,fetchClient:new v.H(d),apiClient:(0,S.createApiClient)(d)})},L=()=>p(o().store.root),k=t=>t;function R(t=k){return t(p(o().store.auth))}function U(){return p(o().store.auth)}let C=()=>{let{actions:t}=(0,i.useContext)(r);return t.requestHostedLoginAuthorize},N=()=>{let{actions:t}=(0,i.useContext)(r);return t.requestHostedLoginAuthorizeV2},M=()=>o().actions,j=()=>{let{onRedirectTo:t}=R(),{appName:e}=L();return t||a.a.for(e).onRedirectTo},F=()=>U().routes,Z=()=>{let{isAuthenticated:t}=p(o().store.auth);return t},$=()=>{let t=F(),e=j(),n=N(),{user:a,hostedLoginBox:s}=R(),r="undefined"==typeof window;return(0,i.useEffect)(()=>{if(null==a&&!r){if(s)n({shouldRedirectToLogin:!0});else{let{loginUrl:n,customLoginUrl:i}=t;e(null!=i?i:n,{refresh:!0})}}},[s,a,t,e,n]),(null!=a||r)&&a||{}},x=()=>{let{user:t}=R();return t||null},G=t=>t;function B(t=G){return t(p(o().store.auth.acceptInvitationState))}let V=()=>o().stateActions.auth.acceptInvitationActions,W=t=>t;function H(t=W){return t(p(o().store.auth.unlockAccountState))}let K=()=>o().stateActions.auth.unlockAccountActions,z=t=>t;function J(t=z){return t(p(o().store.auth.activateAccountState))}let q=()=>o().stateActions.auth.activateAccountActions,Y=t=>t;function X(t=Y){return t(p(o().store.auth.allAccountsState))}let Q=()=>o().stateActions.auth.allAccountsActions;function tt(){return p(o().store.auth.allAccountsDialogsState)}let te=()=>o().stateActions.auth.allAccountsDialogActions;function tn(){return p(o().store.auth.apiTokensState)}let ti=()=>o().stateActions.auth.apiTokensActions;var ta=n(3130),ts=n.n(ta);function tr(){return p(o().store.auth.customLoginState)}let to=()=>o().stateActions.auth.customLoginActions,tl=()=>{var t,e,n;let a=null==(t=tr().tenantMetadata)?void 0:null==(e=t.configuration)?void 0:null==(n=e.themeV2)?void 0:n.loginBox,s=(0,i.useCallback)(t=>t&&a?ts()(a,t):a,[a]);return{customLoginTheme:a,getCustomLoginThemeValue:s}};var tu=n(886);let tc=t=>{let{injector:e}=D();return tu.TP.getFeatureFlags(t,e.name)},td=()=>{let{injector:t}=D();return e=>tu.TP.getFeatureFlags(e,t.name)};var tg=n(2581);let th=()=>{var t,e;return null!=(t=null==(e=p(o().store.auth).user)?void 0:e.entitlements)?t:{}},tp=()=>x()||void 0,tf=t=>{let e=tp();return{entitlements:th(),attributes:{custom:t,jwt:e}}},ty=(t,e)=>{let{entitlements:n,attributes:i}=tf(e);return(0,tg._j)(n,t,i)},tv=(t,e)=>{let{entitlements:n,attributes:i}=tf(e);return(0,tg.Ux)(n,t,i)},tS=(t,e)=>{let{entitlements:n,attributes:i}=tf(e);return(0,tg.HF)(n,t,i)},tm=()=>{let t=tp(),e=th();return(0,i.useMemo)(()=>({isEntitledTo:(n,i)=>(0,tg.HF)(e,n,{custom:i,jwt:t})}),[t,e])},tb=()=>{var t;let{entitlementsOptions:e}=D(),n=null!=(t=null==e?void 0:e.enabled)&&t,{isEntitledTo:i}=tm(),[a]=tc(["admin-portal-use-is-entitled"]);return{isEntitlementsEnabled:n,isEntitledTo:i,verifyIsEntitledFF:a}};function tA(){return p(o().store.auth.forgotPasswordState)}let tw=()=>o().stateActions.auth.forgotPasswordActions;function tT(){return p(o().store.auth.groupsState)}let tP=()=>o().stateActions.auth.groupsActions;function tE(){return p(o().store.auth.groupsDialogsState)}let tO=()=>o().stateActions.auth.groupsDialogsActions;function t_(){return p(o().store.auth.impersonateState)}let tI=()=>o().stateActions.auth.impersonateActions;function tD(){return p(o().store.auth.loginState)}let tL=()=>o().stateActions.auth.loginActions,tk=t=>t;function tR(t=tk){let{mfaState:e}=o().store.auth;return t(p(e))}let tU=()=>o().stateActions.auth.mfaActions;function tC(){return p(o().store.auth.passkeysState)}let tN=()=>o().stateActions.auth.passkeysActions;function tM(){return p(o().store.auth.profileState)}let tj=()=>o().stateActions.auth.profileActions,tF=()=>{let{loading:t}=tM(),{loadProfile:e}=tj();(0,i.useEffect)(()=>{t||e()},[])};function tZ(){return p(o().store.auth.provisioningState)}let t$=()=>o().stateActions.auth.provisioningActions;function tx(){return p(o().store.auth.resetPhoneNumberState)}let tG=()=>o().stateActions.auth.resetPhoneNumberActions;function tB(){return p(o().store.auth.rolesState)}let tV=()=>o().stateActions.auth.rolesActions;function tW(){return p(o().store.auth.sessionsState)}let tH=()=>o().stateActions.auth.sessionsActions,tK=t=>t;function tz(t=tK){let{signUpState:e}=o().store.auth;return t(p(e))}let tJ=()=>o().stateActions.auth.signUpActions;function tq(){return p(o().store.auth.smsState)}let tY=()=>o().stateActions.auth.smsActions,tX=t=>t;function tQ(t=tX){return t(p(o().store.auth.socialLoginState))}let t0=()=>o().stateActions.auth.socialLoginActions,t1=t=>t;function t2(t=t1){return t(p(o().store.auth.ssoState))}let t5=()=>o().stateActions.auth.ssoActions;var t4=n(2332),t3=n(7989),t6=n(8826);function t8(){return p(o().store.auth.stepUpState)}let t9=()=>o().stateActions.auth.stepUpActions,t7=()=>{let t=(0,t4.kp)(t3.VG);return void 0===t?void 0:+t},et=()=>{let{stepUpUrl:t}=F(),{hostedLoginBox:e}=R(),{stepUpHostedLogin:n}=t9(),a=j();return(0,i.useCallback)(i=>{if(e){n(i||{});return}(0,t6.yg)(t,a,null==i?void 0:i.maxAge)},[t,a,n,e])},ee=(t={})=>{let e=x();return(0,t6.J)(e,t)};function en(){return p(o().store.auth.teamState)}let ei=()=>o().stateActions.auth.teamActions,ea=t=>t;function es(t=ea){return t(en())}let er=()=>ei();function eo(){return p(o().store.auth.restrictionsState)}let el=()=>o().stateActions.auth.restrictionsActions,eu=(t=!1)=>{let{loading:e,data:n,saving:a,error:s,pagination:r,totalPages:o,userIpValid:l}=eo().ipRestrictions,{loadIpRestrictions:u}=el();return(0,i.useEffect)(()=>{(t||!n)&&u()},[t,u]),{loading:e,saving:a,error:s,data:n,pagination:r,totalPages:o,userIpValid:l}},ec=(t=!1)=>{let{loading:e,data:n,saving:a,error:s}=eo().emailDomainRestrictions,{loadEmailDomainRestrictions:r}=el();return(0,i.useEffect)(()=>{(t||!n)&&r()},[t,r]),{loading:e,saving:a,error:s,data:n}};function ed(){return p(o().store.auth.securityCenterState)}let eg=()=>o().stateActions.auth.securityCenterActions,eh=t=>t;function ep(t=eh){return t(p(o().store.auth.securityPolicyState))}let ef=()=>o().stateActions.auth.securityPolicyActions,ey=(t=!1)=>{let{publicPolicy:e}=ep(),{loadPublicSecurityPolicy:n}=ef();return(0,i.useEffect)(()=>{(t||!e.policy)&&n()},[t,n]),e},ev=(t=!1)=>{let{publicAuthStrategyPolicy:e}=ep(),{loadPublicAuthStrategiesPolicy:n}=ef();return(0,i.useEffect)(()=>{(t||!e.policy)&&n()},[t,n]),e};function eS(){return p(o().store.auth.sessionsPolicyState)}let em=()=>o().stateActions.auth.sessionsPolicyActions;function eb(){return p(o().store.auth.tenantsState)}let eA=()=>o().stateActions.auth.tenantsActions;function ew(){return p(o().store.auth.applicationsState)}let eT=()=>o().stateActions.auth.applicationsActions,eP=t=>t;function eE(t=eP){return t(p(o().store.auditLogs))}let eO=()=>o().stateActions.auditLogs;function e_(){return p(o().store.auditLogs.auditLogsState)}let eI=()=>o().stateActions.auditLogs;function eD(){return p(o().store.auditLogs.auditsMetadataState)}let eL=()=>o().stateActions.auditLogs;function ek(){return p(o().store.connectivity)}let eR=()=>o().stateActions.connectivity;function eU(){return o().store.subscriptions}let eC=()=>{let{config:t}=eU();return p(t)},eN=()=>o().stateActions.subscriptions.config,eM=()=>{let{plans:t}=eU();return p(t)},ej=()=>o().stateActions.subscriptions.plans,eF=()=>{let{checkout:t}=eU();return p(t)},eZ=()=>o().stateActions.subscriptions.checkout,e$=t=>o().stateActions.subscriptions.billing[t],ex=()=>{let{billing:t}=eU();return p(t.information)},eG=()=>e$("information"),eB=()=>{let{billing:t}=eU();return p(t.paymentMethod)},eV=()=>e$("paymentMethod"),eW=()=>{let{billing:t}=eU();return p(t.invoices)},eH=()=>e$("invoices"),eK=()=>{let{billing:t}=eU(),{cancellation:e}=p(t.subscription);return e},ez=()=>{let{billing:t}=eU(),{renewal:e}=p(t.subscription);return e},eJ=()=>{let{billing:t}=eU();return p(t.subscription)},eq=()=>{let t=o().stateActions.subscriptions.billing.subscription;return(0,f.Z)({},t,{load:t.loadSubscription})},eY=()=>{let{stripe:t}=eU();return p(t)},eX=()=>o().stateActions.subscriptions.stripe,eQ=()=>p(o().store.subscriptions.vendorPublicConfig),e0=()=>o().stateActions.subscriptions.vendorPublicConfig,e1=t=>t;function e2(t=e1){return t(p(o().store.vendor))}let e5=()=>o().stateActions.vendor;var e4=n(2089);let e3=["authenticatedUrl","signUpSuccessUrl"],e6=t=>{t?document.body.classList.add("frontegg-loading"):document.body.classList.remove("frontegg-loading")},e8=({children:t,basename:e})=>{let n=F(),a=(0,i.useRef)(window.location.pathname),r=(0,i.useRef)(0),[o,l]=(0,i.useState)(window.location.pathname),u=(0,i.useCallback)(()=>{a.current!==window.location.pathname&&(a.current=window.location.pathname,l(document.location.pathname)),r.current=window.requestAnimationFrame(u)},[]);(0,i.useEffect)(()=>(document.addEventListener("frontegg_onRedirectTo_fired",()=>{a.current!==window.location.pathname&&(a.current=window.location.pathname,l(document.location.pathname))}),window.addEventListener("popstate",()=>{a.current!==window.location.pathname&&(a.current=window.location.pathname,l(document.location.pathname))}),r.current=window.requestAnimationFrame(u),()=>{window.cancelAnimationFrame(r.current)}),[u,l]);let c=e&&e.endsWith("/")?e.substring(0,e.length-1):"";return -1!==Object.values((0,y.Z)(n,e3)).map(t=>`${c}${t}`).indexOf(o)?null:(0,s.jsx)(s.Fragment,{children:t})},e9=({children:t,app:e,setLoading:n})=>{var a,r;let{isLoading:o}=R(),l=!e||(null==e?void 0:null==(a=e.options)?void 0:a.customLoginBox)===!0,u=(null==e?void 0:null==(r=e.options)?void 0:r.framework)==="nextjs",c=(0,i.useRef)(void 0);return(o===c.current||u||(c.current=o,setTimeout(()=>{n(o)})),l||u)?(0,s.jsx)(s.Fragment,{children:t}):o&&!u?null:(0,s.jsx)(e8,{basename:null==e?void 0:e.options.basename,children:t})},e7=t=>{var e,n,r,o,u,c,d,g,h,p;let{children:y,app:v,contextOptions:S,setLoading:m=e6,alwaysVisibleChildren:b}=t,A=null!=(e=null==v?void 0:null==(n=v.options)?void 0:n.contextOptions)?e:S;if(!A)throw Error("contextOptions must not be null or undefined");let w=null!=(r=null==v?void 0:null==(o=v.options)?void 0:o.previewMode)&&r,T=null!=(u=null==v?void 0:null==(c=v.options)?void 0:c.builderMode)&&u,P=null==v?void 0:null==(d=v.options)?void 0:d.auditsOptions,E=null!=v&&null!=(g=v.options)&&g.authOptions?(0,f.Z)({},v.options.authOptions,{hostedLoginBox:v.options.hostedLoginBox}):{hostedLoginBox:null==v?void 0:null==(h=v.options)?void 0:h.hostedLoginBox},O=null!=(p=null==v?void 0:v.name)?p:"default";a.a.for(O).setContext(A);let _=(0,i.useMemo)(()=>{var t,e;return null!=(t=null==v?void 0:v.store)?t:(0,e4.MT)({name:O,context:A,previewMode:w,builderMode:T,initialState:{auth:E,audits:P},urlStrategy:null==v?void 0:null==(e=v.options)?void 0:e.urlStrategy,storeHolder:v})},[v,w]);return(0,s.jsxs)(l,{store:_,children:[b,(0,s.jsx)(e9,{setLoading:m,app:v,children:y})]})};/** @license Frontegg v7.13.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */},1897:function(t,e){"use strict";/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=60103,i=60106,a=60107,s=60108,r=60114,o=60109,l=60110,u=60112,c=60113,d=60120,g=60115,h=60116;if("function"==typeof Symbol&&Symbol.for){var p=Symbol.for;n=p("react.element"),p("react.portal"),p("react.fragment"),p("react.strict_mode"),p("react.profiler"),p("react.provider"),p("react.context"),p("react.forward_ref"),p("react.suspense"),p("react.suspense_list"),p("react.memo"),p("react.lazy"),p("react.block"),p("react.server.block"),p("react.fundamental"),p("react.debug_trace_mode"),p("react.legacy_hidden")}e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===n}},5218:function(t,e,n){"use strict";t.exports=n(1897)},5519:function(t,e,n){"use strict";var i=n(7926),a=n(7331),s=n(2401),r=n(5912);e.Z=(t,e,n)=>{let o=e=>{Object.assign(t.auditLogs.auditLogsState,e)},l=async()=>{let n=t.auditLogs.auditLogsState,{columns:a}=t.auditLogs.auditsMetadataState;try{let t=n.filter,s=n.sort.reduce((t,e)=>(0,i.Z)({},t,{sortBy:e.id,sortDirection:e.desc?"desc":"asc"}),{}),r=t.reduce((t,e)=>(0,i.Z)({},t,{[e.id]:e.value}),{});o({isDownloadingCsv:!0}),await e.audits.exportAudits((0,i.Z)({endpoint:"csv/v2",headerProps:a,offset:0,outputFileName:"audits.csv"},s,r))}catch(t){console.error("failed to export audits - ",t)}o({isDownloadingCsv:!1})},u=async a=>{var s,l,u,c,d,g;o({loading:!(null!=a&&a.silentLoading),error:null});let h=t.auditLogs.auditLogsState,{columns:p}=t.auditLogs.auditsMetadataState;try{let t=null!=(s=a.pageSize)?s:h.pageSize,r=null!=(l=a.pageOffset)?l:h.pageOffset,g=null!=(u=a.filter)?u:h.filter,f=null!=(c=a.sort)?c:h.sort;o({pageSize:t,pageOffset:r,filter:g,sort:f});let y=f.reduce((t,e)=>(0,i.Z)({},t,{sortBy:e.id,sortDirection:e.desc?"desc":"asc"}),{}),v=g.reduce((t,e)=>(0,i.Z)({},t,{[e.id]:e.value}),{});p||await n.loadAuditsMetadata();let{data:S,total:m}=await e.audits.getAudits((0,i.Z)({offset:r,count:t},y,v));o({loading:!1,logs:null!=S?S:[],totalPages:+Math.ceil(m/t)}),null==a||null==(d=a.callback)||d.call(a,!0)}catch(t){o({loading:!1,error:(0,r.P)(t)}),null==a||null==(g=a.callback)||g.call(a,null,t)}};return{setAuditLogsState:o,resetAuditLogsState:()=>{(0,s.BW)(t,["auditLogs","auditLogsState"],a.E)},exportAuditsCsv:l,loadAuditLogs:u}}},7331:function(t,e,n){"use strict";n.d(e,{E:function(){return a}});var i=n(4428);let a={loading:!0,pageOffset:0,pageSize:20,logs:[],sort:[],filter:[],totalPages:0,isDownloadingCsv:!1};e.Z=t=>(0,i.D)(a,t)},2817:function(t,e,n){"use strict";var i=n(817),a=n(2401);e.Z=(t,e,n)=>{let s=e=>{Object.assign(t.auditLogs.auditsMetadataState,e)},r=async()=>{s({loading:!0,error:null});try{let{properties:t}=await e.metadata.getAuditsMetadata();s({columns:t,loading:!1})}catch(t){s({error:t,loading:!1})}};return{setAuditsMetadataState:s,resetAuditsMetadataState:()=>{(0,a.BW)(t,["auditLogs","auditsMetadataState"],i.E)},loadAuditsMetadata:r}}},817:function(t,e,n){"use strict";n.d(e,{E:function(){return a}});var i=n(4428);let a={loading:!0};e.Z=t=>(0,i.D)(a,t)},5015:function(t,e,n){"use strict";n.d(e,{$:function(){return u},H:function(){return l}});var i=n(7926),a=n(7331),s=n(5519),r=n(817),o=n(2817);let l=t=>({auditLogsState:(0,a.Z)(null==t?void 0:t.auditLogsState),auditsMetadataState:(0,r.Z)(null==t?void 0:t.auditsMetadataState)}),u=(t,e,n)=>(0,i.Z)({},(0,s.Z)(t,e,n),(0,o.Z)(t,e,n))},2581:function(t,e,n){"use strict";n.d(e,{HF:function(){return c},Ux:function(){return l},_j:function(){return u},tI:function(){return d}});var i=n(4592),a=n(4788),s=n.n(a),r=n(7128);let o=(t="default")=>{if(!i.a.for(t).shouldLoadEntitlements())throw Error("You must first enable entitlements via Frontegg options to use this function")},l=(t,e,n,i,a="default")=>(o(a),(0,r.wJ)(e,t,n)),u=(t,e,n,i,a="default")=>(o(a),(0,r.tE)(e,t,n)),c=(t,e,n,i,a="default")=>"permissionKey"in e?l(t,e.permissionKey,n,i,a):u(t,e.featureKey,n,i,a);function d(t,e){return s()(t,e)}},4490:function(t,e,n){"use strict";n.d(e,{M:function(){return r},S:function(){return s}});var i=n(8994),a=n(132);let s={[i.lw.Code]:a.Fh.loginWithOtc,[i.lw.EmailAndPassword]:a.Fh.loginWithPassword,[i.lw.MagicLink]:a.Fh.magicLinkPreLoginSuccess,[i.lw.SmsCode]:a.Fh.loginWithSmsOtc},r={authenticatedUrl:"/",loginUrl:"/account/login",stepUpUrl:"/account/step-up",logoutUrl:"/account/logout",activateUrl:"/account/activate",impersonationUrl:"/account/impersonate",acceptInvitationUrl:"/account/invitation/accept",forgetPasswordUrl:"/account/forget-password",resetPhoneNumberUrl:"/account/reset-phone-number",resetPasswordUrl:"/account/reset-password",socialLoginCallbackUrl:"/account/social/success",signUpUrl:"/account/sign-up",oidcRedirectUrl:"/account/oidc/callback",samlCallbackUrl:"/account/saml/callback",magicLinkCallbackUrl:"/account/login/magic-link",hostedLoginRedirectUrl:"/oauth/callback",openAppUrl:"/account/redirect",unlockAccountUrl:"/account/unlock"}},2332:function(t,e,n){"use strict";n.d(e,{$_:function(){return S},B8:function(){return l},ET:function(){return v},RC:function(){return h},Z8:function(){return g},h_:function(){return f},kp:function(){return d},m0:function(){return c},s:function(){return u},s8:function(){return y},sD:function(){return r},v3:function(){return p}});var i=n(4559),a=n(4592),s=n(6367);let r=t=>{try{return new URL(t),!0}catch(t){return!1}},o=(t,e)=>{let n=new URL(window.location.href),i=new URL(t),a=i.origin===n.origin;return e.includes(i.origin)||a},l=({authenticatedUrl:t,enforceRedirectToSameSite:e,allowedRedirectOrigins:n,includeQueryParam:i})=>{let a=new URL(window.location.href),s=t,l=a.searchParams.get("redirectUrl");return l?e&&r(l)?o(l,n)?s=l:console.warn("The redirect url param is not valid, the origin is a different site"):s=l:i&&(s+=window.location.search),s},u=t=>{let{searchParams:e}=new URL(t),n=e.toString();if(n)return`?${n}`},c=(t,e=!1)=>{let{pathname:n,href:i}=new URL(t);if(e)return i;let a=u(t);return a?n+a:n},d=t=>{let e=new URLSearchParams(window.location.search).get(t);return null!=e?e:void 0},g="tenantId",h=t=>{let e=+!!t.webauthn.length,n=+!!t.phones.length,i=+!!t.authenticators.length,a=+!!t.emails.length;return{numberOfWebAuthnDevices:e,numberOfPhoneDevices:n,numberOfAuthenticators:i,numberOfEmails:a,totalDevices:e+n+i+a}},p=t=>{let{numberOfPhoneDevices:e,numberOfAuthenticators:n,numberOfEmails:i,totalDevices:a}=h(t);if(1===a){if(n)return s.b.authenticatorApp;if(e)return s.b.smsVerifyCode;if(i)return s.b.emailVerifyCode}return s.b.verify},f=t=>{if(1===t.length){let[e]=t;if(e===i.wp.AuthenticatorApp)return s.b.authenticatorApp;if(e===i.wp.SMS)return s.b.smsSetPhoneNumber;if(e===i.wp.EmailCode)return s.b.emailVerifyCode}return s.b.verify},y=t=>"/oauth/callback"===t;function v(t){return"email"in t}let S=t=>{let e=a.a.for(t.root.appName).getBasename();return null!=e&&e.endsWith("/")?e.slice(0,-1):e}},132:function(t,e,n){"use strict";let i,a,s,r;n.d(e,{DY:function(){return r},Fh:function(){return i},iP:function(){return a},lw:function(){return d.lw},mK:function(){return s}});var o,l,u,c,d=n(8994);(o=i||(i={})).preLogin="preLogin",o.magicLinkPreLoginSuccess="magicLinkPreLoginSuccess",o.loginWithSmsOtc="loginWithSmsOtc",o.loginWithQuickSmsOtc="loginWithQuickSmsOtc",o.loginWithOtc="loginWithOtc",o.loginWithPassword="loginWithPassword",o.loginWithTwoFactor="loginWithTwoFactor",o.redirectToSSO="redirectToSSO",o.loginWithSSOFailed="loginWithSSOFailed",o.success="success",o.forceTwoFactor="forceTwoFactor",o.recoverTwoFactor="recoverTwoFactor",o.promptPasskeys="promptPasskeys",o.breachedPassword="breachedPassword",o.breachedPasswordSuccess="breachedPasswordSuccess",(l=a||(a={})).Login="login",l.RegisterQuickLogin="registerQuickLogin",(u=s||(s={})).Internal="internal",u.UsbKey="usb-key",u.Android="android",u.Sms="sms",(c=r||(r={}))["social-login"]="social-login",c["custom-social-login"]="custom-social-login",c.direct="direct"},6367:function(t,e,n){"use strict";var i;let a;n.d(e,{b:function(){return a}}),(i=a||(a={})).verify="verify",i.recoveryCode="recoveryCode",i.authenticatorApp="authenticatorApp",i.smsSetPhoneNumber="smsSetPhoneNumber",i.smsVerifyCode="smsVerifyCode",i.emailVerifyCode="emailVerifyCode",i.noMFAEnrolledStepUp="noMFAEnrolledStepUp"},7989:function(t,e,n){"use strict";n.d(e,{$$:function(){return s},E9:function(){return r},VG:function(){return o},jT:function(){return i},yI:function(){return a}});let i="http://schemas.openid.net/pape/policies/2007/06/multi-factor",a="mfa",s=["otp","sms","hwk"],r="SHOULD_STEP_UP",o="maxAge"},8826:function(t,e,n){"use strict";n.d(e,{J:function(){return s},fd:function(){return r},yg:function(){return o}});var i=n(681),a=n(7989);let s=(t,{maxAge:e}={})=>{if(!t)return!1;let{amr:n=[],acr:i="",auth_time:s}=t;if(e&&s&&!(Date.now()/1e3-s<=e))return!1;let r=i===a.jT,o=-1!==n.indexOf(a.yI),l=void 0!==a.$$.find(t=>n.indexOf(t));return r&&o&&l};function r(){let t=window.location.pathname+window.location.search;window.localStorage.setItem(i._6,t)}let o=(t,e,n)=>{r();let i=new URLSearchParams(window.location.search);n&&i.set(a.VG,n.toString()),e(`${t}${i?`?${i}`:""}`,{refresh:!1})}},6983:function(t,e,n){"use strict";n.d(e,{$_:function(){return o.$_},AS:function(){return d},B8:function(){return o.B8},ET:function(){return o.ET},J:function(){return l.J},RC:function(){return o.RC},Un:function(){return p},Z8:function(){return o.Z8},fS:function(){return h},fd:function(){return l.fd},h_:function(){return o.h_},kp:function(){return o.kp},m0:function(){return o.m0},nF:function(){return g},qg:function(){return f},s:function(){return o.s},s8:function(){return o.s8},sD:function(){return o.sD},v3:function(){return o.v3},yg:function(){return l.yg}});var i=n(7926),a=n(9468),s=n(4592),r=n(4490),o=n(2332),l=n(8826);let u=["phoneNumber"],c=["authenticatedUrl"],d=(t,e)=>{let n=s.a.for(e);return t.mfaRequired&&t.mfaToken?(n.setAccessToken(null),n.setUser(null),!0):(n.setAccessToken(t.accessToken),n.setUser(t),!1)},g=(t,e=[])=>Object.entries(t).reduce((t,[n,i])=>"object"==typeof i?[...t,...g(i,[...e,n])]:[...t,{type:[...e,n].join("/"),payload:i}],[]),h=t=>{var e,n;if("path"===t)return(null!=(e=window)?e:document).location.pathname;{let t=((null!=(n=window)?n:document).location.hash||"#").substring(1);return -1!==t.indexOf("?")?t.substring(0,t.indexOf("?")):t}},p=t=>(0,a.Z)(t,u),f=(t,e)=>{let n=(0,i.Z)({},r.M,e);return Object.values((0,a.Z)(n,c)).includes(t)}},3054:function(t,e,n){"use strict";n.d(e,{Z:function(){return g}});var i=n(9468),a=n(7926);let s=["email","slack","sms","webhook"],r={sms:{title:"connectivity.sms",events:t=>(null==t?void 0:t.length)||0,isActive:t=>{var e;return null!=(e=null==t?void 0:t.some(({enabled:t})=>t))&&e},image:"sms"},email:{title:"common.email",events:t=>(null==t?void 0:t.length)||0,isActive:t=>{var e;return null!=(e=null==t?void 0:t.some(({enabled:t})=>t))&&e},image:"email"},slack:{title:"connectivity.slack",events:t=>{var e;return(null==t?void 0:null==(e=t.slackSubscriptions)?void 0:e.length)||0},isActive:t=>!!(null!=t&&t.slackSubscriptions.some(({isActive:t})=>t)),image:"slack"},webhook:{title:"connectivity.webhook",events:t=>(null==t?void 0:t.length)||0,isActive:t=>{var e;return null!=(e=null==t?void 0:t.some(({isActive:t})=>t))&&e},image:"webhook"}};var o=n(2401),l=n(5912),u=n(1016);let c=["id"],d=["id","enabled"];var g=(t,e,n)=>{let g={slack:e.connectivity.getSlackConfiguration,email:e.connectivity.getEmailConfiguration,sms:e.connectivity.getSMSConfiguration,webhook:e.connectivity.getWebhooksConfigurations,categories:e.connectivity.getCategories,channelMap:e.connectivity.getChannelMaps},h=["categories","channelMap"],p={slack:e.connectivity.postSlackConfiguration,email:e.connectivity.postEmailConfiguration,sms:e.connectivity.postSMSConfiguration,webhook:e.connectivity.postWebhooksConfiguration},f=e=>{Object.assign(t.connectivity,e)},y=e=>{var n;let i=null!=(n=t.connectivity.retryResult)?n:{};t.connectivity.retryResult=(0,a.Z)({},i,e)},v=()=>{(0,o.BW)(t,["connectivity"],u.E)},S=async(t,e)=>{try{return await g[t](e)}catch(t){return}},m=async()=>{try{f({slackChannels:{isLoading:!0}});let t=await e.connectivity.getSlackChannels();f({error:void 0,slackChannels:{isLoading:!1,data:t}})}catch(t){f({error:void 0,slackChannels:{isLoading:!1}})}},b=async t=>{let e=null!=t?t:s;f({isLoading:!0});try{let t=await Promise.all([...e.map(t=>S(t)),S("categories"),(async()=>(await Promise.all(e.map(t=>S("channelMap",t)))).reduce((t,n,i)=>(0,a.Z)({},t,{[`${e[i]}`]:n}),{}))()]),n=await S("webhook"),i=t.reduce((n,i,s)=>e[s]?t[t.length-1][e[s]].length?(0,a.Z)({},n,{[`${e[s]}`]:i,list:[...n.list,{id:s,key:e[s],events:r[e[s]].events(i),active:r[e[s]].isActive(i),platform:r[e[s]].title,image:r[e[s]].image}]}):n:(0,a.Z)({},n,{[`${h[s-e.length]}`]:i}),{list:[],webhook:n});f((0,a.Z)({},i,{error:void 0,isSaving:!1,isLoading:!1}))}catch(t){f({isLoading:!1,error:(0,l.P)(t)})}},A=async n=>{var s;let r=null==(s=t.connectivity.slack)?void 0:s.slackSubscriptions;if(!r)return;let{slackSubscriptions:o}=n;await Promise.all([...o.reduce((t,e)=>{var n,s;return!e.id&&e.slackEvents&&null!=(n=e.slackEvents[0].channelIds)&&n.length||(null==r?void 0:r.find(t=>{let{id:n}=t,s=(0,i.Z)(t,c);return n===e.id&&JSON.stringify((0,a.Z)({id:n},s))!==JSON.stringify(e)}))&&e.slackEvents&&null!=(s=e.slackEvents[0].channelIds)&&s.length?[...t,e]:t},[]).map(t=>p.slack(t)),...o.reduce((t,e)=>e.id&&!e.slackEvents[0].channelIds.length?[...t,e]:t,[]).map(t=>e.connectivity.deleteSlackConfiguration(t))])},w=async(n,s)=>{let r=t.connectivity.processIds,o=t.connectivity[s];if(!o)return;let l=[];try{l=await Promise.all([...n.reduce((t,e)=>!o.find(({eventKey:t})=>t===e.eventKey)&&e.subscriptions[0].recipients.filter(t=>t).length?[...t,e]:t,[]).map(t=>"email"===s?e.connectivity.postEmailConfiguration(t):e.connectivity.postSMSConfiguration(t)),...n.reduce((t,e)=>{let n=o.find(({eventKey:t})=>t===e.eventKey);return n&&JSON.stringify(n)!==JSON.stringify(e)?[...t,e]:t},[]).map(t=>{let{subscriptions:n,eventKey:r}=t,o=n[0],{id:l="",enabled:u}=o,c=(0,i.Z)(o,d);return Promise.all(["email"===s?e.connectivity.patchEmailConfiguration({eventKey:r,enabled:u}):e.connectivity.patchSMSConfiguration({eventKey:r,enabled:u}),"email"===s?e.connectivity.putEmailSubscriptions(l,r,(0,a.Z)({},c,{enabled:u})):e.connectivity.putSMSSubscriptions(l,r,(0,a.Z)({},c,{enabled:u}))])}),...n.reduce((t,e)=>{let n=o.find(({eventKey:t})=>t===e.eventKey);return n&&n.subscriptions[0].recipients.length&&!e.subscriptions[0].recipients.filter(t=>!!t).length?[...t,e]:t},[]).map(({eventKey:t,subscriptions:n})=>"email"===s?e.connectivity.deleteEmailSubscriptions(t,n[0].id||""):e.connectivity.deleteSMSSubscriptions(t,n[0].id||""))])}catch{}if(l.length){let t=await S(s);f({error:void 0,isSaving:!1,[`${s}`]:t,processIds:t.id?r.filter(e=>e!==t.id):r}),await T(s,t)}else f({error:void 0,isSaving:!1,[`${s}`]:o,processIds:r})},T=async(e,n)=>{let{list:i}=t.connectivity,s=i.find(({key:t})=>t===e);if(!s)return;let o=r[e].isActive(n);o!==s.active&&f({list:i.map(t=>t.key===e?(0,a.Z)({},t,{active:o}):t)})},P=async e=>{let{platform:n,data:i,callback:a}=e,s=t.connectivity.processIds;try{if(f({isSaving:!0,processIds:"webhook"===n?[i._id,...s]:s}),"slack"===n?await A(i):["sms","email"].includes(n)?await w(i,n):await p[n](i),!["sms","email"].includes(n)){let t=await S(n);"webhook"===n&&(t.id=i._id),f({error:void 0,isSaving:!1,[`${n}`]:t,processIds:t.id?s.filter(e=>e!==t.id):s}),await T(n,t),null==a||a(!0)}}catch(t){f({error:(0,l.P)(t),isSaving:!1,isLoading:!1})}},E=async t=>{try{await e.connectivity.postSlackCode(t)}catch{}f({error:void 0,isSaving:!1})},O=async()=>{let n=t.connectivity.slackChannels;try{f({slackChannels:(0,a.Z)({},n,{isLoadingScope:!0})});let{clientId:t}=await e.connectivity.getSlackScope();f({slackChannels:{error:void 0,clientId:t,isLoadingScope:!1,isLoading:!1}})}catch{f({slackChannels:{error:void 0,isLoadingScope:!1,isLoading:!1}})}},_=async n=>{let{callback:i,webhookId:a}=n,s=t.connectivity.processIds;try{f({isSaving:!0}),await e.connectivity.deleteWebhooksConfiguration(a)}catch(t){null==i||i(null,(0,l.P)(t))}let r=await S("webhook");r&&f({error:void 0,isSaving:!1,webhook:r,processIds:r.id?s.filter(t=>t!==r.id):s}),null==i||i(!0)},I=async t=>{try{f({isTesting:!0});let{statusCode:n,body:i}=await e.connectivity.postWebhookTest(t);if([201,200].includes(n)){let t=JSON.stringify(i,null,2);f({isTesting:!1,testResult:{status:"success",message:t}})}else f({isTesting:!1,testResult:{status:"failed"}})}catch(t){f({isTesting:!1,testResult:{status:"failed",message:(0,l.P)(t)}})}},D=async t=>{try{let{statusCode:n}=await e.connectivity.postWebhookRetry(t);y({[t]:{isProcess:!1,success:202===n}})}catch(e){y({[t]:{isProcess:!1,success:!1}})}},L=async n=>{let{id:i,limit:s,offset:r}=n,o=t.connectivity.webhookLogs;try{f({webhookLogs:(0,a.Z)({},o,{isLoading:!0})});let t=await e.connectivity.getWebhookLog(i,r,s);f({error:void 0,webhookLogs:(0,a.Z)({isLoading:!1},t)})}catch(t){f({error:void 0,webhookLogs:{isLoading:!1}})}},k=async()=>{f({webhookLogs:void 0})},R=async t=>{var e;f({testResult:{status:null==(e=t.testResult)?void 0:e.status,message:void 0}})},U=async()=>{f({error:void 0})},C=async()=>{f({slackChannels:{isLoading:!1}})};return{setConnectivityState:f,initData:v,resetConnectivityState:v,loadSlackActions:m,loadSlackChannels:m,loadDataAction:b,loadConnectivityChannels:b,postDataAction:P,postChannelData:P,postCodeAction:E,postSlackCode:E,loadScope:O,loadSlackPermissions:O,deleteWebhookConfigAction:_,deleteWebhookConfig:_,postWebhookTestAction:I,postWebhookTest:I,postWebhookRetryAction:D,postWebhookRetry:D,loadWebhookLogsAction:L,loadWebhookLogs:L,cleanWebhookTestData:()=>{f({testResult:void 0})},cleanWebhookLogsData:k,cleanWebhookTestMessage:R,cleanError:U,cleanSlackData:C}}},1016:function(t,e,n){"use strict";n.d(e,{E:function(){return a}});var i=n(4428);let a={isLoading:!1,isSaving:!1,list:[],processIds:[],slackChannels:{isLoading:!1}};e.Z=t=>(0,i.D)(a,t)},681:function(t,e,n){"use strict";n.d(e,{$$:function(){return i.$$},E9:function(){return i.E9},Mp:function(){return a.M},SD:function(){return a.S},VG:function(){return i.VG},_6:function(){return s},jT:function(){return i.jT},sR:function(){return r},yI:function(){return i.yI}});var i=n(7989),a=n(4490);let s="FRONTEGG_AFTER_AUTH_REDIRECT_URL",r="HOSTED_LOGIN_VERIFIER_KEY"},2401:function(t,e,n){"use strict";n.d(e,{BW:function(){return h},I8:function(){return g},X3:function(){return d},XD:function(){return u},cZ:function(){return c},gw:function(){return l}});var i=n(7926),a=n(3130),s=n.n(a),r=n(6091),o=n.n(r);let l=(t=500)=>new Promise(e=>{setTimeout(e,t)}),u=async(t,e,n)=>{let i=0;for(;i<e-1;)try{return await t()}catch(t){if(++i>=e)throw t;await new Promise(t=>setTimeout(t,n))}return await t()};function c(t,e){let n=(0,i.Z)({},t);return e.forEach(t=>{delete n[t]}),n}function d(t){if(null!=t)return function(t){let e=typeof t;return(null==t?void 0:t.constructor)===({}).constructor||"undefined"===e||null===t||"boolean"===e||"number"===e||"string"===e||t instanceof Date||t instanceof RegExp||t instanceof Blob||t instanceof File||t instanceof FileList||t instanceof ArrayBuffer||t instanceof ImageData||t instanceof ImageBitmap||t instanceof Array||t instanceof Map||t instanceof Set}(t)&&void 0!==t.__isProxy}let g=t=>JSON.parse(JSON.stringify(t)),h=(t,e,n)=>{let i=g(n),a=s()(t,e);for(let n in a)"__isProxy"!==n&&(n in i?o()(t,[...e,n],i[n]):o()(t,[...e,n],void 0))}},3020:function(t,e,n){"use strict";n.d(e,{Xy:function(){return r},y5:function(){return a},z2:function(){return s}});var i=n(1435);function a(t,e="file"){let n=t.match(/^data:image\/([A-Za-z-+\/]+);base64,(.+)$/);if(null==n)return null;let i=`image/${n[1]}`,a=((t,e)=>{let n=atob(t),i=[];for(let t=0;t<n.length;t+=512){let e=n.slice(t,t+512),a=Array(e.length);for(let t=0;t<e.length;t++)a[t]=e.charCodeAt(t);i.push(new Uint8Array(a))}return new Blob(i,{type:e})})(n[2],i),s=new FormData;return s.append(e,new File([a],e,{type:i})),s}let s=t=>{if(t instanceof Array){let e=[];for(let n of t)e.push(s(n));return e}if(t instanceof ArrayBuffer)return(0,i.K)(t);if(t instanceof Object){let e={};for(let n in t)e[n]=s(t[n]);return e}return t},r=t=>new Promise((e,n)=>{let i=new FileReader;i.readAsText(t),i.onload=()=>e(i.result),i.onerror=n})},1435:function(t,e,n){"use strict";n.d(e,{J:function(){return r},K:function(){return s}});let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",a=new Uint8Array(256);for(let t=0;t<i.length;t++)a[i.charCodeAt(t)]=t;let s=t=>{let e;let n=new Uint8Array(t),a=n.length,s="";for(e=0;e<a;e+=3)s+=i[n[e]>>2]+i[(3&n[e])<<4|n[e+1]>>4]+i[(15&n[e+1])<<2|n[e+2]>>6]+i[63&n[e+2]];return a%3==2?s=s.substring(0,s.length-1):a%3==1&&(s=s.substring(0,s.length-2)),s},r=t=>{let e=.75*t.length,n=t.length,i,s=0,r,o,l,u,c=new Uint8Array(e);for(i=0;i<n;i+=4)r=a[t.charCodeAt(i)],o=a[t.charCodeAt(i+1)],l=a[t.charCodeAt(i+2)],u=a[t.charCodeAt(i+3)],c[s++]=r<<2|o>>4,c[s++]=(15&o)<<4|l>>2,c[s++]=(3&l)<<6|63&u;return c.buffer}},735:function(t,e,n){"use strict";var i;let a;function s(t,e){var n,i;null==(n=(i=window).onFronteggEvent)||n.call(i,t,e)}n.d(e,{C:function(){return a},g:function(){return s}}),(i=a||(a={})).SIGNUP_COMPLETED="signup_completed",i.USER_VERIFIED="user_verified"},5912:function(t,e,n){"use strict";n.d(e,{P:function(){return s},V:function(){return a}});let i=t=>!!(null==t?void 0:t.statusCode),a=t=>t instanceof Error||(null==t?void 0:t.message)&&(null==t?void 0:t.stack)&&(null==t?void 0:t.name)==="Error",s=(t,e)=>t?i(t)?t.message:(a(t)?console.error(t.message):"string"==typeof t&&console.error(t),null!=e?e:"We're facing some difficulties, Please try again"):e},8686:function(t,e,n){"use strict";n.d(e,{vV:function(){return m},OT:function(){return S},rC:function(){return v},t1:function(){return y}});/**
 *
 * THIS IS CUSTOM VERSION OF JS-SHA256 that will be used only
 * on non-secure domain due to the native `crypto.subtle.digest`
 * isn't accessible from non-secure domains.
 *
 * NOTE: Changes from 0.9.0:
 * - Remove any usage of eval scripts
 * - Remove support for UMD and AMD exports
 * - Remove support for CommonJS
 * - Make it typescript
 *
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */let i="input is invalid type",a="undefined"!=typeof ArrayBuffer,s="0123456789abcdef".split(""),r=[-2147483648,8388608,32768,128],o=[24,16,8,0],l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=["hex","array","digest","arrayBuffer"],c=[];Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),a&&!ArrayBuffer.isView&&(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});let d=function(t){return function(e){let n=new h(!0).update(e);return null==n?void 0:n[t]()}},g=function(t){return function(e,n){let i=new p(e,!0).update(n);return null==i?void 0:i[t]()}};class h{constructor(t=!1){this.blocks=void 0,this.h0=void 0,this.h1=void 0,this.h2=void 0,this.h3=void 0,this.h4=void 0,this.h5=void 0,this.h6=void 0,this.h7=void 0,this.block=void 0,this.start=void 0,this.bytes=void 0,this.hBytes=void 0,this.finalized=void 0,this.hashed=void 0,this.first=void 0,this.lastByteIndex=void 0,this.sharedMemory=!1,this.toString=()=>this.hex(),this.array=()=>h.prototype.digest(),t?(c[0]=c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0,this.blocks=c):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.sharedMemory=t}update(t){let e;if(this.finalized)return;let n=typeof t;if("string"!==n){if("object"===n){if(null===t)throw Error(i);if(a&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!a||!ArrayBuffer.isView(t)))throw Error(i)}else throw Error(i);e=!0}let s,r=0,l,u=t.length,c=this.blocks;for(;r<u;){if(this.hashed&&(this.hashed=!1,c[0]=this.block,c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),e)for(l=this.start;r<u&&l<64;++r)c[l>>2]|=t[r]<<o[3&l++];else for(l=this.start;r<u&&l<64;++r)(s=t.charCodeAt(r))<128?c[l>>2]|=s<<o[3&l++]:(s<2048?c[l>>2]|=(192|s>>6)<<o[3&l++]:(s<55296||s>=57344?c[l>>2]|=(224|s>>12)<<o[3&l++]:(s=65536+((1023&s)<<10|1023&t.charCodeAt(++r)),c[l>>2]|=(240|s>>18)<<o[3&l++],c[l>>2]|=(128|s>>12&63)<<o[3&l++]),c[l>>2]|=(128|s>>6&63)<<o[3&l++]),c[l>>2]|=(128|63&s)<<o[3&l++]);this.lastByteIndex=l,this.bytes+=l-this.start,l>=64?(this.block=c[16],this.start=l-64,this.hash(),this.hashed=!0):this.start=l}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}finalize(){if(this.finalized)return;this.finalized=!0;let t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=r[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}hash(){let t=this.h0,e=this.h1,n=this.h2,i=this.h3,a=this.h4,s=this.h5,r=this.h6,o=this.h7,u,c,d,g,h,p,f,y,v,S,m=this.blocks;for(u=16;u<64;++u)c=((h=m[u-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,d=((h=m[u-2])>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,m[u]=m[u-16]+c+m[u-7]+d<<0;for(u=0,S=e&n;u<64;u+=4)this.first?(f=704751109,o=(h=m[0]-210244248)-1521486534<<0,i=h+143694565<<0,this.first=!1):(c=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),d=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),g=(f=t&e)^t&n^S,h=o+d+(a&s^~a&r)+l[u]+m[u],p=c+g,o=i+h<<0,i=h+p<<0),c=(i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10),d=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),g=(y=i&t)^i&e^f,h=r+d+(o&a^~o&s)+l[u+1]+m[u+1],p=c+g,r=n+h<<0,c=((n=h+p<<0)>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),d=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7),g=(v=n&i)^n&t^y,h=s+d+(r&o^~r&a)+l[u+2]+m[u+2],p=c+g,s=e+h<<0,c=((e=h+p<<0)>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),d=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),g=(S=e&n)^e&i^v,h=a+d+(s&r^~s&o)+l[u+3]+m[u+3],p=c+g,a=t+h<<0,t=h+p<<0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+i<<0,this.h4=this.h4+a<<0,this.h5=this.h5+s<<0,this.h6=this.h6+r<<0,this.h7=this.h7+o<<0}hex(){this.finalize();let t=this.h0,e=this.h1,n=this.h2,i=this.h3,a=this.h4,r=this.h5,o=this.h6,l=this.h7;return s[t>>28&15]+s[t>>24&15]+s[t>>20&15]+s[t>>16&15]+s[t>>12&15]+s[t>>8&15]+s[t>>4&15]+s[15&t]+s[e>>28&15]+s[e>>24&15]+s[e>>20&15]+s[e>>16&15]+s[e>>12&15]+s[e>>8&15]+s[e>>4&15]+s[15&e]+s[n>>28&15]+s[n>>24&15]+s[n>>20&15]+s[n>>16&15]+s[n>>12&15]+s[n>>8&15]+s[n>>4&15]+s[15&n]+s[i>>28&15]+s[i>>24&15]+s[i>>20&15]+s[i>>16&15]+s[i>>12&15]+s[i>>8&15]+s[i>>4&15]+s[15&i]+s[a>>28&15]+s[a>>24&15]+s[a>>20&15]+s[a>>16&15]+s[a>>12&15]+s[a>>8&15]+s[a>>4&15]+s[15&a]+s[r>>28&15]+s[r>>24&15]+s[r>>20&15]+s[r>>16&15]+s[r>>12&15]+s[r>>8&15]+s[r>>4&15]+s[15&r]+s[o>>28&15]+s[o>>24&15]+s[o>>20&15]+s[o>>16&15]+s[o>>12&15]+s[o>>8&15]+s[o>>4&15]+s[15&o]+(s[l>>28&15]+s[l>>24&15]+s[l>>20&15]+s[l>>16&15]+s[l>>12&15]+s[l>>8&15]+s[l>>4&15]+s[15&l])}digest(){this.finalize();let t=this.h0,e=this.h1,n=this.h2,i=this.h3,a=this.h4,s=this.h5,r=this.h6,o=this.h7,l=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,a>>24&255,a>>16&255,a>>8&255,255&a,s>>24&255,s>>16&255,s>>8&255,255&s,r>>24&255,r>>16&255,r>>8&255,255&r];return l.push(o>>24&255,o>>16&255,o>>8&255,255&o),l}arrayBuffer(){this.finalize();let t=new ArrayBuffer(32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),e.setUint32(28,this.h7),t}}class p extends h{constructor(t,e=!1){let n;super(e),this.inner=void 0,this.oKeyPad=void 0;let s=typeof t;if("string"===s){let e=[],i=t.length,a=0,s;for(n=0;n<i;++n)(s=t.charCodeAt(n))<128?e[a++]=s:(s<2048?e[a++]=192|s>>6:(s<55296||s>=57344?e[a++]=224|s>>12:(s=65536+((1023&s)<<10|1023&t.charCodeAt(++n)),e[a++]=240|s>>18,e[a++]=128|s>>12&63),e[a++]=128|s>>6&63),e[a++]=128|63&s);t=e}else if("object"===s){if(null===t)throw Error(i);if(a&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!a||!ArrayBuffer.isView(t)))throw Error(i)}else throw Error(i);if(t.length>64){var r;t=null==(r=new h(!0).update(t))?void 0:r.array()}let o=[],l=[];for(n=0;n<64;++n){let e=t[n]||0;o[n]=92^e,l[n]=54^e}h.call(this,e),this.update(l),this.oKeyPad=o,this.inner=!0,this.sharedMemory=e}finalize(){if(super.finalize(),this.inner){this.inner=!1;let t=this.array();h.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(t),h.prototype.finalize.call(this)}}}let f=function(){let t=d("hex");t.create=function(){return new h},t.update=function(e){return t.create().update(e)};for(let e=0;e<u.length;++e){let n=u[e];t[n]=d(n)}return t}();async function y(t){return btoa(String.fromCharCode(...new Uint8Array(f.digest(new TextEncoder().encode(t))))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}async function v(t){return btoa(String.fromCharCode(...new Uint8Array(await crypto.subtle.digest("SHA-256",new TextEncoder().encode(t))))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}async function S(t){var e,n;return null!=(e=window.crypto)&&null!=(n=e.subtle)&&n.digest?v(t):(console.warn("Generating CodeChallenge in non-secure domain:",window.location.origin),y(t))}function m(t=16){let e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}!function(){let t=g("hex");t.create=function(t){return new p(t)},t.update=function(e,n){return t.create(e).update(n)};for(let e=0;e<u.length;++e){let n=u[e];t[n]=g(n)}}()},9836:function(t,e,n){"use strict";n.r(e),n.d(e,{ACR_VALUE:function(){return o.jT},AMR_ADDITIONAL_VALUE:function(){return o.$$},AMR_MFA_VALUE:function(){return o.yI},AcceptInvitationStep:function(){return a.Mr},ActivateAccountStep:function(){return a.M1},AdminPortalPages:function(){return a.CC},AdminPortalPagesForEvents:function(){return a.fR},AllAccountsStateKeys:function(){return a.K3},ApiStateKeys:function(){return a.GL},AuthStrategyEnum:function(){return a.lw},AuthenticationTypes:function(){return a.Xh},FRONTEGG_AFTER_AUTH_REDIRECT_URL:function(){return o._6},ForgotPasswordStep:function(){return a.M_},FronteggNativeModule:function(){return i.Z},GTMEventAction:function(){return h.C},GroupRelations:function(){return a.l7},GroupsStateKeys:function(){return a.DZ},HOSTED_LOGIN_VERIFIER_KEY:function(){return o.sR},ImpersonateStep:function(){return a.$W},LoginActionTypes:function(){return a.DY},LoginFlow:function(){return a.iP},LoginStep:function(){return a.Fh},MFAStep:function(){return a.bj},MachineToMachineAuthStrategy:function(){return a.QZ},PaymentMethodType:function(){return v.Lt},PaymentProvider:function(){return S.OH},QuickLoginStrategy:function(){return a.mK},ResetPhoneNumberStep:function(){return a.Z$},RolesStateKeys:function(){return a.XL},SHOULD_STEP_UP_KEY:function(){return o.E9},SSOStateKeys:function(){return a.p1},STEP_UP_MAX_AGE_PARAM_NAME:function(){return o.VG},SamlVendors:function(){return a.pA},SecurityCenterStateKeys:function(){return a.C5},SignUpStage:function(){return a.vb},SubscriptionCancellationPolicy:function(){return S.oY},SubscriptionStatus:function(){return S.yh},TENANT_ID_PARAM_KEY:function(){return p.Z8},TeamStateKeys:function(){return a.JT},UserVeirifedOriginTypes:function(){return a.EJ},authStrategyLoginStepMap:function(){return o.SD},base64ToFormData:function(){return c.y5},base64urlDecode:function(){return d.J},base64urlEncode:function(){return d.K},buildAuditsActions:function(){return A.$},buildAuthActions:function(){return a.Zp},buildConnectivityActions:function(){return y.Z},buildSubscriptionsActions:function(){return v.Yc},buildVendorActions:function(){return b.Z},createAuditsState:function(){return A.H},createAuthState:function(){return a.zl},createConnectivityState:function(){return f.Z},createFronteggStore:function(){return a.iv},createProxy:function(){return r.D},createRandomString:function(){return g.vV},createStore:function(){return a.MT},createSubscriptionsState:function(){return v.Gi},createVendorState:function(){return m.Z},deepClone:function(){return l.I8},deepResetState:function(){return l.BW},defaultFronteggRoutes:function(){return o.Mp},delay:function(){return l.gw},errorHandler:function(){return u.P},extractPhoneNumber:function(){return p.Un},generateCodeChallenge:function(){return g.OT},generateCodeChallengeNative:function(){return g.rC},generateCodeChallengePureJs:function(){return g.t1},getBaseNameWithoutSlashSuffix:function(){return p.$_},getEntitlements:function(){return a.HF},getFeatureEntitlements:function(){return a._j},getMfaStepForEnrolledUsers:function(){return p.v3},getMfaStepForNotEnrolledUsers:function(){return p.h_},getNumberOfMfaDevices:function(){return p.RC},getPathAndSearchParamsFromUrl:function(){return p.m0},getPermissionEntitlements:function(){return a.Ux},getRedirectUrl:function(){return p.B8},getSearchParam:function(){return p.kp},getSearchParamsFromUrl:function(){return p.s},getUri:function(){return p.fS},isAbsoluteUrl:function(){return p.sD},isAuthRoute:function(){return p.qg},isEmailPayload:function(){return p.ET},isEntitlementsDeeplyEqual:function(){return a.tI},isError:function(){return u.V},isMfaRequired:function(){return p.AS},isOauthCallbackRoute:function(){return p.s8},isProxy:function(){return l.X3},isSteppedUp:function(){return p.J},mapMetaDataObjectToActions:function(){return p.nF},omitProps:function(){return l.cZ},publicKeyCredentialToJSON:function(){return c.z2},readFileAsText:function(){return c.Xy},redirectByStepUpUrl:function(){return p.yg},reportGTMEvent:function(){return h.g},retry:function(){return l.XD},setAfterAuthRedirectUrlForStepUp:function(){return p.fd},snapshot:function(){return s.CO},subscribe:function(){return s.Ld}});var i=n(3784),a=n(2089),s=n(9181),r=n(4428),o=n(681),l=n(2401),u=n(5912),c=n(3020),d=n(1435),g=n(8686),h=n(735),p=n(6983),f=n(1016),y=n(3054),v=n(9095),S=n(2608),m=n(2425),b=n(4274),A=n(5015);/** @license Frontegg v7.13.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */},9717:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var i=n(7926),a=n(6665),s=n(2401),r=n(5912),o=n(2608),l=n(3336),u=(t,e,n)=>{let u=e=>{Object.assign(t.subscriptions.billing.information,e)},c=t=>{u({error:t,loading:!1,fetching:!1})},d=async(a,s)=>{u({loading:!0});try{var d,g;let r;let c=await e.subscriptions.getSubscriptionSummaries(a),{currentPlanId:h,externallyManaged:p}=c,f=null;p?r=await e.subscriptions.getSubscriptionPlan(h):([,r]=await Promise.all([n.loadSubscription(),e.subscriptions.getSubscriptionPlan(h)]),f=t.subscriptions.billing.subscription.subscription||null),u((0,i.Z)({loading:!1,fetching:!1,summary:c},f?{subscription:{id:f.id,externalId:f.externalId,startDate:f.startDate,currentPeriodStart:f.currentPeriodStart,currentPeriodEnd:f.currentPeriodEnd,status:s?o.yh.ACTIVE:function(t){switch(t){case l.in.ACTIVE:return o.yh.ACTIVE;case l.in.INCOMPLETE:return o.yh.INCOMPLETE;case l.in.CANCELED:return o.yh.CANCELED;case l.in.EXPIRED:return o.yh.EXPIRED;case l.in.TRIALING:return o.yh.TRIALING;default:return o.yh.EXPIRED}}(f.status),cancellation:f.cancellation&&function({policy:t}){return{policy:o.oY.AT_PERIOD_END}}(f.cancellation),trialEnd:f.trialEnd?f.trialEnd:null}}:{},r?{plan:{id:r.id,name:r.name,description:r.description,price:(null==(d=r.price)?void 0:d.amount)||0,currency:(null==(g=r.price)?void 0:g.currency)||"usd",recurringInterval:"month",slug:r.slug}}:{}))}catch(t){c((0,r.P)(t))}},g=async e=>{var n,i;let a=null==(n=t.subscriptions.config.config)?void 0:n.paymentProvider,s=null==(i=t.auth.user)?void 0:i.tenantId;if(!a||!s){c(a?"Not authorized":"Internal feature failure");return}await d(s,e)};return{setBillingInformationState:u,resetBillingInformationState:()=>{(0,s.BW)(t,["subscriptions","billing","information"],a.E)},loadSummaries:d,loadBillingInformation:g}}},6665:function(t,e,n){"use strict";n.d(e,{E:function(){return a}});var i=n(4428);let a={loading:!1,error:null,fetching:!0};e.Z=t=>(0,i.D)(a,t)},6454:function(t,e,n){"use strict";var i=n(5154),a=n(2401),s=n(5912);e.Z=(t,e,n)=>{let r=e=>{Object.assign(t.subscriptions.billing.invoices,e)},o=t=>{r({error:t,loading:!1,fetching:!1})},l=e=>{Object.assign(t.subscriptions.billing.invoices.invoiceDownload,e)},u=async()=>{r({loading:!0});try{let t=(await e.subscriptions.getSubscriptionInvoices()).map(t=>({id:t.id,externalId:t.externalId,subscriptionId:t.subscriptionId,paymentDate:new Date(Date.parse(t.paymentDate)),totalAmount:+((t.totalAmount||0)/100).toFixed(2),currency:t.currency||"usd",paid:t.paid||!1,receiptNumber:t.receiptNumber}));r({loading:!1,fetching:!1,invoices:t})}catch(t){o((0,s.P)(t))}},c=async t=>{l({loading:!0,error:null});try{await e.subscriptions.getSubscriptionInvoicePdf(t.invoiceId,t.filename),l({loading:!1,error:null})}catch(t){l({loading:!1,error:(0,s.P)(t,null)})}};return{setBillingInvoiceState:r,resetBillingInvoiceState:()=>{(0,a.BW)(t,["subscriptions","billing","invoices"],i.E)},loadInvoices:u,loadBillingInvoices:u,downloadInvoice:c,downloadBillingInvoice:c}}},5154:function(t,e,n){"use strict";n.d(e,{E:function(){return a}});var i=n(4428);let a={loading:!1,error:null,fetching:!0,invoices:[],invoiceDownload:{loading:!1,error:null}};e.Z=t=>(0,i.D)(a,t)},1082:function(t,e,n){"use strict";var i=n(7926),a=n(2401),s=n(5912),r=n(9905);e.Z=(t,e,n)=>{let o=e=>{Object.assign(t.subscriptions.billing.paymentMethod,e)},l=t=>{o({loading:t})},u=t=>{o({error:t,loading:!1,fetching:!1})},c=async()=>{l(!0);try{let t=(await e.subscriptions.getPaymentMethods())[0];o({paymentMethod:t,loading:!1,fetching:!1})}catch(t){u((0,s.P)(t))}},d=async t=>{l(!0);let{id:n,email:a,address:r,callback:o}=t;try{await e.subscriptions.updatePaymentMethodBillingDetails(n,(0,i.Z)({email:a},r)),await c(),null==o||o(!0)}catch(t){u((0,s.P)(t)),null==o||o(!1,t)}finally{l(!1)}},g=async()=>await c();return{setBillingPaymentMethodState:o,resetBillingPaymentMethodState:()=>{(0,a.BW)(t,["subscriptions","billing","paymentMethod"],r.E)},loadPaymentMethod:c,submitPaymentMethod:async()=>{l(!0)},submitPaymentMethodError:async t=>{u(t)},submitPaymentMethodSuccess:g,updatePaymentMethodBillingDetails:d}}},9905:function(t,e,n){"use strict";n.d(e,{E:function(){return a}});var i=n(4428);let a={loading:!1,error:null,fetching:!0};e.Z=t=>(0,i.D)(a,t)},3811:function(t,e,n){"use strict";var i=n(6997),a=n(2401),s=n(5912),r=n(3336);e.Z=(t,e,n)=>{let o=e=>{Object.assign(t.subscriptions.billing.subscription,e)},l=t=>{o({error:t,loading:!1,fetching:!1})},u=t=>{o({loading:t})},c=e=>{Object.assign(t.subscriptions.billing.subscription.cancellation,{loading:e})},d=e=>{Object.assign(t.subscriptions.billing.subscription.cancellation,{error:e})},g=e=>{Object.assign(t.subscriptions.billing.subscription.renewal,{loading:e})},h=e=>{Object.assign(t.subscriptions.billing.subscription.renewal,{error:e})},p=async()=>{u(!0);try{let[t]=await e.subscriptions.getManagedSubscriptions();o({subscription:t,fetching:!1,loading:!1,error:null})}catch(t){l((0,s.P)(t))}},f=async()=>{let{subscription:n}=t.subscriptions.billing.subscription;if(!n){d("Subscription not found.");return}if(null!=n&&n.externallyManaged){d("Billing is externally managed.");return}let{id:i,cancellation:a,status:o}=n||{};if(!a&&o===r.in.ACTIVE)try{c(!0),await e.subscriptions.cancelManagedSubscription(i),await p(),c(!1)}catch(t){d((0,s.P)(t))}},y=async()=>{let{subscription:n}=t.subscriptions.billing.subscription;if(!n){h("Subscription not found.");return}if(null!=n&&n.externallyManaged){h("Billing is externally managed");return}let{id:i,cancellation:a}=n||{};if((null==a?void 0:a.policy)===r.XO.AT_PERIOD_END)try{g(!0),await e.subscriptions.renewManagedSubscription(i),await p(),g(!1)}catch(t){h((0,s.P)(t))}};return{setBillingSubscriptionState:o,resetBillingSubscriptionState:()=>{(0,a.BW)(t,["subscriptions","billing","subscription"],i.E)},setCancellationLoading:c,setCancellationError:d,setRenewalLoading:g,setRenewalError:h,loadSubscription:p,loadSubscriptionTenant:async()=>{var e;let i=null==(e=t.auth.user)?void 0:e.tenantId;if(!i){l("TenantId is not defined");return}await n.loadSummaries(i)},cancelSubscription:f,renewSubscription:y}}},6997:function(t,e,n){"use strict";n.d(e,{E:function(){return a}});var i=n(4428);let a={loading:!1,error:null,fetching:!0,cancellation:{loading:!1,error:null},renewal:{loading:!1,error:null}};e.Z=t=>(0,i.D)(a,t)},1239:function(t,e,n){"use strict";var i=n(7926),a=n(2401),s=n(5912),r=n(6531),o=n(3336);e.Z=(t,e,n)=>{let l=e=>{Object.assign(t.subscriptions.checkout,e)},u=async a=>{let{paymentMethodId:r,planId:u}=a,c=t.subscriptions.billing.subscription.subscription,d=t.subscriptions.billing.information.summary,g=(null==c?void 0:c.status)===o.in.TRIALING,h=!!(null!=d&&d.paymentMethodId);if(!c){l({loading:!1,error:"Subscription not found"});return}if(l({loading:!0,error:null}),g&&h){l({loading:!1,error:null,confirmed:!0}),n.setBillingSubscriptionState({subscription:(0,i.Z)({},c,{status:o.in.ACTIVE})});return}try{await e.subscriptions.updateManagedSubscription(c.id,{paymentMethodId:r,planId:u}),await Promise.all([n.loadBillingInformation(),n.loadPaymentMethod(),n.loadInvoices()]),l({loading:!1,error:null,confirmed:!0})}catch(t){l({loading:!1,error:(0,s.P)(t)})}};return{setCheckoutState:l,resetCheckoutState:()=>{(0,a.BW)(t,["subscriptions","checkout"],r.E)},loadCheckout:()=>{l({fetching:!1,loading:!1,error:null,confirmed:!1})},resetCheckout:()=>{l({loading:!1,error:null,confirmed:!1})},submitCheckout:()=>{l({loading:!0,error:null})},confirmCheckout:u,errorCheckout:t=>{l({loading:!1,error:t})}}}},6531:function(t,e,n){"use strict";n.d(e,{E:function(){return a}});var i=n(4428);let a={fetching:!0,loading:!1,error:null,confirmed:!1};e.Z=t=>(0,i.D)(a,t)},7672:function(t,e,n){"use strict";var i=n(2401),a=n(5912),s=n(8504),r=n(3336),o=n(2608);e.Z=(t,e,n)=>{let l=e=>{Object.assign(t.subscriptions.config,e)},u=e=>{Object.assign(t.subscriptions.config,{error:e,loading:!1,fetching:!1})},c=async()=>{l({loading:!0});try{let t=await e.subscriptions.getStripePaymentProviderConfiguration(),n={paymentProvider:o.OH.STRIPE,apiKey:t.publishableKey};l({config:n}),l({loading:!1,fetching:!1})}catch(t){u((0,a.P)(t))}},d=async()=>{l({loading:!0});try{var t;(null!=(t=await e.subscriptions.getPaymentProviders())?t:[]).find(t=>"1"===t.status&&t.providerType===r.lP.Stripe)?await c():u((0,a.P)("Payment provider not configured"))}catch(t){u((0,a.P)(t))}};return{setPaymentConfigState:l,resetPaymentConfigState:()=>{(0,i.BW)(t,["subscriptions","config"],s.E)},loadPaymentConfiguration:d}}},8504:function(t,e,n){"use strict";n.d(e,{E:function(){return a}});var i=n(4428);let a={loading:!1,error:null,fetching:!0,config:null};e.Z=t=>(0,i.D)(a,t)},5586:function(t,e,n){"use strict";var i=n(2401),a=n(5912),s=n(6329);e.Z=(t,e,n)=>{let r=e=>{Object.assign(t.subscriptions.plans,e)},o=t=>{r({loading:!1,fetching:!1,error:t})},l=async()=>{r({loading:!0});try{let t=(await e.subscriptions.getSubscriptionPlans()).map(t=>{var e,n;return{id:t.id,name:t.name,description:t.description,price:(null==(e=t.price)?void 0:e.amount)||0,currency:(null==(n=t.price)?void 0:n.currency)||"usd",recurringInterval:"month",slug:t.slug}});r({fetching:!1,loading:!1,plans:t})}catch(t){o((0,a.P)(t))}};return{setPlansState:r,resetPlansState:()=>{(0,i.BW)(t,["subscriptions","plans"],s.E)},loadPlans:l}}},6329:function(t,e,n){"use strict";n.d(e,{E:function(){return a}});var i=n(4428);let a={loading:!1,error:null,fetching:!0,plans:[]};e.Z=t=>(0,i.D)(a,t)},9757:function(t,e,n){"use strict";var i=n(7),a=n(2401),s=n(5912);e.Z=(t,e,n)=>{let r=e=>{Object.assign(t.subscriptions.stripe,e)},o=e=>{Object.assign(t.subscriptions.stripe,{error:e,loading:!1,fetching:!1})};return{createCardSetupIntentSecret:async t=>{r({loading:!0,error:null,cardSetupIntentSecret:null});try{let n={};t&&(n.paymentMethodId=t);let{setupIntentSecret:i}=await e.subscriptions.createStripePaymentMethodSetupIntentSecret(n);r({cardSetupIntentSecret:i,loading:!1})}catch(t){o((0,s.P)(t))}},setStripeState:r,resetStripeState:()=>{(0,a.BW)(t,["subscriptions","stripe"],i.E)}}}},7:function(t,e,n){"use strict";n.d(e,{E:function(){return a}});var i=n(4428);let a={loading:!1,error:null,cardSetupIntentSecret:null};e.Z=t=>(0,i.D)(a,t)},2253:function(t,e,n){"use strict";var i=n(4962),a=n(2401),s=n(5912);e.Z=(t,e,n)=>{let r=e=>{Object.assign(t.subscriptions.vendorPublicConfig,e)},o=e=>{Object.assign(t.subscriptions.vendorPublicConfig,{error:e,loading:!1,fetching:!1})},l=e=>{Object.assign(t.subscriptions.vendorPublicConfig,{error:null,loading:e})},u=async()=>{l(!0);try{let t=await e.subscriptions.getVendorPublicConfigurations();r({fetching:!1,loading:!1,vendorPublicConfig:t})}catch(t){o((0,s.P)(t))}};return{setVendorPublicConfigState:r,resetVendorPublicConfigState:()=>{(0,a.BW)(t,["subscriptions","vendorPublicConfig"],i.E)},setVendorPublicConfigError:o,setVendorPublicConfigLoading:l,loadVendorPublicConfiguration:u}}},4962:function(t,e,n){"use strict";n.d(e,{E:function(){return a}});var i=n(4428);let a={loading:!1,fetching:!0,vendorPublicConfig:null};e.Z=t=>(0,i.D)(a,t)},9095:function(t,e,n){"use strict";let i;n.d(e,{Lt:function(){return i},Yc:function(){return I},Gi:function(){return _}});var a,s=n(7926);(a=i||(i={})).UNKNWON="unknown",a.CARD="card";var r=n(8504),o=n(7672),l=n(6665),u=n(9717),c=n(5154),d=n(6454),g=n(9905),h=n(1082),p=n(6997),f=n(3811),y=n(4428);let v=t=>(0,y.D)({information:(0,l.Z)(null==t?void 0:t.information),invoices:(0,c.Z)(null==t?void 0:t.invoices),paymentMethod:(0,g.Z)(null==t?void 0:t.paymentMethod),subscription:(0,p.Z)(null==t?void 0:t.subscription)}),S=(t,e,n)=>{let i=(0,u.Z)(t,e,n),a=(0,h.Z)(t,e,n),r=(0,d.Z)(t,e,n),o=(0,f.Z)(t,e,n);return[(0,s.Z)({},i,a,r,o),{information:i,invoices:r,paymentMethod:a,subscription:o}]};var m=n(6329),b=n(5586),A=n(6531),w=n(1239),T=n(7),P=n(9757),E=n(4962),O=n(2253);let _=t=>(0,y.D)({config:(0,r.Z)(null==t?void 0:t.config),billing:v(null==t?void 0:t.billing),plans:(0,m.Z)(null==t?void 0:t.plans),checkout:(0,A.Z)(null==t?void 0:t.checkout),stripe:(0,T.Z)(null==t?void 0:t.stripe),vendorPublicConfig:(0,E.Z)(null==t?void 0:t.vendorPublicConfig)}),I=(t,e,n)=>{let i=(0,o.Z)(t,e,n),[a,r]=S(t,e,n),l=(0,b.Z)(t,e,n),u=(0,w.Z)(t,e,n),c=(0,P.Z)(t,e,n),d=(0,O.Z)(t,e,n);return[(0,s.Z)({},i,a,l,u,c,d),{config:i,billing:r,plans:l,checkout:u,stripe:c,vendorPublicConfig:d}]}},2608:function(t,e,n){"use strict";var i;let a,s,r;n.d(e,{OH:function(){return a},oY:function(){return r},yh:function(){return s}}),(a||(a={})).STRIPE="Stripe",(i=s||(s={})).ACTIVE="ACTIVE",i.CANCELED="CANCELED",i.INCOMPLETE="INCOMPLETE",i.EXPIRED="EXPIRED",i.TRIALING="TRIALING",(r||(r={})).AT_PERIOD_END="atPeriodEnd"},3784:function(t,e){"use strict";class n{constructor(){this.loginWithSSO=t=>{var e,n,i,a;if(this.isWebkitAvailable())null==(e=window.webkit)||null==(n=e.messageHandlers)||null==(i=n.FronteggNativeBridge)||i.postMessage(JSON.stringify({action:"loginWithSSO",payload:t}));else if(this.isJsInterfaceAvailable())null==(a=window.FronteggNativeBridge)||a.loginWithSSO(t);else throw Error("FronteggNativeBridge is not available")},this.loginWithSocialLogin=t=>{var e,n,i,a;if(this.isWebkitAvailable())null==(e=window.webkit)||null==(n=e.messageHandlers)||null==(i=n.FronteggNativeBridge)||i.postMessage(JSON.stringify({action:"loginWithSocialLogin",payload:t}));else if(this.isJsInterfaceAvailable())null==(a=window.FronteggNativeBridge)||a.loginWithSocialLogin(t);else throw Error("FronteggNativeBridge is not available")},this.promptSocialLoginConsent=()=>{var t,e;return null!=(t=null==(e=window.FronteggNativeBridgeFunctions)?void 0:e.shouldPromptSocialLoginConsent)&&t}}isWebkitAvailable(){var t,e;return(null==(t=window.webkit)?void 0:null==(e=t.messageHandlers)?void 0:e.FronteggNativeBridge)!=null}isJsInterfaceAvailable(){return null!=window.FronteggNativeBridge}isSocialLoginAvailable(){return this.isAvailable("loginWithSocialLogin")}isLoginWithSSOAvailable(){return this.isAvailable("loginWithSSO")}isAvailable(t){if(this.isWebkitAvailable()||this.isJsInterfaceAvailable()){var e,n;return null!=(e=null==(n=window.FronteggNativeBridgeFunctions)?void 0:n[t])&&e}return!1}}e.Z=new n},4428:function(t,e,n){"use strict";n.d(e,{D:function(){return o}});var i=n(7926),a=n(9181),s=n(127),r=n.n(s);let o=(t,e)=>{let n=r()(t,(0,i.Z)({},e));return(0,a.sj)((0,i.Z)({__isProxy:!0},n))}},2089:function(t,e,n){"use strict";let i,a,s,r,o,l,u,c,d,g,h,p,f,y,v,S,m,b;n.d(e,{Mr:function(){return i},M1:function(){return a},CC:function(){return X},fR:function(){return b},K3:function(){return c},GL:function(){return s},lw:function(){return q.lw},Xh:function(){return m},M_:function(){return r},l7:function(){return l},DZ:function(){return o},$W:function(){return u},DY:function(){return q.DY},iP:function(){return q.iP},Fh:function(){return q.Fh},bj:function(){return Y.b},QZ:function(){return z.QZ},mK:function(){return q.mK},Z$:function(){return d},XL:function(){return g},p1:function(){return f},pA:function(){return y},C5:function(){return h},vb:function(){return p},JT:function(){return v},EJ:function(){return S},Zp:function(){return iZ},zl:function(){return iF},iv:function(){return s9},MT:function(){return s7},HF:function(){return J.HF},_j:function(){return J._j},Ux:function(){return J.Ux},tI:function(){return J.tI}});var A,w,T,P,E,O,_,I,D,L,k,R,U,C,N,M,j,F,Z,$=n(7926),x=n(9468),G=n(9181);let B=["enabled","name"],V=Symbol();var W=n(4592),H=n(2710),K=n(5909);(A=i||(i={})).validate="validate",A.invalid="invalid",A.pending="pending",A.success="success",A.failed="failed",(w=a||(a={})).activating="activating",w.success="success",w.resend="resend",w.activatingForm="activatingForm";var z=n(8994);(T=s||(s={})).LOAD_API_TOKENS="LOAD_API_TOKENS",T.ADD_API_TOKEN="ADD_API_TOKEN",T.DELETE_API_TOKEN="DELETE_API_TOKEN";var J=n(2581);(P=r||(r={})).forgotPassword="forgotPassword",P.success="success",(E=o||(o={})).CREATE_GROUP="CREATE_GROUP",E.GET_GROUP="GET_GROUP",E.GET_GROUPS="GET_GROUPS",E.DELETE_GROUP="DELETE_GROUP",E.UPDATE_GROUP="UPDATE_GROUP",E.ADD_USERS_TO_GROUP="ADD_USERS_TO_GROUP",E.DELETE_USERS_FROM_GROUP="DELETE_USERS_FROM_GROUP",E.ADD_ROLES_TO_GROUP="ADD_ROLES_TO_GROUP",E.DELETE_ROLES_FROM_GROUP="DELETE_ROLES_FROM_GROUP",E.GET_GROUP_CONFIGURATION="GET_GROUP_CONFIGURATION",E.UPDATE_GROUP_CONFIGURATION="UPDATE_GROUP_CONFIGURATION",E.GET_TEAM_USERS="GET_TEAM_USERS",(O=l||(l={})).roles="roles",O.users="users",O.rolesAndUsers="rolesAndUsers",(_=u||(u={})).impersonating="impersonating",_.success="success";var q=n(132),Y=n(6367);(I=c||(c={})).GET_ACCOUNTS="GET_ACCOUNTS",I.SEARCH_ACCOUNTS="SEARCH_ACCOUNTS",I.SET_ROOT_ACCOUNT_DATA="SET_ROOT_ACCOUNT_DATA",I.SET_SELECTED_SUB_ACCOUNT_DATA="SET_SELECTED_SUB_ACCOUNT_DATA",I.LOAD_NUMBER_OF_USERS_FOR_ACCOUNT="LOAD_NUMBER_OF_USERS_FOR_ACCOUNT",I.UPDATE_SUB_ACCOUNT_ACCESS_FOR_USER="UPDATE_SUB_ACCOUNT_ACCESS_FOR_USER",I.CREATE_SUB_ACCOUNT="CREATE_SUB_ACCOUNT",I.UPDATE_SUB_ACCOUNT="UPDATE_SUB_ACCOUNT",I.DELETE_SUB_ACCOUNT="DELETE_SUB_ACCOUNT",I.GET_ACCOUNT_USERS="GET_ACCOUNT_USERS",I.ADD_USERS_TO_ACCOUNT="ADD_USERS_TO_ACCOUNT",I.DELETE_USERS_FROM_ACCOUNT="DELETE_USERS_FROM_ACCOUNT",I.SET_USER_ROLES_FOR_SUB_ACCOUNT="SET_USER_ROLES_FOR_SUB_ACCOUNT",I.UPDATE_SUB_ACCOUNT_SETTINGS="UPDATE_SUB_ACCOUNT_SETTINGS",I.UPDATE_SUB_ACCOUNT_MANAGEMENT="UPDATE_SUB_ACCOUNT_MANAGEMENT",I.UPDATE_SUB_ACCOUNT_HIERARCHY_SETTINGS="UPDATE_SUB_ACCOUNT_HIERARCHY_SETTINGS",I.GET_USER_JWT="GET_USER_JWT",I.GET_TEAM_USERS="GET_TEAM_USERS",(D=d||(d={})).ResetPhoneNumber="ResetPhoneNumber",D.VerifyResetPhoneNumber="VerifyResetPhoneNumber",D.ChangePhoneNumber="ChangePhoneNumber",(L=g||(g={})).EDIT_ROLE_DIALOG="editRoleDialog",L.DELETE_ROLE_DIALOG="deleteRoleDialog",L.LOAD_ROLES="loadRoles",L.ADD_ROLE="addRole",L.MANAGE_PERMISSIONS="managePermissions",(k=h||(h={})).RECOMMENDATIONS="recommendations",k.INSIGHTS="insights",k.SEND_BULK_RESET_BREACHED_PASSWORD_EMAILS="sendBulkResetBreachedPasswordEmails",k.SEND_BREACHED_PASSWORD_EMAIL="sendBreachedPasswordEmail",k.BREACHED_PASSWORD_USERS_TABLE="breachedPasswordUsersTable",k.UNENROLLED_MFA_USERS_TABLE="unenrolledMfaUsersTable",k.INACTIVE_USERS_TABLE="inactiveUsersTable",(R=p||(p={})).SignUp="SignUp",R.SignUpSuccess="SignUpSuccess",(U=f||(f={})).LOAD_SSO_CONFIGURATIONS="LOAD_SSO_CONFIGURATIONS",U.SAVE_SSO_CONFIGURATION="SAVE_SSO_CONFIGURATION",U.UPDATE_SSO_CONFIGURATION="UPDATE_SSO_CONFIGURATION",U.SAVE_SSO_CONFIGURATION_BY_METADATA="SAVE_SSO_CONFIGURATION_BY_METADATA",U.UPDATE_SSO_CONFIGURATION_BY_METADATA="UPDATE_SSO_CONFIGURATION",U.DELETE_SSO_CONFIGURATION="DELETE_SSO_CONFIGURATION",U.SAVE_SSO_DOMAIN="SAVE_SSO_DOMAIN",U.DELETE_SSO_DOMAIN="DELETE_SSO_DOMAIN",U.VALIDATE_SSO_DOMAIN="VALIDATE_SSO_DOMAIN",U.UPDATE_SSO_DEFAULT_ROLES="UPDATE_SSO_DEFAULT_ROLES",U.DELETE_SSO_GROUPS="DELETE_SSO_GROUPS",U.SAVE_SSO_GROUPS="SAVE_SSO_GROUPS",U.GET_SSO_AUTHORIZATION_ROLES="GET_SSO_AUTHORIZATION_ROLES",(C=y||(y={})).Saml="saml",C.Okta="okta",C.Azure="azure",C.Google="google",C.Oidc="oidc",(N=v||(v={})).USERS="USERS",N.STATS="STATS",N.UPDATE_USER="UPDATE_USER",N.DELETE_USER="DELETE_USER",N.RESEND_ACTIVATE_LINK="RESEND_ACTIVATE_LINK",N.RESEND_INVITATION_LINK="RESEND_INVITATION_LINK",N.ROLES_AND_PERMISSIONS="ROLES_AND_PERMISSIONS",N.CREATE_TOKEN_LINK="CREATE_TOKEN_LINK",N.GET_TOKEN_LINK="GET_TOKEN_LINK",N.UPDATE_TOKEN_LINK="UPDATE_TOKEN_LINK",N.DELETE_TOKEN_LINK="DELETE_TOKEN_LINK",N.CONFIG_TOKEN_LINK="CONFIG_TOKEN_LINK",N.CONFIG_TEMPORARY_USERS="CONFIG_TEMPORARY_USERS",N.UPDATE_USER_EXPIRATION_TIME="UPDATE_USER_EXPIRATION_TIME",(M=S||(S={})).SOCIAL_LOGIN="SOCIAL_LOGIN",M.PASSWORDLESS="PASSWORDLESS",M.ACTIVATION_LINK="ACTIVATION_LINK",(j=m||(m={})).SOCIAL_LOGIN="SOCIAL_LOGIN",j.PASSWORD="PASSWORD",(F=b||(b={})).profile="profile",F.privacy="privacy",F.personalApiTokens="personalApiTokens",F.account="account",F.users="users",F.groups="groups",F.security="security",F.sso="sso",F.audits="audits",F.webhooks="webhooks",F.apiTokens="apiTokens",F.roles="roles",F.subscriptions="subscription",F.allAccounts="allAccounts";let X={profile:b.profile,privacy:b.privacy,personalApiTokens:b.personalApiTokens,account:b.account,users:b.users,groups:b.groups,security:b.security,sso:b.sso,audits:b.audits,webhooks:b.webhooks,apiTokens:b.apiTokens,roles:b.roles,subscriptions:b.subscriptions,allAccounts:b.allAccounts};var Q=n(4428);let tt={step:i.validate};var te=t=>(0,Q.D)(tt,t),tn=n(2401),ti=n(5912),ta=(t,e,n)=>{let a=e=>{Object.assign(t.auth.acceptInvitationState,e)},s=async t=>{if(!t.token||!t.userId){a({error:void 0,step:i.invalid});return}try{a({error:void 0,step:i.pending}),await e.auth.acceptInvitation(t),a({step:i.success})}catch(t){a({step:i.failed,error:(0,ti.P)(t)})}};return{setAcceptInvitationState:a,resetAcceptInvitationState:()=>{(0,tn.BW)(t,["auth","acceptInvitationState"],tt)},acceptInvitation:s}};let ts={loading:!1};var tr=t=>(0,Q.D)(ts,t);let to=["activeTenant","tenants"];var tl=(t,e,n)=>{let i=e=>{Object.assign(t.auth.accountSettingsState,e)},a=({newSettingValues:e})=>{let i=t.auth.tenantsState,{activeTenant:a,tenants:s}=i,r=(0,x.Z)(i,to),o=s.map(t=>t.id!==(null==a?void 0:a.id)?t:(0,$.Z)({},t,e)),l=(0,$.Z)({},a,e);n.setTenantsState((0,$.Z)({},r,{tenants:o,activeTenant:l}))},s=async n=>{var s,r;try{i({loading:!0});let{address:r,timezone:o,dateFormat:l,timeFormat:u,currency:c,logo:d}=t.auth.accountSettingsState,g=await e.accountSettings.updateSettings((0,$.Z)({address:r,timezone:o,dateFormat:l,timeFormat:u,currency:c,logo:d},n));a({newSettingValues:g}),i((0,$.Z)({},g,{loading:!1})),null==(s=n.callback)||s.call(n,g)}catch(t){i({loading:!1,error:(0,ti.P)(t)}),null==(r=n.callback)||r.call(n,null,t)}},r=async t=>{i({loading:!(null!=t&&t.silentLoading),error:null});try{let t=await e.accountSettings.getSettings();i((0,$.Z)({},t,{loading:!1}))}catch(t){i({loading:!1,error:(0,ti.P)(t)})}};return{setAccountSettingsState:i,resetAccountSettingsState:()=>{(0,tn.BW)(t,["auth","accountSettingsState"],ts)},saveAccountSettings:s,loadAccountSettings:r}};let tu={step:a.activating,loading:!1,resentEmail:!1,activationStrategy:{loading:!1}};var tc=t=>(0,Q.D)(tu,t),td=n(735),tg=n(6983);let th=["callback","events"],tp=["user"],tf=["callback"],ty=["callback"];var tv=(t,e,n)=>{let i=e=>{Object.assign(t.auth.activateAccountState,e)},s=()=>{(0,tn.BW)(t,["auth","activateAccountState"],tu)},r=e=>{Object.assign(t.auth.activateAccountState.activationStrategy,e)},o=async s=>{let{userId:o,token:l}=s;i({loading:!0,step:a.activating});try{t.auth.isAuthenticated&&await n.silentLogout();let s=await e.auth.getActivateAccountStrategy({userId:o,token:l});r({strategy:s,loading:!1,error:void 0}),s.shouldSetPassword&&i({loading:!1,step:a.activatingForm})}catch(t){i({loading:!1,error:(0,ti.P)(t)})}},l=async r=>{let{callback:o,events:l}=r,u=(0,x.Z)(r,th);i({loading:!0});try{let r=W.a.for(t.root.appName).onRedirectTo,d=t.auth.routes,g=await e.auth.activateAccountV2(u),{user:h}=g,p=(0,x.Z)(g,tp);if(h.redirectLocation){window.location.href=h.redirectLocation;return}if((0,tg.AS)(h,t.root.appName)){i({step:a.success});let t=await n.getMfaRequiredState(h);n.setAuthState(t),await (0,tn.gw)(1e3),r(d.loginUrl,{preserveQueryParams:!0})}else{var c;i({step:a.success});let t={email:h.email,origin:S.ACTIVATION_LINK,id:h.id,tenantId:h.tenantId,name:h.name,createdAt:new Date};null==l||null==(c=l.userVerified)||c.call(l,t),(0,td.g)(td.C.USER_VERIFIED,t),await n.afterAuthenticationStateUpdate((0,$.Z)({user:h},p),{isAuthenticated:!0}),await (0,tn.gw)(1e3),await n.afterAuthNavigation(),s()}null==o||o(!0)}catch(t){i({loading:!1,error:(0,ti.P)(t)})}},u=async t=>{let{callback:n}=t,i=(0,x.Z)(t,tf);r({loading:!0});try{let t=await e.auth.getActivateAccountStrategy(i);r({strategy:t,loading:!1,error:void 0}),null==n||n(t)}catch(t){r({loading:!1,error:(0,ti.P)(t)})}},c=async t=>{let{callback:a}=t,s=(0,x.Z)(t,ty);n.setTeamLoader({key:v.RESEND_ACTIVATE_LINK,value:s.email}),i({loading:!0});try{await e.auth.resendActivationEmail(s),i({loading:!1,error:void 0,resentEmail:!0}),null==a||a(!0)}catch(t){i({loading:!1,error:(0,ti.P)(t)}),null==a||a(null,t)}finally{n.setTeamLoader({key:v.RESEND_ACTIVATE_LINK,value:!1})}};return{setActivateState:i,resetActivateState:s,setActivateStrategyState:r,activateAccount:l,preActivateAccount:o,getActivateAccountStrategy:u,resendActivationEmail:c}};let tS={loading:!1,error:void 0,unlockAccountSuccess:!1};var tm=t=>(0,Q.D)(tS,t),tb=(t,e,n)=>{let i=e=>{Object.assign(t.auth.unlockAccountState,e)},a=async n=>{let{token:a}=n,s=W.a.for(t.root.appName).onRedirectTo,r=t.auth.routes;i({loading:!0});try{await e.users.unlockMe({token:a}),i({loading:!1,error:void 0,unlockAccountSuccess:!0}),await (0,tn.gw)(1e3),s(r.loginUrl)}catch(t){i({loading:!1,error:(0,ti.P)(t)})}};return{setUnlockAccountState:i,resetUnlockAccountState:()=>{(0,tn.BW)(t,["auth","activateAccountState"],tS)},unlockAccount:a}};let tA={apiTokenType:null,searchValue:"",showAddTokenDialog:!1,createdByUserIdColumn:"show",deleteTokenDialog:{open:!1,clientId:""},successDialog:{open:!1,secret:"",clientId:""},loaders:{},apiTokensDataTenant:[],apiTokensDataUser:[],roles:[],permissions:[],errors:{}};var tw=t=>(0,Q.D)(tA,t),tT=(t,e,n)=>{let i=e=>{Object.assign(t.auth.apiTokensState,{loaders:(0,$.Z)({},t.auth.apiTokensState.loaders,{[e.key]:e.value})})},a=e=>{Object.assign(t.auth.apiTokensState,{errors:(0,$.Z)({},t.auth.apiTokensState.errors,{[e.key]:e.value}),loaders:(0,$.Z)({},t.auth.apiTokensState.loaders,{[e.key]:!1})})},r=e=>{Object.assign(t.auth.apiTokensState,e)},o=async t=>{var n,o;null!=t&&t.silentLoading||i({key:s.LOAD_API_TOKENS,value:!0});try{let[a=[],o=[]]=await Promise.all([e.auth.getUserApiTokensData(),e.auth.getTenantApiTokensData()]);r({apiTokensDataUser:a,apiTokensDataTenant:o}),i({key:s.LOAD_API_TOKENS,value:!1}),null==t||null==(n=t.callback)||n.call(t,!0)}catch(e){a({key:s.LOAD_API_TOKENS,value:(0,ti.P)(e)}),i({key:s.LOAD_API_TOKENS,value:!1}),null==t||null==(o=t.callback)||o.call(t,null,e)}},l=async t=>{var n,o,l;null!=t&&t.silentLoading||i({key:s.LOAD_API_TOKENS,value:!0});try{let[a=[],l]=await Promise.all([e.auth.getUserApiTokensData(),e.auth.getUserAccessTokensData()]),u=(null!=(n=l.accessTokens)?n:[]).map(t=>(0,$.Z)({},t,{type:z.QZ.AccessToken})).concat(a.map(t=>(0,$.Z)({},t,{type:z.QZ.ClientCredentials}))).sort((t,e)=>new Date(e.createdAt)-new Date(t.createdAt));r({apiTokensDataUser:null!=u?u:[]}),i({key:s.LOAD_API_TOKENS,value:!1}),null==t||null==(o=t.callback)||o.call(t,!0)}catch(e){a({key:s.LOAD_API_TOKENS,value:(0,ti.P)(e)}),i({key:s.LOAD_API_TOKENS,value:!1}),null==t||null==(l=t.callback)||l.call(t,null,e)}},u=async t=>{var n,o,l;null!=t&&t.silentLoading||i({key:s.LOAD_API_TOKENS,value:!0});try{let[a=[],l]=await Promise.all([e.auth.getTenantApiTokensData(),e.auth.getTenantAccessTokensData()]),u=(null!=(n=null==l?void 0:l.accessTokens)?n:[]).map(t=>(0,$.Z)({},t,{type:z.QZ.AccessToken})).concat(a.map(t=>(0,$.Z)({},t,{type:z.QZ.ClientCredentials}))).sort((t,e)=>new Date(e.createdAt)-new Date(t.createdAt));r({apiTokensDataTenant:null!=u?u:[]}),i({key:s.LOAD_API_TOKENS,value:!1}),null==t||null==(o=t.callback)||o.call(t,!0)}catch(e){a({key:s.LOAD_API_TOKENS,value:(0,ti.P)(e)}),i({key:s.LOAD_API_TOKENS,value:!1}),null==t||null==(l=t.callback)||l.call(t,null,e)}},c=async n=>{let{description:o,roleIds:l,expires:u,callback:c}=n,d=s.ADD_API_TOKEN;i({key:d,value:!0});try{let n;let{policy:i}=t.auth.securityPolicyState.publicPolicy,a=(null==i?void 0:i.machineToMachineAuthStrategy)===z.QZ.AccessToken,s=null;u&&(s=1440*u),n=a?await e.auth.createTenantAccessToken({description:o,expiresInMinutes:s,roleIds:l}):await e.auth.updateTenantApiTokensData({description:o,roleIds:l,expiresInMinutes:s}),r({showAddTokenDialog:!1}),await (0,tn.gw)(200);let d=a?z.QZ.AccessToken:z.QZ.ClientCredentials;t.auth.apiTokensState.apiTokensDataTenant.unshift((0,$.Z)({},n,{type:d})),t.auth.apiTokensState.successDialog={open:!0,secret:n.secret,clientId:a?void 0:n.clientId},null==c||c(null)}catch(t){a({key:d,value:(0,ti.P)(t)}),null==c||c(null,t)}finally{i({key:d,value:!1})}},d=async n=>{let{description:o,expires:l,callback:u}=n,c=s.ADD_API_TOKEN;i({key:c,value:!0});try{let n;let{policy:i}=t.auth.securityPolicyState.publicPolicy,a=(null==i?void 0:i.machineToMachineAuthStrategy)===z.QZ.AccessToken,s=null;l&&(s=1440*l),n=a?await e.auth.createUserAccessToken({description:o,expiresInMinutes:s}):await e.auth.updateUserApiTokensData({description:o,expiresInMinutes:s}),r({showAddTokenDialog:!1}),await (0,tn.gw)(200);let c=a?z.QZ.AccessToken:z.QZ.ClientCredentials;t.auth.apiTokensState.apiTokensDataUser.unshift((0,$.Z)({},n,{type:c})),t.auth.apiTokensState.successDialog={open:!0,secret:n.secret,clientId:a?void 0:n.clientId},null==u||u(null)}catch(t){a({key:c,value:(0,ti.P)(t)}),null==u||u(null,t)}finally{i({key:c,value:!1})}},g=async n=>{let o=s.DELETE_API_TOKEN;i({key:o,value:!0});try{let i=t.auth.apiTokensState.apiTokensDataUser;i.some(t=>t.id===n)?(await e.auth.deleteUserAccessToken({id:n}),r({apiTokensDataUser:i.filter(t=>t.id!==n),deleteTokenDialog:{open:!1,id:n}})):(await e.auth.deleteUserApiToken({tokenId:n}),r({apiTokensDataUser:i.filter(t=>t.clientId!==n),deleteTokenDialog:{open:!1,clientId:n}}))}catch(t){a({key:o,value:(0,ti.P)(t)})}finally{i({key:o,value:!1})}},h=async n=>{let o=s.DELETE_API_TOKEN;i({key:o,value:!0});try{let i=t.auth.apiTokensState.apiTokensDataTenant;i.some(t=>t.id===n)?(await e.auth.deleteTenantAccessToken({id:n}),r({apiTokensDataTenant:i.filter(t=>t.id!==n),deleteTokenDialog:{open:!1,id:n}})):(await e.auth.deleteTenantApiToken({tokenId:n}),r({apiTokensDataTenant:i.filter(t=>t.clientId!==n),deleteTokenDialog:{open:!1,id:n}}))}catch(t){a({key:o,value:(0,ti.P)(t)})}finally{i({key:o,value:!1})}};return{setApiTokensLoader:i,setApiTokensError:a,setApiTokensState:r,resetApiTokensState:()=>{(0,tn.BW)(t,["auth","apiTokensState"],tA)},loadApiTokens:o,loadUserApiTokens:l,loadTenantApiTokens:u,addTenantApiToken:c,addUserApiToken:d,deleteUserApiToken:g,deleteTenantApiToken:h}};let tP={loading:!0,fetching:!0,error:null,userApplications:[],accountApplications:[]};var tE=t=>(0,Q.D)(tP,t),tO=n(7906);let t_=t=>{var e;return null!=(e=t.map(({appIds:t})=>t).reduce((t,e)=>(null==e||e.forEach(e=>{t&&!t.includes(e)&&t.push(e)}),t),[]))?e:[]};var tI=(t,e,n)=>{let i=e=>{Object.assign(t.auth.applicationsState,e)},a=async()=>{i({loading:!0,fetching:!0});try{var n,a;let s=null!=(n=null==(a=t.auth.user)?void 0:a.id)?n:"",r=await e.applications.getUserApplicationsId({userId:s}),o=await e.applications.getApplicationsData({appIds:r});i({userApplications:o,fetching:!1,loading:!1})}catch(t){i({loading:!1,fetching:!1,error:(0,ti.P)(t)})}},s=async()=>{i({loading:!0,fetching:!0});try{let t=await e.applications.getTenantsApplications(),n=t_(t),a=await e.applications.getApplicationsData({appIds:n}),s=await e.applications.getUsersOfApplications({appIds:n}),r=a.map(t=>{var e;return(0,$.Z)({},t,{userIds:null==(e=s.find(e=>e.appId===t.id))?void 0:e.userIds})});i({accountApplications:r,fetching:!1,loading:!1})}catch(t){i({loading:!1,fetching:!1,error:(0,ti.P)(t)})}},r=async({userIds:t})=>{try{let n=await e.applications.getUsersApplicationsId({userIds:t}),i=t_(n),a=await e.applications.getApplicationsData({appIds:i});return t.reduce((t,e)=>{var i,s,r;let o=null==(i=n.find(t=>t.userId==e))?void 0:i.appIds;return t[e]=[...a.filter(t=>t.accessType===tO.n.FREE_ACCESS),...null!=(s=null==o?void 0:null==(r=o.map(t=>a.find(e=>t===e.id)))?void 0:r.filter(t=>!!t))?s:[]],t},{})}catch(t){i({error:(0,ti.P)(t)})}},o="Assignment action failed. Try again or contact support.",l=async a=>{let{userId:s,appIds:r,callback:l}=a;try{var u,c,d,g,h,p,f,y,v;let i=null!=(u=null==(c=t.auth)?void 0:null==(d=c.user)?void 0:d.tenantId)?u:"";await e.applications.assignUserToApplications({userId:s,appIds:r,tenantId:i});let a=null==(g=t.auth)?void 0:null==(h=g.applicationsState)?void 0:h.accountApplications,o=null!=(p=null==(f=t.auth)?void 0:null==(y=f.teamState)?void 0:y.users)?p:[],S=null!=(v=null==a?void 0:a.filter(t=>r.includes(t.id)))?v:[];null!=S&&S.length&&n.setTeamState({users:o.map(t=>{var e;return t.id===s?(0,$.Z)({},t,{applications:[...null!=(e=t.applications)?e:[],...S]}):t})}),null==l||l(!0)}catch(t){i({error:(0,ti.P)(t,o)}),null==l||l(!1)}},u=async a=>{let{userId:s,appIds:r,callback:l}=a;try{var u,c,d,g,h,p,f;let i=null!=(u=null==(c=t.auth)?void 0:null==(d=c.user)?void 0:d.tenantId)?u:"";await e.applications.unassignUserFromApplications({userId:s,appIds:r,tenantId:i});let a=null!=(g=null==(h=t.auth)?void 0:null==(p=h.teamState)?void 0:p.users)?g:[],o=null==(f=a.find(t=>t.id===s))?void 0:f.applications;null!=o&&o.length&&r.length&&n.setTeamState({users:a.map(t=>t.id===s?(0,$.Z)({},t,{applications:o.filter(t=>!r.includes(t.id))}):t)}),null==l||l(!0)}catch(t){i({error:(0,ti.P)(t,o)}),null==l||l(!1)}},c=async({shouldLoadApps:t,users:e})=>{let[i]=await n.getFeatureFlags(["multi-apps-admin-portal"]);if(!i||!t)return e;let a=e.map(t=>t.id),s=await r({userIds:a});return s?e.map(t=>null!=s&&s[t.id]?(0,$.Z)({},t,{applications:s[t.id]}):t):e};return{setApplicationsState:i,resetApplicationsState:()=>{(0,tn.BW)(t,["auth","applicationsState"],tP)},loadUserApplications:a,loadAccountApplications:s,loadMultipleUsersApplications:r,assignUserToApps:l,unassignUserFromApps:u,assignNewUserToApps:async({appIds:i,user:a})=>{var s,r,o,l,u,c;let[d]=await n.getFeatureFlags(["multi-apps-admin-portal"]);if(!d)return;let g=null==(s=t.auth)?void 0:null==(r=s.applicationsState)?void 0:r.accountApplications,h=null!=(o=null==g?void 0:g.filter(t=>t.accessType===tO.n.FREE_ACCESS))?o:[];if(null==i||!i.length)return h;{let n=null!=(l=null==(u=t.auth)?void 0:null==(c=u.user)?void 0:c.tenantId)?l:"";return await e.applications.assignUserToApplications({userId:a.id,appIds:i,tenantId:n}),i.map(t=>{var e;return null!=(e=null==g?void 0:g.find(e=>e.id===t))?e:[]}).concat(h)}},mapUsersWithApplicationData:c}};let tD={loading:!0,error:null};var tL=t=>(0,Q.D)(tD,t),tk=n(2332);let tR=["callback"];var tU=(t,e,n)=>{let i=e=>{Object.assign(t.auth.customLoginState,e)},a=async()=>{i({loading:!0});try{let t=await e.metadata.getAdminBoxMetadata();i({tenantMetadata:t,loading:!1})}catch(t){i({loading:!1,error:(0,ti.P)(t)})}},s=async t=>{let{callback:n}=t,a=(0,x.Z)(t,tR);try{i({error:null,saving:!0});let t=(0,tg.nF)(a);if(0===t.length)throw Error("No changes to update");await e.metadata.updateAdminBoxMetadata({actions:t});let s=await e.metadata.getAdminBoxMetadata();i({tenantMetadata:s,saving:!1}),null==n||n(!0)}catch(t){i({error:(0,ti.P)(t,"No changes to update"),saving:!1}),null==n||n(null,t)}},r=async()=>{var e,n,i,a,s;return t.auth.isAuthenticated?null!=(a=null==(s=t.auth.tenantsState.activeTenant)?void 0:s.hasCustomLogin)&&a:!!(null==(e=await (null==(n=W.a.for(t.root.appName).getContext())?void 0:null==(i=n.tenantResolver)?void 0:i.call(n)))?void 0:e.tenant)},o=async()=>{try{var a;if(!await r())return;let s=t.auth.isAuthenticated,{getSettings:o,getPublicSettings:l}=e.accountSettings,{applicationUrl:u}=await (s?o():l());if(!u)return;let c=t.auth.routes,d=null!=(a=(0,tk.s)(u))?a:"";n.setAuthState({routes:(0,$.Z)({},c,{customLoginAuthenticatedUrl:u,customLoginUrl:c.loginUrl+d})}),i({customLoginSearchParams:null!=d?d:void 0})}catch{}};return{setCustomLoginState:i,resetCustomLoginState:()=>{(0,tn.BW)(t,["auth","customLoginState"],tD)},loadTenantMetadata:a,updateTenantMetadata:s,customLoginEnabled:r,loadCustomLoginRoutes:o}};let tC={step:r.forgotPassword,loading:!1,email:"",passwordConfig:null};var tN=t=>(0,Q.D)(tC,t);let tM=["callback"];var tj=(t,e,n)=>{let i=e=>{Object.assign(t.auth.forgotPasswordState,e)},a=async t=>{var n,a;i({loading:!0});try{await e.auth.forgotPassword(t),i({loading:!1,error:void 0,step:r.success}),null==(n=t.callback)||n.call(t,!0)}catch(e){i({loading:!1,error:(0,ti.P)(e,"Unknown error occurred")}),null==(a=t.callback)||a.call(t,!1,e)}},s=async t=>{let{callback:n}=t,a=(0,x.Z)(t,tM);i({loading:!0});try{await e.auth.resetPassword(a),i({loading:!1,error:void 0,step:r.success}),null==n||n(!0)}catch(t){i({loading:!1,error:(0,ti.P)(t)}),null==n||n(!1,t)}},o=async t=>{i({loading:!0});try{let n=await e.auth.loadPasswordConfig(t);i({loading:!1,passwordConfig:n})}catch(t){i({loading:!1,error:(0,ti.P)(t)})}};return{setForgotPasswordState:i,resetForgotPasswordState:()=>{(0,tn.BW)(t,["auth","forgotPasswordState"],tC)},forgotPassword:a,resetPassword:s,loadPasswordConfig:o}};let tF={loaders:{},errors:{},groups:[],groupsConfiguration:{}};var tZ=t=>(0,Q.D)(tF,t);let t$=["roleIds","userIds"];var tx=(t,e,n)=>{let i=e=>{Object.assign(t.auth.groupsState,{loaders:(0,$.Z)({},t.auth.groupsState.loaders,{[e.key]:e.value})})},a=e=>{Object.assign(t.auth.groupsState,{errors:(0,$.Z)({},t.auth.groupsState.errors,{[e.key]:e.value}),loaders:(0,$.Z)({},t.auth.groupsState.loaders,{[e.key]:!1})})},s=e=>{Object.assign(t.auth.groupsState,e)},r=async()=>{let n=o.GET_GROUPS,r=t.auth.groupsState;i({key:n,value:!0});try{let{groups:t}=await e.groups.getGroups({_groupsRelations:l.rolesAndUsers});s((0,$.Z)({groups:t},r.selectedGroup&&{selectedGroup:t.find(t=>{var e;return t.id===(null==(e=r.selectedGroup)?void 0:e.id)})}))}catch(t){a({key:n,value:(0,ti.P)(t)})}finally{i({key:n,value:!1})}},u=async t=>{let n=o.GET_GROUP;i({key:n,value:!0});try{let n=await e.groups.getGroupById({groupId:t.groupId},{_groupsRelations:l.rolesAndUsers});s({selectedGroup:n})}catch(t){a({key:n,value:(0,ti.P)(t)})}finally{i({key:n,value:!1})}},c=async t=>{var n,s;let l=o.CREATE_GROUP,{roleIds:u,userIds:c}=t,d=(0,x.Z)(t,t$);i({key:l,value:!0});try{let i=await e.groups.createGroup((0,$.Z)({name:d.name},!!d.description&&{description:d.description},{color:d.color}));null!=c&&c.length&&f({groupId:i.id,userIds:c}),null!=u&&u.length&&h({groupId:i.id,roleIds:u}),await r(),null==t||null==(n=t.callback)||n.call(t,!0)}catch(e){a({key:l,value:(0,ti.P)(e)}),null==t||null==(s=t.callback)||s.call(t,!1)}finally{i({key:l,value:!1})}},d=async t=>{var n,s;let l=o.UPDATE_GROUP;i({key:l,value:!0});try{await e.groups.updateGroup(t),await r(),null==t||null==(n=t.callback)||n.call(t,!0)}catch(e){a({key:l,value:(0,ti.P)(e)}),null==t||null==(s=t.callback)||s.call(t,!1)}finally{i({key:l,value:!1})}},g=async t=>{var n,s;let l=o.DELETE_GROUP;i({key:l,value:!0});try{await e.groups.deleteGroup(t.groupId),await r(),null==t||null==(n=t.callback)||n.call(t,!0)}catch(e){a({key:l,value:(0,ti.P)(e)}),null==t||null==(s=t.callback)||s.call(t,!1,e)}finally{i({key:l,value:!1})}},h=async t=>{var n,s;let l=o.ADD_ROLES_TO_GROUP;i({key:l,value:!0});try{await e.groups.addRolesToGroup(t.groupId,{roleIds:t.roleIds}),await r(),null==t||null==(n=t.callback)||n.call(t,!0)}catch(e){a({key:l,value:(0,ti.P)(e)}),null==t||null==(s=t.callback)||s.call(t,!1)}finally{i({key:l,value:!1})}},p=async t=>{var n,s;let l=o.DELETE_ROLES_FROM_GROUP;i({key:l,value:!0});try{await e.groups.deleteRolesFromGroup(t.groupId,{roleIds:t.roleIds}),await r(),null==t||null==(n=t.callback)||n.call(t,!0)}catch(e){a({key:l,value:(0,ti.P)(e)}),null==t||null==(s=t.callback)||s.call(t,!1)}finally{i({key:l,value:!1})}},f=async t=>{var n,s;let l=o.ADD_USERS_TO_GROUP;i({key:l,value:!0});try{await e.groups.addUsersToGroup(t.groupId,{userIds:t.userIds}),await r(),null==t||null==(n=t.callback)||n.call(t,!0)}catch(e){null==t||null==(s=t.callback)||s.call(t,!1),a({key:l,value:(0,ti.P)(e)})}finally{i({key:l,value:!1})}},y=async t=>{var n,s;let l=o.DELETE_USERS_FROM_GROUP;i({key:l,value:!0});try{await e.groups.deleteUsersFromGroup(t.groupId,{userIds:t.userIds}),await r(),null==t||null==(n=t.callback)||n.call(t,!0)}catch(e){a({key:l,value:(0,ti.P)(e)}),null==t||null==(s=t.callback)||s.call(t,!1)}finally{i({key:l,value:!1})}},v=async()=>{let t=o.GET_GROUP_CONFIGURATION;i({key:t,value:!0});try{let t=await e.groups.getGroupConfiguration();s({groupsConfiguration:t})}catch(e){a({key:t,value:(0,ti.P)(e)})}finally{i({key:t,value:!1})}},S=async t=>{let n=o.UPDATE_GROUP_CONFIGURATION;i({key:n,value:!0});try{await e.groups.updateGroupConfiguration(t),await v()}catch(t){a({key:n,value:(0,ti.P)(t)})}finally{i({key:n,value:!1})}},m=async t=>{let n=o.GET_TEAM_USERS;i({key:n,value:!0});try{let{items:n}=await e.users.getUsersV2({_filter:t.filter,_offset:t.pageOffset,_limit:t.pageSize,_includeSubTenants:!1});s({teamUsers:n})}catch(t){a({key:n,value:(0,ti.P)(t)})}finally{i({key:n,value:!1})}};return{setUsersGroupsLoader:i,setUsersGroupsError:a,setGroupsState:s,resetUsersGroupsState:()=>{(0,tn.BW)(t,["auth","groupsState"],tF)},loadGroups:r,getGroupById:u,createGroup:c,updateGroup:d,deleteGroup:g,addRolesToGroup:h,deleteRolesFromGroup:p,addUsersToGroup:f,deleteUsersFromGroup:y,getGroupConfiguration:v,updateGroupConfiguration:S,getTeamUsers:m}};let tG={addGroupDialogState:{loading:!1,open:!1},editGroupDialogState:{loading:!1,open:!1},deleteGroupDialogState:{loading:!1,open:!1},addMembersToGroupDialogState:{loading:!1,open:!1,userIds:[]},deleteMemberFromGroupDialogState:{loading:!1,open:!1}};var tB=t=>(0,Q.D)(tG,t),tV=(t,e,n)=>({setGroupsDialogsState:e=>{Object.assign(t.auth.groupsDialogsState,e)},resetGroupsDialogsState:()=>{(0,tn.BW)(t,["auth","groupsDialogsState"],tG)},openAddGroupDialog:()=>{t.auth.groupsDialogsState.addGroupDialogState.open=!0},closeAddGroupDialog:()=>{Object.assign(t.auth.groupsDialogsState.addGroupDialogState,{open:!1,group:void 0})},openAddMembersToGroupDialog:()=>{t.auth.groupsDialogsState.addMembersToGroupDialogState.open=!0},closeAddMembersToGroupDialog:()=>{Object.assign(t.auth.groupsDialogsState.addMembersToGroupDialogState,{open:!1,userIds:[]})},openEditGroupDialog:e=>{Object.assign(t.auth.groupsDialogsState.editGroupDialogState,(0,$.Z)({},e,{open:!0}))},closeEditGroupDialog:()=>{Object.assign(t.auth.groupsDialogsState.editGroupDialogState,{open:!1,loading:!1,group:void 0})},openDeleteGroupDialog:e=>{Object.assign(t.auth.groupsDialogsState.deleteGroupDialogState,(0,$.Z)({},e,{open:!0}))},closeDeleteGroupDialog:()=>{Object.assign(t.auth.groupsDialogsState.deleteGroupDialogState,{open:!1,loading:!1,group:void 0})},openDeleteMemberFromGroupDialog:e=>{Object.assign(t.auth.groupsDialogsState.deleteMemberFromGroupDialogState,e)},closeDeleteMemberFromGroupDialog:()=>{Object.assign(t.auth.groupsDialogsState.deleteMemberFromGroupDialogState,{open:!1,userId:void 0,email:void 0})}});let tW={step:u.impersonating,loading:!1};var tH=t=>(0,Q.D)(tW,t);let tK=["callback","events"];var tz=(t,e,n)=>{let i=e=>{Object.assign(t.auth.impersonateState,e)},a=()=>{(0,tn.BW)(t,["auth","impersonateState"],tW)},s=async t=>{let{callback:s}=t,r=(0,x.Z)(t,tK);i({loading:!0});try{await e.impersonate.impersonate(r),i({step:u.success}),await (0,tn.gw)(1e3),await n.afterAuthNavigation({preventRedirectUrlOriginCleaning:!0}),a(),null==s||s(!0)}catch(t){i({loading:!1,error:(0,ti.P)(t)})}};return{setImpersonateState:i,resetImpersonateState:a,impersonate:s}};let tJ={flow:q.iP.Login,step:q.Fh.preLogin,loading:!1,email:"",tenants:[]};var tq=t=>(0,Q.D)(tJ,t),tY=n(681),tX=n(7989),tQ=n(8826),t0=(t,e,n)=>{async function i({customLoginAuthenticatedUrl:e,preventRedirectUrlOriginCleaning:n}){var i,a;let{routes:s,includeQueryParam:r=!1,enforceRedirectToSameSite:o=!1,allowedRedirectOrigins:l=[]}=t.auth;if(e)return(0,tk.m0)(e,n);let{authenticatedUrl:u,loginUrl:c,logoutUrl:d,socialLoginCallbackUrl:g,activateUrl:h}=s,p=window.localStorage.getItem(tY._6);(!p||[c,d,g,h].includes(p))&&(p=u);let f=(0,tk.B8)({authenticatedUrl:p,includeQueryParam:r,enforceRedirectToSameSite:o,allowedRedirectOrigins:l});return n?f:f.startsWith(null==(i=window)?void 0:i.location.origin)?f.replace(null==(a=window)?void 0:a.location.origin,""):f}let a=async(e,n={})=>{let a;let{customLoginAuthenticatedUrl:s,forceStepUpUrl:r,shouldStepUpDuringLogin:o,preventRedirectUrlOriginCleaning:l=!1}=n,u=t.auth.onRedirectTo;if(r)a=r;else{var c;if(o){let t=window.localStorage.getItem(tY._6);t&&!(0,tk.sD)(t)&&(a=t)}a||(a=await i({customLoginAuthenticatedUrl:s,preventRedirectUrlOriginCleaning:l})),null==(c=window)||c.localStorage.removeItem(tY._6)}await (0,tn.gw)(200),await e(),u(a,{refresh:a.startsWith("http")})},s=async e=>{var i,s,r,o;let{customLoginAuthenticatedUrl:l,stepUpUrl:u}=t.auth.routes,c=null==(i=window)?void 0:i.localStorage.getItem(tX.E9),d=t.auth.user;if(c&&(null==(r=window)||r.localStorage.removeItem(tX.E9)),u&&c&&!(0,tQ.J)(d))return a(n.resetLoginState,{forceStepUpUrl:u});let g=l;return l||(await n.loadCustomLoginRoutes(),g=null==(o=t.auth.routes)?void 0:o.customLoginAuthenticatedUrl),a(n.resetLoginState,{customLoginAuthenticatedUrl:g,shouldStepUpDuringLogin:!!c,preventRedirectUrlOriginCleaning:null!=(s=null==e?void 0:e.preventRedirectUrlOriginCleaning)&&s})},r=async()=>a(n.resetStepUpState);return{afterAuthNavigationUtil:a,afterAuthNavigation:s,afterStepUpAuthNavigation:r,afterAuthenticationStateUpdate:function({user:e,tenants:i=[],activeTenant:a},s={}){let r=t.auth.tenantsState;n.setAuthState((0,$.Z)({user:e,tenantsState:(0,$.Z)({},r,{tenants:i,activeTenant:a,loading:!1})},s))}}},t1=n(886),t2=(t,e,n)=>({getMfaRequiredState:async n=>{let i=q.Fh.loginWithTwoFactor,a={step:Y.b.verify,loading:!1,saving:!1},s=t.auth.loginState,{isAllowedToRemember:r,mfaDeviceExpiration:o}=await e.auth.checkIfAllowToRememberMfaDevice(n.mfaToken);"mfaEnrolled"in n&&!n.mfaEnrolled?(Object.assign(a,{step:(0,tk.h_)(n.mfaStrategies),qrCode:n.qrCode,recoveryCode:n.recoveryCode,loading:!1,mfaToken:n.mfaToken,mfaStrategies:n.mfaStrategies}),i=q.Fh.forceTwoFactor):Object.assign(a,{mfaDevices:n.mfaDevices,step:(0,tk.v3)(n.mfaDevices)});let l={},u=localStorage.getItem("register-quick-login");return u&&(l={quickLoginToRegister:u,flow:q.iP.RegisterQuickLogin}),{user:void 0,isAuthenticated:!1,mfaState:a,loginState:(0,$.Z)({},s,l,{mfaToken:n.mfaToken,mfaRequired:n.mfaRequired,loading:!1,error:void 0,step:i,tenantsLoading:!0,email:n.userEmail,tenants:[],allowRememberMfaDevice:r,mfaDeviceExpiration:o,isBreachedPassword:n.isBreachedPassword})}}});let t5=["callback"];var t4=(t,e,n)=>{async function i(e,n,i){let a=t.auth.loginState,s={};if(!i){let t=a.flow===q.iP.Login?q.Fh.success:a.step;s={loginState:{flow:a.flow,quickLoginToRegister:a.quickLoginToRegister,loading:!1,step:t,error:void 0,tenants:e}}}return(0,$.Z)({},s,{isAuthenticated:n})}async function a(e,i){let a=t.auth.loginState;if(a.flow!==q.iP.Login)return;let[s]=await n.getFeatureFlags(["security-center-show-login-flows"]);s&&a.isBreachedPassword&&!e?n.setLoginState({step:q.Fh.breachedPassword,loading:!1}):await n.__shouldShowPromptPasskeys()?n.setLoginState({step:q.Fh.promptPasskeys,loading:!1}):await n.afterAuthNavigation(),null==i||i(!0)}async function s(t){await n.afterStepUpAuthNavigation(),null==t||t(!0)}let r=async(t,r,o)=>{let{callback:l}=t,u=(0,x.Z)(t,t5);r({loading:!0,error:void 0});try{let{user:t,tenants:c=[],activeTenant:d}=await e.auth.loginWithMfaV2(u),g=!!t.accessToken,h=await i(c,g,o);if(await n.afterAuthenticationStateUpdate({user:t,tenants:c,activeTenant:d},h),t.id&&localStorage.setItem("userId",t.id),r({loading:!1,error:void 0}),o)return await s(l);return await a(g,l)}catch(t){r({loading:!1,error:(0,ti.P)(t)}),null==l||l(!1,t)}},o=async t=>await r(t,n.setLoginState,!1);return{mfaWithAuthenticator:r,loginWithMfa:o}};let t3=["callback"],t6=["callback"];var t8=(t,e,n)=>{let i=async(t,i)=>{var a;let{callback:s}=t,r=(0,x.Z)(t,t3);(i=null!=(a=i)?a:n.setLoginState)({loading:!0,error:void 0});try{let t=await e.auth.preVerifyMFAEmailCode(r);n.setMfaState({otcToken:t.otcToken,step:Y.b.emailVerifyCode}),i({loading:!1,error:void 0}),null==s||s(!0)}catch(t){i({error:(0,ti.P)(t)}),null==s||s(null)}},a=async(t,i)=>{var a;let{callback:s}=t,r=(0,x.Z)(t,t6);(i=null!=(a=i)?a:n.setLoginState)({loading:!0});try{let t=await e.auth.verifyMFAEmailCodeV2(r);await n.handleVerifyMFAResponse(t),i({loading:!1,error:void 0}),null==s||s(!0)}catch(t){i({loading:!1,error:(0,ti.P)(t)}),null==s||s(null)}},s=async t=>await i(t,n.setLoginState),r=async t=>await a(t,n.setLoginState);return{preVerifyMFAEmailCode:i,verifyMFAEmailCode:a,preVerifyMFAEmailCodeForLogin:s,verifyMFAEmailCodeForLogin:r}};let t9=["callback","deviceId"],t7=["callback","deviceId"];var et=(t,e,n)=>{let i=async(t,i)=>{let{callback:a,deviceId:s}=t,r=(0,x.Z)(t,t9);i({loading:!1,error:void 0});try{let t=await e.auth.preVerifyMFASMSForLogin(s,r);n.setMfaState({otcToken:t.otcToken,step:Y.b.smsVerifyCode,phoneNumber:t.phoneNumber}),i({loading:!1,error:void 0}),null==a||a(!0)}catch(t){i({loading:!1,error:(0,ti.P)(t)}),null==a||a(null)}},a=async(t,i,a=!1)=>{let{callback:s,deviceId:r}=t,o=(0,x.Z)(t,t7);i({loading:!0});try{let t=await e.auth.verifyMFASMSForLoginV2(r,o);await n.handleVerifyMFAResponse(t,a),i({loading:!1,error:void 0}),null==s||s(!0)}catch(t){i({loading:!1,error:(0,ti.P)(t)}),null==s||s(null)}},s=async t=>await i(t,n.setLoginState),r=async t=>await a(t,n.setLoginState,!1);return{preVerifyMFASMS:i,verifyMFASMS:a,preVerifyMFASMSForLogin:s,verifyMFASMSForLogin:r}},ee=n(1435),en=n(3020);let ei=["callback","deviceId"],ea=["callback","deviceId"];var es=(t,e,n)=>{let i=async(t,n)=>{let{callback:i,deviceId:a}=t,s=(0,x.Z)(t,ei);n({loading:!0});try{var r;let t=await e.auth.preVerifyMFAWebAuthnForLogin(a,s),o=(0,$.Z)({},t.options,{challenge:(0,ee.J)(t.options.challenge),allowCredentials:null==(r=t.options.allowCredentials)?void 0:r.map(t=>(0,$.Z)({},t,{id:(0,ee.J)(t.id)}))});n({loading:!1,error:void 0}),null==i||i({options:o,webauthnToken:t.webauthnToken})}catch(t){n({loading:!1,error:(0,ti.P)(t)}),null==i||i(null)}},a=async(t,i,a)=>{let{callback:s,deviceId:r}=t,o=(0,x.Z)(t,ea);i({loading:!0});try{let t=(0,en.z2)(o.publicKey),l=await e.auth.verifyMFAWebAuthnForLoginV2(r,(0,$.Z)({},o,{options:t}));await n.handleVerifyMFAResponse(l,a),i({loading:!1,error:void 0}),null==s||s(!0)}catch(t){i({loading:!1,error:(0,ti.P)(t)}),null==s||s(null)}},s=async t=>await i(t,n.setLoginState),r=async t=>await a(t,n.setLoginState,!1);return{preVerifyMFAWebAuthn:i,verifyMFAWebAuthn:a,preVerifyMFAWebAuthnForLogin:s,verifyMFAWebAuthnForLogin:r}},er=n(4559),eo=n(8686),el=(t,e,n)=>{let i=async()=>{let t=await e.auth.silentOAuthRefreshTokenV2();if(null!=t&&t.user)await n.afterAuthenticationStateUpdate(t,{isAuthenticated:!0,isLoading:!1});else throw Error("couldn't refresh user token with oauth service")},a=async i=>{var a,s;let{routes:r,onRedirectTo:o}=t.auth,{context:l,urlStrategy:u}=t.root;if((0,tg.fS)(u)===r.hostedLoginRedirectUrl){console.debug("Calling loginWithRedirect while in hostedLoginCallback route");return}n.setAuthState({isLoading:!0});let c=(0,eo.vV)(),d=(0,eo.vV)(),g=await (0,eo.OT)(d);localStorage.setItem(tY.sR,d);let h=(0,tk.$_)(t),p=`${window.location.origin}${"path"===u?"":"#"}${null!=h?h:""}${r.hostedLoginRedirectUrl}`;await n.loadCustomLoginRoutes();let f=null==(a=t.auth.customLoginState)?void 0:a.customLoginSearchParams;f&&(p.endsWith("/")&&(p=p.slice(0,-1)),p+=f);let y=e.fetch.getBaseUrl(l,"/oauth/authorize"),v=`${y}/oauth/authorize`,S=(0,$.Z)({response_type:"code",client_id:l.appId||l.clientId||"INVALID-CLIENT-ID",scope:"openid email profile",redirect_uri:p,code_challenge:g,code_challenge_method:"S256",nonce:c},i);if(l.tenantResolver){let t=await (null==(s=l.tenantResolver)?void 0:s.call(l));null!=t&&t.tenant&&(S.organization=t.tenant)}let m=(0,tk.kp)(tk.Z8);m&&(S.tenantId=m);let b=new URLSearchParams(S);o(`${v}?${b.toString()}`,{refresh:!0})};return{requestHostedLoginAuthorize:async e=>{var n;null==(n=localStorage)||n.removeItem(tX.E9);let s=t.auth.disableSilentRefresh;if((null==e?void 0:e.prompt)==="login")return await a(e);try{if(s)throw Error("silent refresh is disabled");return await i()}catch(t){return await a(e)}},requestHostedLoginAuthorizeV2:async e=>{var s,r;let{shouldRedirectToLogin:o,firstTime:l,loginDirectAction:u}=null!=e?e:{},{additionalParams:c}=null!=e?e:{};if(null==(s=localStorage)||s.removeItem(tX.E9),l){let e=t.root.urlStrategy,i=(0,tg.fS)(e);if(n.setAuthState({isLoading:!0}),(0,tk.s8)(i))return}let d=t.auth.disableSilentRefresh;if(u&&((c=c||{}).login_direct_action=btoa(JSON.stringify(u))),(null==(r=c)?void 0:r.prompt)==="login")return await a(c);try{if(d)throw Error("silent refresh is disabled");return await i()}catch(t){if(!o){n.setAuthState({isLoading:!1});return}return await a(c)}},__requestHostedLoginAuthorize:a,__requestHostedLoginSilentAuthorize:i,handleHostedLoginCallback:async i=>{var a;let s=localStorage.getItem(tY.sR)||"INVALID-CODE-VERIFIER",r=t.auth.routes,o=t.root.urlStrategy,l=(0,tk.$_)(t),u=`${window.location.origin}${"path"===o?"":"#"}${null!=l?l:""}${r.hostedLoginRedirectUrl}`;await n.loadCustomLoginRoutes();let c=null==(a=t.auth.customLoginState)?void 0:a.customLoginSearchParams;c&&(u.endsWith("/")&&(u=u.slice(0,-1)),u+=c);let d={code:i.code,redirect_uri:u,code_verifier:s,grant_type:"authorization_code"};try{let t=await e.auth.exchangeOAuthTokensV2(d);n.afterAuthenticationStateUpdate(t,{isAuthenticated:!0,isLoading:!1})}catch(t){n.setAuthState({isLoading:!1}),console.error("Failed to exchangeOAuthTokens",t)}finally{let e=t.auth.user,i=window.localStorage.getItem(tX.E9);window.localStorage.removeItem(tX.E9),i&&(0,tQ.J)(e)?await n.afterStepUpAuthNavigation():await n.afterAuthNavigation()}}}},eu=n(3784),ec=n(4490),ed=n(8910);let eg=["callback"],eh=["callback"],ep=["callback"],ef=["callback"],ey=["callback"],ev=["callback","events"],eS=["callback"],em=["callback"],eb=["user"],eA=["callback"],ew=["callback"],eT=["callback"],eP=["callback"],eE=["callback"],eO=["callback"];var e_=(t,e,n)=>{let i=W.a.for(t.root.appName),a=async()=>{let a=t.auth.user;if(!(null!=a&&a.refreshToken)){i.setAccessToken(null),i.setUser(null),n.setAuthState({user:null,isAuthenticated:!1});return}try{let t={grant_type:"refresh_token",refresh_token:null==a?void 0:a.refreshToken},i=await e.auth.exchangeOAuthTokensV2(t),s=await l(i.user);n.afterAuthenticationStateUpdate((0,$.Z)({},i,{user:s}),{isAuthenticated:!0})}catch(t){i.setAccessToken(null),i.setUser(null),n.setAuthState({user:null,isAuthenticated:!1})}},s=e=>{var n;let{routes:i,loginState:a}=t.auth,s=null!=(n=localStorage.getItem("register-quick-login"))?n:a.quickLoginToRegister;return s&&"true"!==localStorage.getItem(`${e.id}-${s}`)&&!window.location.pathname.endsWith(i.logoutUrl)},r=async()=>{try{let{routes:i,loginState:r,onRedirectTo:o}=t.auth,{user:c,tenants:d=[],activeTenant:g}=await e.auth.refreshTokenV3();if((0,tg.AS)(c,t.root.appName)){let t=await n.getMfaRequiredState(c);n.setAuthState(t),o(i.loginUrl,{preserveQueryParams:!0})}else{var a;c.id&&localStorage.setItem("userId",c.id);let t=null!=(a=localStorage.getItem("register-quick-login"))?a:r.quickLoginToRegister,e=s(c),i=await l(c);n.afterAuthenticationStateUpdate({user:i,tenants:d,activeTenant:g},{loginState:(0,$.Z)({},r,{quickLoginToRegister:t,flow:e?q.iP.RegisterQuickLogin:q.iP.Login}),isAuthenticated:!0}),await u(e)}}catch(t){i.setAccessToken(null),i.setUser(null),n.setAuthState({user:void 0,isAuthenticated:!1})}},o=async()=>{t.auth.hostedLoginBox?await a():await r()},l=async e=>{var n;let i=null==(n=t.auth.user)?void 0:n.entitlements;return(0,J.tI)(i,null==e?void 0:e.entitlements)?(0,$.Z)({},e,{entitlements:i}):e},u=async e=>{var i;let a=new URL(null==(i=window)?void 0:i.location.href),{routes:s,loginState:r,onRedirectTo:o}=t.auth,l=a.searchParams.get("invitationToken"),u=[s.socialLoginCallbackUrl,s.oidcRedirectUrl,s.samlCallbackUrl];l||u.push(s.loginUrl,s.signUpUrl),e?o(s.loginUrl):u.some(t=>t&&window.location.pathname.endsWith(t))&&(r.isNewUser&&s.signUpSuccessUrl&&s.socialLoginCallbackUrl===window.location.pathname?o(s.signUpSuccessUrl,{refresh:s.signUpSuccessUrl.startsWith("http")}):await n.afterAuthNavigation())},c=async()=>{try{let{isActive:t}=await e.auth.getSSOPublicConfiguration();n.setAuthState({isSSOAuth:t})}catch(t){n.setAuthState({isSSOAuth:!1})}},d=async()=>{let t;try{var i;let n=await e.metadata.getSamlMetadata();t=null==n?void 0:null==(i=n.configuration)?void 0:i.acsUrl}catch(t){console.error(t)}n.setAuthState({ssoACS:t})},g=async({accessToken:e,user:i})=>{if(!e){n.setAuthState({user:void 0,isAuthenticated:!1});return}let{onRedirectTo:a,routes:s}=t.auth;if((0,tg.AS)(i,t.root.appName)){let t=await n.getMfaRequiredState(i);n.setAuthState(t),a(s.loginUrl,{preserveQueryParams:!0})}},h=e=>{Object.assign(t.auth.loginState,e)},p=async t=>{let e=[],i=[];e.push(o()),t&&(n.setAuthState({isLoading:!0}),e.push(n.loadSocialLoginsConfigurationV2()),e.push(n.loadAllowSignUps()),e.push(n.loadPublicAuthStrategiesPolicy()),e.push(c()),e.push(n.loadVendorPublicInfo()),e.push(d()),i.push(n.loadCustomLoginRoutes())),await Promise.all(e),i.length>0&&await Promise.all(i),n.setAuthState({isLoading:!1})},f=async t=>{let e=[];e.push(n.loadSocialLoginsConfigurationV2()),e.push(n.loadAllowSignUps()),e.push(c()),e.push(n.loadVendorPublicInfo()),e.push(d()),e.push(g(t)),e.push(n.loadCustomLoginRoutes()),await Promise.all(e)},v=async e=>{let{callback:i}=e,a=(0,x.Z)(e,eg),s=t.auth.securityPolicyState.publicPolicy.policy;if(!(null!=s&&s.authStrategy)){n.setLoginState({step:q.Fh.loginWithPassword,loading:!1}),null==i||i();return}(null==s?void 0:s.authStrategy)===z.lw.EmailAndPassword?(n.setLoginState({step:q.Fh.loginWithPassword,loading:!1}),null==i||i()):[z.lw.MagicLink,z.lw.Code,z.lw.SmsCode].includes(null==s?void 0:s.authStrategy)?await n.passwordlessPreLogin((0,$.Z)({},a,{type:null==s?void 0:s.authStrategy,callback:i})):(n.setLoginState({step:q.Fh.loginWithPassword,loading:!1}),null==i||i())},m=async n=>{let{email:i,recaptchaToken:a,invitationToken:s,callback:r}=n;h({loading:!0});try{let n=t.auth.onRedirectTo,o=(0,tk.kp)(tk.Z8),l=await e.auth.preLoginV2({email:i,tenantId:o}),{address:u,idpType:c}=null!=l?l:{};if(u){let e=u;if(c===y.Oidc&&!e.includes("redirect_uri")){let{oidcRedirectUrl:n}=t.auth.routes;e+=`&redirect_uri=${window.location.origin}${n}`}eu.Z.isLoginWithSSOAvailable()?(eu.Z.loginWithSSO(i),h({loading:!1}),null==r||r()):(h({step:q.Fh.redirectToSSO,loading:!1,ssoRedirectUrl:e}),setTimeout(()=>{n(e,{refresh:!0})},2e3))}else await v({email:i,recaptchaToken:a,callback:r,invitationToken:s})}catch(t){await v({email:i,recaptchaToken:a,callback:r,invitationToken:s})}},b=async i=>{let{onRedirectTo:a,routes:s}=t.auth;h({loading:!0});try{let t=await e.auth.postLogin(i);n.setAuthState({user:t.accessToken?t:void 0,isAuthenticated:!!t.accessToken}),await n.afterAuthNavigation()}catch(t){setTimeout(()=>{a(s.authenticatedUrl)},1e3),h({step:q.Fh.loginWithSSOFailed,loading:!1})}},A=async a=>{let{email:s,password:r,recaptchaToken:o,invitationToken:l,callback:u}=a;h({loading:!0});try{let{user:i,tenants:a=[],activeTenant:c}=await e.auth.loginv2({email:s,password:r,recaptchaToken:o,invitationToken:l}),{onRedirectTo:d,routes:g}=t.auth;if((0,tg.AS)(i,t.root.appName)){let t=await n.getMfaRequiredState(i);n.setAuthState(t),d(g.loginUrl,{preserveQueryParams:!0})}else{let e=t.auth.loginState,r=!!i.accessToken;i.id&&localStorage.setItem("userId",i.id),n.afterAuthenticationStateUpdate({user:i,tenants:a,activeTenant:c},{loginState:{flow:e.flow,quickLoginToRegister:e.quickLoginToRegister,email:s,loading:!1,error:void 0,mfaToken:i.mfaToken,step:e.flow===q.iP.Login?q.Fh.success:e.step,tenants:a,tenantsLoading:!0,isBreachedPassword:i.isBreachedPassword},isAuthenticated:r});let[o]=await n.getFeatureFlags(["security-center-show-login-flows"]);e.flow===q.iP.Login&&(o&&i.isBreachedPassword&&!r?h({step:q.Fh.breachedPassword,loading:!1}):r&&(await n.__shouldShowPromptPasskeys()?(h({step:q.Fh.promptPasskeys,loading:!1}),d(g.loginUrl,{preserveQueryParams:!0})):await n.afterAuthNavigation()))}localStorage.removeItem("register-quick-login"),null==u||u(!0)}catch(t){i.setAccessToken(null),i.setUser(null),null==u||u(!1,t),h({email:s,error:(0,ti.P)(t),loading:!1})}},w=async a=>{let s=t.auth.hostedLoginBox;n.setAuthState({isLoading:!0});try{s?await e.auth.OAuthLogout():await e.auth.logout()}catch{}i.isSessionPerTenantEnabled()&&(0,ed.j2)(),n.resetAuthState(),await n.requestAuthorize(!0),null==a||a()},T=async t=>{var n;try{await e.auth.logout()}catch{}i.isSessionPerTenantEnabled()&&(0,ed.j2)(),setTimeout(()=>{var e;return null==t?void 0:null==(e=t.callback)?void 0:e.call(t,!0)},null!=(n=null==t?void 0:t.callbackTimeout)?n:500)},P=async t=>{var i,a;h({loading:!0});try{await e.auth.recoverMfaToken(t),h({loading:!1,error:void 0,step:q.Fh.preLogin}),n.setAuthState({user:void 0,isAuthenticated:!1}),null==(i=t.callback)||i.call(t,!0)}catch(e){h({error:(0,ti.P)(e),loading:!1}),null==(a=t.callback)||a.call(t,!1,e)}},E=async t=>{let{callback:n}=t,i=(0,x.Z)(t,eh);try{h({loading:!0});let t=await e.auth.passwordlessPreLogin((0,$.Z)({},i,{type:z.lw.SmsCode}));h({step:q.Fh.loginWithQuickSmsOtc,loading:!1,phoneNumber:null==t?void 0:t.phoneNumber,error:void 0}),null==n||n(!0)}catch(t){h({error:(0,ti.P)(t),loading:!1}),null==n||n(!1,t)}},O=async t=>{let{callback:n}=t,i=(0,x.Z)(t,ep);try{h({loading:!0});let t=await e.auth.changePhoneNumberWithVerification(i);h({phoneNumber:i.phoneNumber,loading:!1,changePhoneId:t.changePhoneId,step:q.Fh.loginWithQuickSmsOtc,error:void 0}),null==n||n(!0)}catch(t){h({error:(0,ti.P)(t),loading:!1})}},_=async t=>{let{callback:n}=t,i=(0,x.Z)(t,ef);try{h({loading:!0}),await e.auth.verifyChangePhoneNumber(i),h({loading:!1}),null==n||n(!0)}catch(t){h({error:(0,ti.P)(t),loading:!1})}},I=async t=>{let{callback:n}=t,i=(0,x.Z)(t,ey);try{let t;h({loading:!0}),(0,tk.ET)(i)&&(t=i.email);let a=await e.auth.passwordlessPreLogin(i),s=ec.S[i.type];h({step:s,loading:!1,phoneNumber:null==a?void 0:a.phoneNumber,email:t,error:void 0}),null==n||n()}catch(t){h({error:(0,ti.P)(t),loading:!1}),null==n||n(null,t)}},D=async i=>{let{callback:a,events:s}=i,r=(0,x.Z)(i,ev);try{h({loading:!0});let{user:i,tenants:l=[],activeTenant:u}=await e.auth.passwordlessPostLoginV2(r),{routes:c,onRedirectTo:d}=t.auth;if((0,tg.AS)(i,t.root.appName)){let t=await n.getMfaRequiredState(i);n.setAuthState(t),d(c.loginUrl,{preserveQueryParams:!0})}else{let e=t.auth.loginState;if(i.emailVerified){var o;let t={email:i.email,origin:S.PASSWORDLESS,id:i.id,tenantId:i.tenantId,createdAt:new Date,name:i.name};null==s||null==(o=s.userVerified)||o.call(s,t),(0,td.g)(td.C.USER_VERIFIED,t)}i.id&&localStorage.setItem("userId",i.id),n.afterAuthenticationStateUpdate({user:i,tenants:l,activeTenant:u}),h({error:void 0}),n.setAuthState({isLoading:!1}),e.flow===q.iP.Login?await n.__shouldShowPromptPasskeys()?(n.setLoginState({step:q.Fh.promptPasskeys,loading:!1}),d(c.loginUrl,{preserveQueryParams:!0})):(n.setAuthState({isAuthenticated:!0}),await n.afterAuthNavigation()):d(c.loginUrl,{preserveQueryParams:!0}),localStorage.removeItem("register-quick-login"),null==a||a(!0)}}catch(t){h({error:(0,ti.P)(t,"Failed to authenticate")}),null==a||a(null,t)}finally{h({loading:!1})}},L=async t=>{try{h({loading:!0});let{name:n}=await e.auth.verifyInviteToken(t);h({inviteTokenTenantName:n})}catch(t){h({inviteTokenError:(0,ti.P)(t,"We couldn't verify your invitation")})}finally{h({loading:!1})}},k=async t=>{let{callback:i}=t,a=(0,x.Z)(t,eS);try{var s;n.setPasskeysState({loading:!0}),h({loading:!0});let{options:t}=await e.auth.webAuthnPreLogin(a);t.challenge=(0,ee.J)(t.challenge),t.allowCredentials=null==(s=t.allowCredentials)?void 0:s.map(t=>(0,$.Z)({},t,{id:(0,ee.J)(t.id)})),h({error:void 0}),null==i||i(t)}catch(t){h({error:(0,ti.P)(t)}),null==i||i(null)}finally{n.setPasskeysState({loading:!1}),h({loading:!1})}},R=async i=>{let{callback:a}=i,s=(0,x.Z)(i,em);try{var r;n.setPasskeysState({loading:!0}),h({loading:!0});let i=(0,en.z2)(s.publicKey),o=await e.auth.webAuthnPostLoginV2((0,$.Z)({},i,{response:(0,$.Z)({},i.response,{userHandle:null!=(r=i.response.userHandle)?r:void 0}),recaptchaToken:s.recaptchaToken,invitationToken:s.invitationToken})),{user:l}=o,u=(0,x.Z)(o,eb);if((0,tg.AS)(l,t.root.appName)){let{routes:e,onRedirectTo:i}=t.auth,a=await n.getMfaRequiredState(l);n.setAuthState(a),i(e.loginUrl,{preserveQueryParams:!0})}else l.id&&localStorage.setItem("userId",l.id),n.afterAuthenticationStateUpdate((0,$.Z)({user:l},u),{isAuthenticated:!0}),h({error:void 0}),await n.afterAuthNavigation(),null==a||a(!0)}catch(t){h({error:(0,ti.P)(t)}),null==a||a(null)}finally{n.setPasskeysState({loading:!1}),h({loading:!1})}},U=async t=>{let{callback:n}=t;try{h({loading:!0});let{options:t}=await e.auth.webAuthnCreateNewDeviceSession();t.user.id=(0,ee.J)(t.user.id),t.challenge=(0,ee.J)(t.challenge),t.excludeCredentials=[],null==n||n(t)}catch(t){h({error:(0,ti.P)(t)}),null==n||n(null)}finally{h({loading:!1})}},C=async t=>{let{callback:n}=t,i=(0,x.Z)(t,eA);try{h({loading:!0});let t=(0,en.z2)(i.publicKey),a=(null==t?void 0:t.authenticatorAttachment)==="platform"?er.IY.Platform:er.IY.CrossPlatform;await e.auth.verifyNewDeviceSession({id:t.id,response:t.response,deviceType:a}),null==n||n(!0)}catch(t){h({error:(0,ti.P)(t)}),null==n||n(null)}finally{h({loading:!1})}},N=async t=>{let{callback:i}=t;try{let{ip:t}=await e.metadata.getCurrentUserIpMetadata();n.setAuthState({userIp:t}),null==i||i(!0)}catch(t){null==i||i(!1)}},M=async t=>{let{callback:n}=t,i=(0,x.Z)(t,ew);h({loading:!0});try{var a;let t=await e.auth.preEnrollMFAWebAuthnForLogin(i),s=(0,$.Z)({},t.options,{challenge:(0,ee.J)(t.options.challenge),user:(0,$.Z)({},t.options.user,{id:(0,ee.J)(t.options.user.id)}),excludeCredentials:null==(a=t.options.excludeCredentials)?void 0:a.map(t=>(0,$.Z)({},t,{id:(0,ee.J)(t.id)}))});h({loading:!1}),null==n||n({options:s,webauthnToken:t.webauthnToken})}catch(t){h({loading:!1,error:(0,ti.P)(t)}),null==n||n(null)}},j=async t=>{let{callback:n}=t,i=(0,x.Z)(t,eT);h({loading:!0});try{let t=(0,en.z2)(i.publicKey),a=await e.auth.enrollMFAWebAuthnForLoginV2((0,$.Z)({},i,{options:t}));await B(a),h({loading:!1}),null==n||n(!0)}catch(t){h({loading:!1,error:(0,ti.P)(t)}),null==n||n(null)}},F=async t=>{let{callback:n}=t,i=(0,x.Z)(t,eP);h({loading:!0});try{let t=await e.auth.enrollMFAAuthenticatorAppForLoginV2(i);await B(t),h({loading:!1}),null==n||n(!0)}catch(t){h({loading:!1,error:(0,ti.P)(t)}),null==n||n(null)}},Z=async t=>{let{callback:i}=t,a=(0,x.Z)(t,eE);h({loading:!0});try{let t=await e.auth.preEnrollMFASMSForLogin(a);n.setMfaState({otcToken:t.otcToken,step:Y.b.smsVerifyCode,phoneNumber:t.phoneNumber}),h({loading:!1}),null==i||i(!0)}catch(t){h({loading:!1,error:(0,ti.P)(t)}),null==i||i(null)}},G=async t=>{let{callback:n}=t,i=(0,x.Z)(t,eO);h({loading:!0});try{let t=await e.auth.enrollMFASMSForLoginV2(i);await B(t),h({loading:!1}),null==n||n(!0)}catch(t){h({loading:!1,error:(0,ti.P)(t)}),null==n||n(null)}},B=async t=>{let{user:e,tenants:i=[],activeTenant:a}=t,s={step:Y.b.recoveryCode,loading:!1,error:void 0,saving:!1};null!=e&&e.recoveryCode&&(s.recoveryCode=e.recoveryCode),n.setMfaState(s),n.setUser(e),n.setTenantsState({tenants:i,activeTenant:a,loading:!1}),e.id&&localStorage.setItem("userId",e.id)},V=async t=>{h({loading:!0});try{await e.auth.forgotPassword(t),h({loading:!1,error:void 0,step:q.Fh.breachedPasswordSuccess}),n.setAuthState({isAuthenticated:!1})}catch(t){h({loading:!1,error:(0,ti.P)(t)})}},H=async()=>{let{user:a}=t.auth;if(!(null!=a&&a.refreshToken)){i.setAccessToken(null),i.setUser(null),n.setAuthState({user:null,isAuthenticated:!1});return}try{let t={grant_type:"refresh_token",refresh_token:null==a?void 0:a.refreshToken},i=await e.auth.exchangeOAuthTokensV2(t),s=await l(i.user);n.afterAuthenticationStateUpdate((0,$.Z)({},i,{user:s}),{isAuthenticated:!0})}catch(t){i.setAccessToken(null),i.setUser(null),n.setAuthState({user:null,isAuthenticated:!1})}},K=async()=>{try{let{routes:i,loginState:r,onRedirectTo:o}=t.auth,{user:c,tenants:d=[],activeTenant:g}=await e.auth.refreshTokenV3();if((0,tg.AS)(c,t.root.appName)){let t=await n.getMfaRequiredState(c);n.setAuthState(t),o(i.loginUrl,{preserveQueryParams:!0})}else{let t=await l(c);if(await n.__shouldShowPromptPasskeys())n.setLoginState({step:q.Fh.promptPasskeys,loading:!1}),n.afterAuthenticationStateUpdate({user:t,tenants:d,activeTenant:g},{isLoading:!1}),o(i.loginUrl,{preserveQueryParams:!0});else{var a;c.id&&localStorage.setItem("userId",c.id);let e=null!=(a=localStorage.getItem("register-quick-login"))?a:r.quickLoginToRegister,i=s(c);n.afterAuthenticationStateUpdate({user:t,tenants:d,activeTenant:g},{loginState:(0,$.Z)({},r,{quickLoginToRegister:e,flow:i?q.iP.RegisterQuickLogin:q.iP.Login}),isAuthenticated:!0}),await u(i)}}}catch(t){i.setAccessToken(null),i.setUser(null),n.setAuthState({user:void 0,isAuthenticated:!1})}},X=async()=>{t.auth.hostedLoginBox?await H():await K()};return(0,$.Z)({setLoginState:h,resetLoginState:()=>{(0,tn.BW)(t,["auth","loginState"],tJ)},requestAuthorize:p,requestAuthorizeSSR:f,preLogin:m,postLogin:b,login:A,logout:w,silentLogout:T,recoverMfa:P,quickSmsPasswordlessPreLogin:E,changePhoneNumberWithVerification:O,verifyChangePhoneNumber:_,passwordlessPreLogin:I,passwordlessPostLogin:D,verifyInviteToken:L,webAuthnPrelogin:k,webAuthnPostLogin:R,webAuthnCreateNewDeviceSession:U,webAuthnVerifyNewDeviceSession:C,getUserIP:N,preEnrollMFAWebAuthnForLogin:M,enrollMFAWebAuthnForLogin:j,enrollMFAAuthenticatorAppForLogin:F,preEnrollMFASMSForLogin:Z,enrollMFASMSForLogin:G,handleEnrollMFAResponse:B,resetBreachedPassword:V,refreshTokenForSocialLogins:X,__refreshToken:o},el(t,e,n),t0(t,e,n),function(t,e,n){let i=async e=>{let n=t.root.appName;return t1.TP.getFeatureFlags(e,n)},a=async()=>await n.afterStepUpAuthNavigation(),s=async e=>{let a=t.auth.loginState,s=t.auth.mfaState.step,[r]=await i(["security-center-show-login-flows"]);if(a.flow===q.iP.Login){if(r&&a.isBreachedPassword&&!e)n.setLoginState({step:q.Fh.breachedPassword,loading:!1});else{let t=await n.__shouldShowPromptPasskeys();s===Y.b.smsVerifyCode&&t?n.setLoginState({step:q.Fh.promptPasskeys,loading:!1}):await n.afterAuthNavigation()}}},r=async(t,e=!1)=>{let{user:i,tenants:r,activeTenant:o}=t;n.setUser(i),n.setTenantsState({tenants:r,activeTenant:o,loading:!1}),i.id&&localStorage.setItem("userId",i.id);let l=!!i.accessToken;return(n.setAuthState({isAuthenticated:l}),e)?await a():await s(l)};return{postHandleVerifyMFAResponseForStepUp:a,postHandleVerifyMFAResponseForLogin:s,handleVerifyMFAResponse:r,getFeatureFlags:i}}(t,0,n),t2(t,e,n),t4(t,e,n),t8(t,e,n),et(t,e,n),es(t,e,n))};let eI={step:Y.b.verify,loading:!1,saving:!1};var eD=t=>(0,Q.D)(eI,t);let eL=["callback"],ek=["callback"],eR=["user"],eU=["deviceId"],eC=["deviceId"],eN=["callback"],eM=["callback"],ej=["deviceId","callback"];var eF=(t,e,n)=>{async function i(e){let n=t.auth.mfaState.step;return{step:e.recoveryCode?Y.b.recoveryCode:n,loading:!1,saving:!1,error:void 0,recoveryCode:null==e?void 0:e.recoveryCode}}let a=e=>{Object.assign(t.auth.mfaState,e)},s=async()=>{a({loading:!0});try{let t=await e.auth.getMFADevices();a({loading:!1,error:void 0,mfaDevices:t})}catch(t){a({loading:!1,error:(0,ti.P)(t)})}},r=async()=>{a({loading:!0});try{let t=(await e.auth.getMFAStrategiesConfig()).strategies.filter(({isActive:t})=>t).map(({strategy:t})=>t);a({loading:!1,error:void 0,mfaStrategies:t})}catch(t){a({loading:!1,error:(0,ti.P)(t)})}},o=async()=>{a({saving:!0});try{let{qrCode:t}=await e.auth.enrollMfa();a({saving:!1,error:void 0,qrCode:t})}catch(t){a({saving:!1,error:(0,ti.P)(t)})}},l=async s=>{let{callback:r}=s,o=(0,x.Z)(s,eL);a({saving:!0});try{let s=t.auth.user,l=await e.auth.verifyMfa(o),u=await e.auth.getMFADevices(),c=await i(l);a((0,$.Z)({},c,{mfaDevices:u})),n.setUser((0,$.Z)({},s,{mfaEnrolled:!0})),null==r||r(c.recoveryCode)}catch(t){a({saving:!1,error:(0,ti.P)(t)}),null==r||r(null,t)}},u=async t=>{let{callback:i}=t,s=(0,x.Z)(t,ek);a({loading:!0});try{let t=await e.auth.loginWithMfaV2(s),{user:r}=t,o=(0,x.Z)(t,eR),l={step:Y.b.recoveryCode,loading:!1,saving:!1,error:void 0};null!=r&&r.recoveryCode&&(l.recoveryCode=r.recoveryCode),a(l),await n.afterAuthenticationStateUpdate((0,$.Z)({user:r},o)),null==i||i(l.recoveryCode)}catch(t){a({loading:!1,error:(0,ti.P)(t)}),null==i||i(null,t)}},c=async t=>{var n,i;a({saving:!0});try{await e.auth.disableMfa(t);let i=await e.auth.getMFADevices();a({saving:!1,error:void 0,mfaDevices:i}),null==(n=t.callback)||n.call(t,!0)}catch(e){a({saving:!1,error:(0,ti.P)(e)}),null==(i=t.callback)||i.call(t,!1,e)}},d=async t=>{var n,i;let{deviceId:s}=t,r=(0,x.Z)(t,eU);a({saving:!0});try{let t=await e.auth.preDisableMFASMS(s);a({saving:!1,error:void 0,otcToken:t.otcToken,phoneNumber:t.phoneNumber}),null==(n=r.callback)||n.call(r,!0)}catch(t){a({saving:!1,error:(0,ti.P)(t)}),null==(i=r.callback)||i.call(r,!1,t)}},g=async t=>{var n,i;let{deviceId:s}=t,r=(0,x.Z)(t,eC);a({saving:!0});try{await e.auth.disableMFASMS(s,r);let t=await e.auth.getMFADevices();a({saving:!1,error:void 0,mfaDevices:t}),null==(n=r.callback)||n.call(r,!0)}catch(t){a({saving:!1,error:(0,ti.P)(t)}),null==(i=r.callback)||i.call(r,!1,t)}},h=async t=>{var n,i;a({saving:!0});try{let i=await e.auth.preEnrollMFASMS(t);a({saving:!1,error:void 0,otcToken:i.otcToken,phoneNumber:i.phoneNumber}),null==(n=t.callback)||n.call(t,!0)}catch(e){a({saving:!1,error:(0,ti.P)(e)}),null==(i=t.callback)||i.call(t,!1,e)}},p=async t=>{let{callback:n}=t,s=(0,x.Z)(t,eN);a({saving:!0});try{let t=await e.auth.enrollMFASMS(s),r=await e.auth.getMFADevices(),o=await i(t);a((0,$.Z)({},o,{mfaDevices:r})),null==n||n(o.recoveryCode)}catch(t){a({saving:!1,error:(0,ti.P)(t)}),null==n||n(null,t)}},f=async t=>{var n,i,s;a({saving:!0});try{let s=await e.auth.preEnrollMFAWebAuthn(),r=(0,$.Z)({},s.options,{challenge:(0,ee.J)(s.options.challenge),user:(0,$.Z)({},s.options.user,{id:(0,ee.J)(s.options.user.id)}),excludeCredentials:null==(n=s.options.excludeCredentials)?void 0:n.map(t=>(0,$.Z)({},t,{id:(0,ee.J)(t.id)}))});a({saving:!1}),null==(i=t.callback)||i.call(t,{options:r,webauthnToken:s.webauthnToken})}catch(e){a({saving:!1,error:(0,ti.P)(e)}),null==(s=t.callback)||s.call(t,null,e)}},y=async t=>{let{callback:n}=t,s=(0,x.Z)(t,eM);a({saving:!0});try{let t=(0,en.z2)(s.publicKey),r=await e.auth.enrollMFAWebAuthn((0,$.Z)({},s,{options:t})),o=await e.auth.getMFADevices(),l=await i(r);a((0,$.Z)({},l,{mfaDevices:o})),null==n||n(l.recoveryCode)}catch(t){a({saving:!1,error:(0,ti.P)(t)}),null==n||n(null,t)}},v=async t=>{let{deviceId:n,callback:i}=t;a({saving:!0});try{var s;let t=await e.auth.preDisableMFAWebAuthn(n),r=(0,$.Z)({},t.options,{challenge:(0,ee.J)(t.options.challenge),allowCredentials:null==(s=t.options.allowCredentials)?void 0:s.map(t=>(0,$.Z)({},t,{id:(0,ee.J)(t.id)}))});a({saving:!1}),null==i||i({options:r,webauthnToken:t.webauthnToken})}catch(t){a({saving:!1,error:(0,ti.P)(t)}),null==i||i(null,t)}},S=async t=>{let{deviceId:n,callback:i}=t,s=(0,x.Z)(t,ej);a({saving:!0});try{let t=(0,en.z2)(s.publicKey);await e.auth.disableMFAWebAuthn(n,(0,$.Z)({},s,{options:t}));let r=await e.auth.getMFADevices();a({saving:!1,error:void 0,mfaDevices:r}),null==i||i(!0)}catch(t){a({saving:!1,error:(0,ti.P)(t)}),null==i||i(!1,t)}};return{setMfaState:a,resetMfaState:()=>{(0,tn.BW)(t,["auth","mfaState"],eI)},getMFADevices:s,getMFAStrategies:r,enrollMfa:o,verifyMfa:l,verifyMfaAfterForce:u,disableMfa:c,preDisableMfaSms:d,disableMfaSms:g,preEnrollMfaSms:h,enrollMfaSms:p,preEnrollMfaWebAuthn:f,enrollMfaWebAuthn:y,preDisableMfaWebAuthn:v,disableMfaWebAuthn:S,__getMfaStateAfterEnroll:i}},eZ=n(4130),e$=n(8136);let ex={loaders:{},errors:{},accounts:{tenantId:"",children:[]},accountsQueryParams:{_limit:50,_offset:0,_filter:"",_subTenantId:""},searchAccountsData:[],rootAccount:{tenantId:""},selectedAccount:{tenantId:"",userJwt:{accessToken:"",expiresIn:0,expires:""},users:[],usersQueryParams:{_offset:0,_limit:10,_order:eZ.JF.DESC,_sortBy:e$.$q.name},usersPageOffset:0,accountSettings:{}}};var eG=t=>(0,Q.D)(ex,t);let eB=({items:t},e)=>t.map(t=>{var n,i;return{name:t.name,tenantId:t.tenantId,numberOfUsers:null!=(n=null==(i=e.find(e=>e.tenantId===t.tenantId))?void 0:i.totalUsers)?n:0,createdAt:t.createdAt,metadata:t.metadata,isReseller:t.isReseller,subAccountAccessType:t.subAccountAccessType}});function eV(t,e,n){var i,a,s;if(t.tenantId===e){let e=[...null!=(s=null==t?void 0:t.children)?s:[],...n].filter((t,e,n)=>e===n.findIndex(e=>e.tenantId===t.tenantId));return(0,$.Z)({},t,{children:e})}return(0,$.Z)({},t,{children:null!=(i=null==t?void 0:null==(a=t.children)?void 0:a.map(t=>eV(t,e,n)))?i:[]})}function eW(t,e){var n;return(0,$.Z)({},t,{children:null!=(n=t.children)&&n.length?t.children.filter(t=>t.tenantId!==e).map(t=>eW(t,e)):[]})}let eH=(t,e,n)=>{var i,a;return t.tenantId===e?(0,$.Z)({},t,{subAccountAccessType:n}):(0,$.Z)({},t,{children:null!=(i=null==t?void 0:null==(a=t.children)?void 0:a.map(t=>eH(t,e,n)))?i:[]})},eK=(t,e,n)=>{var i,a;return t.tenantId===e?(0,$.Z)({},t,{name:n}):(0,$.Z)({},t,{children:null!=(i=null==t?void 0:null==(a=t.children)?void 0:a.map(t=>eK(t,e,n)))?i:[]})},ez=(t,e,n)=>{var i,a;return t?t.tenantId===e?(0,$.Z)({},t,{isReseller:n}):(0,$.Z)({},t,{children:null!=(i=null==t?void 0:null==(a=t.children)?void 0:a.map(t=>ez(t,e,n)))?i:[]}):{}};var eJ=(t,e,n)=>{let i=e=>{Object.assign(t.auth.allAccountsState,{loaders:(0,$.Z)({},t.auth.allAccountsState.loaders,{[e.key]:e.value})})},a=e=>{Object.assign(t.auth.allAccountsState,{errors:(0,$.Z)({},t.auth.allAccountsState.errors,{[e.key]:e.value}),loaders:(0,$.Z)({},t.auth.allAccountsState.loaders,{[e.key]:!1})})},s=e=>{Object.assign(t.auth.allAccountsState,e)},r=e=>{Object.assign(t.auth.allAccountsState.selectedAccount,e)},o=()=>t.auth.allAccountsState,l=async t=>{let n=c.GET_ACCOUNTS;i({key:n,value:!0});let{accountsQueryParams:l}=o(),{jwt:u,_limit:d,_offset:g}=t,h={_offset:null!=g?g:l._offset,_limit:null!=d?d:l._limit,_subTenantId:null==t?void 0:t._subTenantId};try{var p,f;if(u){let{selectedAccount:n}=o(),{items:i,_links:a}=await e.tenants.searchSubTenants(h,{jwt:u}),s=await e.tenants.getTenantsUsersCount({tenantIds:i.map(t=>t.tenantId)},{jwt:u}),l=eB({items:i},s),c=eV(n.accounts?n.accounts:n,null!=(p=null==t?void 0:t._subTenantId)?p:"",l.map(t=>({name:t.name,tenantId:t.tenantId,numberOfUsers:t.numberOfUsers,createdAt:t.createdAt,metadata:t.metadata,children:[],loadMoreLink:null==a?void 0:a.next,isReseller:t.isReseller})));r({accounts:c})}else{let{accounts:n}=o(),{items:i,_links:a}=await e.tenants.searchSubTenants(h),r=await e.tenants.getTenantsUsersCount({tenantIds:i.map(t=>t.tenantId)}),l=eB({items:i},r),u=eV(n,null!=(f=null==t?void 0:t._subTenantId)?f:"",l.map(t=>({name:t.name,tenantId:t.tenantId,numberOfUsers:t.numberOfUsers,createdAt:t.createdAt,metadata:t.metadata,children:[],loadMoreLink:null==a?void 0:a.next,isReseller:t.isReseller})));s({accounts:u})}}catch(t){a({key:n,value:(0,ti.P)(t)})}finally{i({key:n,value:!1})}},u=async t=>{let{jwt:n}=t,r=c.SEARCH_ACCOUNTS;i({key:r,value:!0});let{rootAccount:l}=o();try{if(null!=t&&t._subTenantId){var u;let{items:i}=await e.tenants.searchSubTenants({_offset:0,_limit:50,_filter:null!=(u=null==t?void 0:t._filter)?u:"",_subTenantId:t._subTenantId},{jwt:n});s({searchAccountsData:[...i,{name:l.name,tenantId:l.tenantId}]})}}catch(t){a({key:r,value:(0,ti.P)(t)})}finally{i({key:r,value:!1})}},d=async t=>{let n=c.UPDATE_SUB_ACCOUNT_ACCESS_FOR_USER;i({key:n,value:!0});let{selectedAccount:s}=o(),{userId:l,allowAccess:u,jwt:d,callback:g}=t;try{var h;await e.subTenants.updateSubAccountAccess(l,{allowAccess:u},{jwt:d}),r({users:null==s?void 0:null==(h=s.users)?void 0:h.map(t=>t.id===l?(0,$.Z)({},t,{subAccountAccessAllowed:u}):t)}),null==g||g(!0)}catch(t){a({key:n,value:(0,ti.P)(t)}),null==g||g(!1)}finally{i({key:n,value:!1})}},g=async t=>{let n=c.CREATE_SUB_ACCOUNT;i({key:n,value:!0});let{name:l,parentTenantId:u,tenantId:d,jwt:g,callback:h}=t;try{if(g){let{accounts:t,selectedAccount:n}=o(),i=await e.subTenants.createSubTenant({name:l,parentTenantId:u,tenantId:d},{jwt:g}),a=eV(t,null!=u?u:"",[{name:i.name,tenantId:i.tenantId,numberOfUsers:0,createdAt:new Date}]),c=eV((0,$.Z)({name:"",tenantId:""},null==n?void 0:n.accounts),null!=u?u:"",[{name:i.name,tenantId:i.tenantId,numberOfUsers:0,createdAt:new Date}]);s({accounts:a}),r({accounts:c})}else{let{accounts:t}=o(),n=await e.subTenants.createSubTenant({name:l,tenantId:d,parentTenantId:u}),i=eV(t,null!=u?u:"",[{name:n.name,tenantId:n.tenantId,numberOfUsers:0,createdAt:new Date}]);s({accounts:i})}null==h||h(!0)}catch(t){a({key:n,value:(0,ti.P)(t)}),null==h||h(!1)}finally{i({key:n,value:!1})}},h=async t=>{let n=c.DELETE_SUB_ACCOUNT;i({key:n,value:!0});let{jwt:l,tenantId:u,callback:d}=t;try{if(l){let{selectedAccount:t,accounts:n}=o();await e.subTenants.deleteSubTenant(u,{jwt:l});let i=eW(n,u),a=eW(t.accounts,u);s({accounts:i}),r({accounts:a})}else{let{accounts:t}=o();await e.subTenants.deleteSubTenant(u);let n=eW(t,u);s({accounts:n})}null==d||d(!0)}catch(t){a({key:n,value:(0,ti.P)(t)}),null==d||d(!1)}finally{i({key:n,value:!1})}},p=async t=>{let n=c.UPDATE_SUB_ACCOUNT_HIERARCHY_SETTINGS;i({key:n,value:!0});let{jwt:l,callback:u,tenantId:d,subAccountAccessType:g}=t;if(g)try{if(l){let{selectedAccount:t,accounts:n}=o();await e.subTenants.updateSubTenantHierarchySettings({tenantId:d},{subAccountAccessType:g},{jwt:l});let i=eH(t.accounts,d,g);r({subAccountAccessType:g,accounts:i});let a=eH(n,d,g);s({accounts:a})}else{let{accounts:t}=o();await e.subTenants.updateSubTenantHierarchySettings({tenantId:d},{subAccountAccessType:g});let n=eH(t,d,g);s({accounts:n})}null==u||u(!0)}catch(t){a({key:n,value:(0,ti.P)(t)}),null==u||u(!1)}finally{i({key:n,value:!1})}},f=async t=>{let n=c.UPDATE_SUB_ACCOUNT_HIERARCHY_SETTINGS;i({key:n,value:!0});let{jwt:l,name:u,callback:d,tenantId:g}=t;try{if(l){let{selectedAccount:t,accounts:n}=o();await e.subTenants.updateSubTenant({tenantId:g},{name:u},{jwt:l});let i=eK(t.accounts,g,u);r({name:u,accounts:i});let a=eK(n,g,u);s({accounts:a})}else{let{accounts:t}=o();await e.subTenants.updateSubTenant({tenantId:g},{name:u});let n=eK(t,g,u);s({accounts:n})}null==d||d(!0)}catch(t){a({key:n,value:(0,ti.P)(t)}),null==d||d(!1)}finally{i({key:n,value:!1})}},y=async o=>{let l=c.UPDATE_SUB_ACCOUNT_MANAGEMENT;n.setAllAccountsLoader({key:l,value:!0});let{jwt:u,isReseller:d,callback:g,tenantId:h,shouldUpdateSelectedAccount:p}=o,f=!!u;try{if(p){let{selectedAccount:n,accounts:i}=t.auth.allAccountsState;await e.subTenants.updateSubTenantManagement({tenantId:h},{isReseller:d},u?{jwt:u}:void 0);let a=ez(n.accounts,h,null!=d&&d);r({accounts:a}),f||r({isReseller:d});let o=ez(i,h,null!=d&&d);s({accounts:o})}else{let{accounts:n}=t.auth.allAccountsState;e.subTenants.updateSubTenantManagement({tenantId:h},{isReseller:d},u?{jwt:u}:void 0);let i=ez(n,h,null!=d&&d);s({accounts:i})}null==g||g(!0)}catch(t){a({key:l,value:(0,ti.P)(t)}),null==g||g(!1)}finally{i({key:l,value:!1})}},v=async t=>{let{users:n,tenantId:s,jwt:r,callback:o,allowSubAccountAccess:l=!1,roleIds:u}=t,d=c.ADD_USERS_TO_ACCOUNT;try{i({key:d,value:!0}),await e.subTenants.addUsersToSubTenant({users:n,tenantId:s,allowSubAccountAccess:l,roleIds:u},{jwt:r}),await S({jwt:r,_tenantId:s}),null==o||o(!0)}catch(t){a({key:d,value:(0,ti.P)(t)}),null==o||o(!1)}finally{i({key:d,value:!1})}},S=async t=>{var n,s,l,u,d,g,h,p;let{jwt:f,_tenantId:y,_email:v}=t,S=c.GET_ACCOUNT_USERS;i({key:S,value:!0});let m=o(),b=null!=(n=null!=(s=null==t?void 0:t._offset)?s:null==m?void 0:null==(l=m.selectedAccount)?void 0:null==(u=l.usersQueryParams)?void 0:u._offset)?n:0,A=null!=(d=null!=(g=null==t?void 0:t._limit)?g:null==m?void 0:null==(h=m.selectedAccount)?void 0:null==(p=h.usersQueryParams)?void 0:p._limit)?d:10,w=(0,$.Z)({_offset:b,_limit:A,_tenantId:y,_includeSubTenants:!1},!!v&&{_email:v});try{let{items:t,_metadata:{totalItems:n,totalPages:i}}=await e.users.getUsersV3(w,{jwt:f}),a={totalUsersItems:n,totalUsersPages:i,usersQueryParams:(0,$.Z)({_offset:null!=b?b:0,_limit:null!=A?A:10},!!v&&{_email:v})};if(t.length){let n=t.map(t=>t.id),i=await e.roles.getRoles(),s=await e.users.getUsersRoles({ids:n},{jwt:f}),o=t.map(t=>{var e,n;let a=null==s?void 0:null==(e=s.find(e=>e.userId===t.id))?void 0:e.roleIds;return(0,$.Z)({},t,{roles:null!=(n=null==a?void 0:a.map(t=>{var e;return null!=(e=null==i?void 0:i.find(e=>e.id===t))?e:[]}))?n:[]})});r((0,$.Z)({users:o},a))}else r((0,$.Z)({users:[]},a))}catch(t){a({key:S,value:(0,ti.P)(t)})}finally{i({key:S,value:!1})}},m=async t=>{let n=c.DELETE_USERS_FROM_ACCOUNT;i({key:n,value:!0});let{userId:s,subTenants:r,jwt:o,callback:l}=t;try{await e.subTenants.removeUserFromTenantAndSubTenants({userId:s,subTenants:r},{jwt:o}),await S({jwt:o,_tenantId:r[0].tenantId}),null==l||l(!0)}catch(t){a({key:n,value:(0,ti.P)(t)}),null==l||l(!1)}finally{i({key:n,value:!1})}},b=async t=>{let{userId:n,subTenantsRoles:s,jwt:r,callback:l}=t,u=c.SET_USER_ROLES_FOR_SUB_ACCOUNT;try{i({key:u,value:!0});let{selectedAccount:t}=o();await e.subTenants.setUserRolesForSubTenants(n,{subTenantsRoles:s},{jwt:r}),await S({jwt:r,_tenantId:t.tenantId}),null==l||l(!0)}catch(t){a({key:u,value:(0,ti.P)(t)}),null==l||l(!1)}finally{i({key:u,value:!1})}},A=async t=>{let{tenantId:n,callback:s}=t,o=c.GET_USER_JWT;try{i({key:o,value:!0});let t=await e.users.GetUserJwt({tenantId:n});r({userJwt:t,accessPermission:!0}),null==s||s(!0)}catch(t){a({key:o,value:(0,ti.P)(t)}),r({accessPermission:!1}),null==s||s(!1)}finally{i({key:o,value:!1})}},w=async()=>{let n=c.SET_ROOT_ACCOUNT_DATA;i({key:n,value:!0});let{activeTenant:r}=t.auth.tenantsState,{accounts:l}=o();if(r)try{var u;let t=await e.tenants.getTenantsUsersCount({tenantIds:[null==r?void 0:r.tenantId]}),n={name:null==r?void 0:r.name,tenantId:null==r?void 0:r.tenantId,numberOfUsers:null==(u=t[0])?void 0:u.totalUsers,createdAt:null==r?void 0:r.createdAt};s({rootAccount:n,accounts:(0,$.Z)({},l,n)})}catch(t){a({key:n,value:(0,ti.P)(t)})}finally{i({key:n,value:!1})}},T=async t=>{let{jwt:n}=t,s=c.SET_SELECTED_SUB_ACCOUNT_DATA;try{var o,l,u,d,g,h,p;i({key:s,value:!0});let t=await e.accountSettings.getSettings({jwt:n}),[a,c,f]=await Promise.all([e.tenants.getTenantsUsersCount({tenantIds:[null!=(o=null==t?void 0:t.tenantId)?o:""]},{jwt:n}),e.tenants.getParentTenants({jwt:n}),e.tenants.getHierarchyMetadata({_tenantIds:[null!=(l=null==t?void 0:t.tenantId)?l:""]},{jwt:n})]);r({tenantId:null!=(u=t.tenantId)?u:"",name:t.name,numberOfUsersObject:a[0],parentsAccounts:c,numberOfSubAccounts:null==(d=f[0])?void 0:d.totalSubTenants,accountSettings:t,accounts:{name:t.name,tenantId:null!=(g=t.tenantId)?g:"",numberOfUsers:null==(h=a[0])?void 0:h.totalUsers,createdAt:void 0,children:[]}}),await S({jwt:n,_tenantId:null!=(p=null==t?void 0:t.tenantId)?p:""})}catch(t){a({key:s,value:(0,ti.P)(t)})}finally{i({key:s,value:!1})}},P=async t=>{let{tenantId:n,jwt:s}=t,o=c.LOAD_NUMBER_OF_USERS_FOR_ACCOUNT;try{i({key:o,value:!0});let t=await e.tenants.getTenantsUsersCount({tenantIds:[n]},{jwt:s});r({numberOfUsersObject:t[0]})}catch(t){a({key:o,value:(0,ti.P)(t)})}finally{i({key:o,value:!1})}};return{setAllAccountsLoader:i,setAllAccountsError:a,setAllAccountsState:s,setSelectedAccountState:r,resetAllAccountsState:()=>{(0,tn.BW)(t,["auth","allAccountsState"],ex)},clearSelectedAccount:()=>{(0,tn.BW)(t,["auth","allAccountsState","selectedAccount"],ex.selectedAccount)},loadAccounts:l,searchAccounts:u,updateSubAccountAccessForUser:d,createSubAccount:g,updateSubAccount:async t=>{},deleteSubAccount:h,updateSubAccountSettings:f,updateSubAccountManagement:y,updateSubAccountHierarchySettings:p,addUsersToAccount:v,getAccountUsers:S,deleteUsersFromAccount:m,setUserRolesForSubAccount:b,getUserJwtForSubAccount:A,setRootAccountData:w,setSelectedSubAccountData:T,loadNumberOfUsersForSelectedSubAccount:P}};let eq={createSubAccountDialog:{loading:!1,open:!1,error:!1,jwt:"",canSelectParentAccount:!1},updateSubAccountDialog:{accountId:"",accountName:"",loading:!1,open:!1,error:!1,jwt:""},disableSubAccountManagementDialog:{accountId:"",accountName:"",loading:!1,open:!1,error:!1},enableSubAccountManagementDialog:{accountId:"",accountName:"",loading:!1,open:!1,error:!1},updateSubAccountHierarchySettingsDialog:{accountId:"",accountName:"",subAccountAccessType:n(1863).V.DEFAULT_OFF,loading:!1,open:!1,error:!1},deleteSubAccountDialog:{accountId:"",accountName:"",isParentAccount:!1,loading:!1,open:!1,error:!1,jwt:""},addUsersToAccountDialog:{loading:!1,open:!1,accountName:"",accountId:"",permissionToGiveAccessToSubAccounts:!1,jwt:""},deleteUserFromAccountDialog:{userId:"",userName:"",accountId:"",loading:!1,open:!1,jwt:""},editUserRolesDialog:{loading:!1,open:!1,jwt:"",accountId:"",userId:"",userName:"",userRoles:[]}};var eY=t=>(0,Q.D)(eq,t),eX=(t,e,n)=>({setAllAccountDialogsState:e=>{Object.assign(t.auth.allAccountsDialogsState,e)},resetAllAccountDialogsState:()=>{(0,tn.BW)(t,["auth","allAccountsDialogsState"],eq)},openCreateSubAccountDialog:e=>{Object.assign(t.auth.allAccountsDialogsState.createSubAccountDialog,(0,$.Z)({},e,{open:!0}))},closeCreateSubAccountDialog:()=>{(0,tn.BW)(t,["auth","allAccountsDialogsState","createSubAccountDialog"],eq.createSubAccountDialog)},openUpdateSubAccountDialog:e=>{Object.assign(t.auth.allAccountsDialogsState.updateSubAccountDialog,(0,$.Z)({},e,{open:!0}))},closeUpdateSubAccountDialog:()=>{(0,tn.BW)(t,["auth","allAccountsDialogsState","updateSubAccountDialog"],eq.updateSubAccountDialog)},openEnableSubAccountManagementDialog:e=>{Object.assign(t.auth.allAccountsDialogsState.enableSubAccountManagementDialog,(0,$.Z)({},e,{open:!0}))},closeEnableSubAccountManagementDialog:()=>{(0,tn.BW)(t,["auth","allAccountsDialogsState","enableSubAccountManagementDialog"],eq.enableSubAccountManagementDialog)},openUpdateSubAccountHierarchySettingsDialog:e=>{Object.assign(t.auth.allAccountsDialogsState.updateSubAccountHierarchySettingsDialog,(0,$.Z)({},e,{open:!0}))},closeUpdateSubAccountHierarchySettingsDialog:()=>{(0,tn.BW)(t,["auth","allAccountsDialogsState","updateSubAccountHierarchySettingsDialog"],eq.updateSubAccountHierarchySettingsDialog)},openDisableSubAccountManagementDialog:e=>{Object.assign(t.auth.allAccountsDialogsState.disableSubAccountManagementDialog,(0,$.Z)({},e,{open:!0}))},closeDisableSubAccountManagementDialog:()=>{(0,tn.BW)(t,["auth","allAccountsDialogsState","disableSubAccountManagementDialog"],eq.disableSubAccountManagementDialog)},openDeleteSubAccountDialog:e=>{Object.assign(t.auth.allAccountsDialogsState.deleteSubAccountDialog,(0,$.Z)({},e,{open:!0}))},closeDeleteSubAccountDialog:()=>{(0,tn.BW)(t,["auth","allAccountsDialogsState","deleteSubAccountDialog"],eq.deleteSubAccountDialog)},openAddUsersToAccountDialog:e=>{Object.assign(t.auth.allAccountsDialogsState.addUsersToAccountDialog,(0,$.Z)({},e,{open:!0}))},closeAddUsersToAccountDialog:()=>{(0,tn.BW)(t,["auth","allAccountsDialogsState","addUsersToAccountDialog"],eq.addUsersToAccountDialog)},openDeleteUserFromAccountDialog:e=>{Object.assign(t.auth.allAccountsDialogsState.deleteUserFromAccountDialog,(0,$.Z)({},e,{open:!0}))},closeDeleteUserFromAccountDialog:()=>{(0,tn.BW)(t,["auth","allAccountsDialogsState","deleteUserFromAccountDialog"],eq.deleteUserFromAccountDialog)},openEditUserRolesDialog:e=>{Object.assign(t.auth.allAccountsDialogsState.editUserRolesDialog,(0,$.Z)({},e,{open:!0}))},closeEditUserRolesDialog:()=>{(0,tn.BW)(t,["auth","allAccountsDialogsState","editUserRolesDialog"],eq.editUserRolesDialog)}});let eQ={devices:[],loading:!1,error:null};var e0=t=>(0,Q.D)(eQ,t),e1=(t,e,n)=>{let i=e=>{Object.assign(t.auth.passkeysState,e)},a=async()=>{i({loading:!0});try{let{devices:t}=await e.auth.getWebAuthnDevices();i({devices:t,loading:!1})}catch(t){i({loading:!1,error:(0,ti.P)(t,null)})}},s=async n=>{let{callback:a,deviceId:s}=n;i({loading:!0});try{await e.auth.deleteWebAuthnDevice(s);let n=t.auth.passkeysState.devices.filter(t=>t.id!==s);i({devices:n,loading:!1}),null==a||a(!0)}catch(t){i({loading:!1,error:(0,ti.P)(t,null)}),null==a||a(null,t)}};async function r(t){var e;return!!(null!=t&&null!=(e=t.secondaryAuthStrategies)&&e.some(({isActive:t,strategy:e})=>t&&e===er._g.Passkeys))}async function o(){let{publicAuthStrategyPolicy:a}=t.auth.securityPolicyState,{policy:s}=a,o=await r(s),l="Passkeys"===localStorage.getItem("preferred-login-method"),u="true"===localStorage.getItem("dont-show-again-prompt-passkeys"),[c]=await n.getFeatureFlags(["show-passkeys-new"]);if(!c||!o||l||u)return!1;{let{devices:t}=await e.auth.getWebAuthnDevices();return i({devices:null!=t?t:[]}),0===(null!=t&&t.length?t.length:0)}}return{setPasskeysState:i,resetPasskeysState:()=>{(0,tn.BW)(t,["auth","passkeysState"],eQ)},loadWebAuthnDevices:a,deleteWebAuthnDevice:s,__shouldShowPromptPasskeys:o}};let e2={loading:!1,error:null};var e5=t=>(0,Q.D)(e2,t);let e4=["callback","profilePictureUrl"];var e3=(t,e,n)=>{let i=e=>{Object.assign(t.auth.profileState,e)},a=async()=>{i({loading:!0});try{let a=await (0,tn.XD)(e.teams.getProfile,3,2e3),s=t.auth.user;n.setUser((0,$.Z)({},s,a)),i({profile:a,loading:!1})}catch(t){i({loading:!1,error:(0,ti.P)(t)})}},s=async a=>{let{callback:s,profilePictureUrl:r}=a,o=(0,x.Z)(a,e4);i({saving:!0,error:null,loading:!0});try{var l;let i=null!=(l=t.auth.profileState.profile)?l:{},a=i.profilePictureUrl;if(r!==i.profilePictureUrl&&r&&(r||"").match(/^data:image\/([A-Za-z-+\/]+);base64,(.+)$/)){let t=(0,en.y5)(r,"image");if(t){a=await e.teams.updateProfileImage(t);let n=Date.now().toString(),i=new URL(a);i.searchParams.set("t",n),a=i.href}}let u=(0,$.Z)({},i,o,{profilePictureUrl:a}),c=await e.users.updateUserProfileV2(u),d=t.auth.user;n.setUser((0,$.Z)({},d,c)),n.setProfileState({profile:c,saving:!1,loading:!1}),null==s||s(u)}catch(t){i({saving:!1,error:(0,ti.P)(t),loading:!1}),null==s||s(null,t)}},r=async t=>{var n,a;i({loading:!0});try{await e.teams.changePassword(t),i({loading:!1,error:void 0}),null==(n=t.callback)||n.call(t,!0)}catch(e){i({loading:!1,error:(0,ti.P)(e)}),null==(a=t.callback)||a.call(t,null,e)}};return{setProfileState:i,resetProfileState:()=>{(0,tn.BW)(t,["auth","profileState"],e2)},loadProfile:a,saveProfile:s,changePassword:r}};let e6={loading:!1};var e8=t=>(0,Q.D)(e6,t);let e9=["callback"],e7=["id"];var nt=(t,e,n)=>{let i=e=>{Object.assign(t.auth.provisioningState,e)},a=async t=>{let{count:n}=await e.directory.countConfigurationUsers(t.id);return(0,$.Z)({},t,{count:n})},s=async()=>{i({loading:!0,error:null});try{let t=await e.directory.getConfigs(),n=await Promise.all(t.map(t=>a(t)));i({connections:n,loading:!1})}catch(t){i({error:(0,ti.P)(t),loading:!1})}},r=async t=>{let{callback:n}=t,s=(0,x.Z)(t,e9);i({loading:!0,error:null});try{let t=await e.directory.createConfiguration(s),r=await e.directory.getConfigs(),o=await Promise.all(r.map(t=>a(t)));i({connections:o,loading:!1}),null==n||n(t)}catch(t){i({error:(0,ti.P)(t),loading:!1})}},o=async t=>{let{id:n,callback:s}=t;i({loading:!0,error:null});try{await e.directory.deleteConfiguration(n);let t=await e.directory.getConfigs(),r=await Promise.all(t.map(t=>a(t)));i({connections:r,loading:!1}),null==s||s(!0)}catch(t){i({error:(0,ti.P)(t),loading:!1}),null==s||s(!1,t)}},l=async t=>{let{id:n}=t,s=(0,x.Z)(t,e7);i({loading:!0,error:null});try{await e.directory.updateConfiguration(n,s);let t=await e.directory.getConfigs(),r=await Promise.all(t.map(t=>a(t)));i({connections:r,loading:!1})}catch(t){i({error:(0,ti.P)(t),loading:!1})}};return{setProvisioningState:i,resetProvisioningState:()=>{(0,tn.BW)(t,["auth","provisioningState"],e6)},__loadCountForConnection:a,loadProvisionConnections:s,createProvisionConnection:r,deleteProvisionConnection:o,updateProvisionConnection:l}};let ne={step:d.ResetPhoneNumber,loading:!1};var nn=t=>(0,Q.D)(ne,t);let ni=["callback"],na=["callback"],ns=["callback"];var nr=(t,e,n)=>{let i=e=>{Object.assign(t.auth.resetPhoneNumberState,e)},a=async t=>{let{callback:a}=t,s=(0,x.Z)(t,ni);i({loading:!0});try{let t=await e.auth.resetPhoneNumber(s);i({loading:!1,error:void 0,resetPhoneNumberToken:t.resetPhoneNumberToken,step:d.VerifyResetPhoneNumber}),n.setLoginState({email:s.email})}catch(t){i({loading:!1,error:(0,ti.P)(t)}),null==a||a(null,t)}},s=async t=>{let{callback:n}=t,a=(0,x.Z)(t,na);i({loading:!0});try{let t=await e.auth.verifyResetPhoneNumber(a);i({loading:!1,error:void 0,changePhoneNumberToken:t.changePhoneNumberToken,step:d.ChangePhoneNumber}),null==n||n(!0)}catch(t){i({loading:!1,error:(0,ti.P)(t)}),null==n||n(null,t)}},r=async a=>{let{callback:s}=a,r=(0,x.Z)(a,ns);i({loading:!0});try{let{onRedirectTo:a,routes:o}=t.auth;await e.auth.changePhoneNumber({phoneNumber:r.phoneNumber,changePhoneNumberToken:r.changePhoneNumberToken}),n.setLoginState({step:q.Fh.loginWithSmsOtc}),await n.passwordlessPreLogin({type:z.lw.SmsCode,email:r.email,recaptchaToken:r.recaptchaToken}),a(o.loginUrl),i({loading:!1}),null==s||s(!0)}catch(t){i({loading:!1,error:(0,ti.P)(t)}),null==s||s(null,t)}};return{setResetPhoneNumberState:i,resetResetPhoneNumberState:()=>{(0,tn.BW)(t,["auth","resetPhoneNumberState"],ne)},resetPhoneNumber:a,verifyResetPhoneNumber:s,changePhoneNumber:r}};let no={loaders:{},errors:{},roles:[],permissions:[],permissionCategories:[]};var nl=t=>(0,Q.D)(no,t);let nu=["callback"],nc=["callback"],nd=["callback"],ng=["callback"],nh=["callback"],np=["callback"];var nf=(t,e,n)=>{let i=e=>{Object.assign(t.auth.rolesState,e)},a=e=>{Object.assign(t.auth.rolesState,{loaders:(0,$.Z)({},t.auth.rolesState.loaders,{[e.key]:e.value})})},s=e=>{Object.assign(t.auth.rolesState,{errors:(0,$.Z)({},t.auth.rolesState.errors,{[e.key]:e.value}),loaders:(0,$.Z)({},t.auth.rolesState.loaders,{[e.key]:!1})})},r=async n=>{var r;let o=g.LOAD_ROLES;a({key:o,value:!(null!=(r=null==n?void 0:n.silentLoading)&&r)});try{let[n,a,s]=await Promise.all([e.roles.getRoles(),e.roles.getPermissions(),e.roles.getPermissionCategories()]),{selectedRole:r}=t.auth.rolesState,o=null==n?void 0:n.find(({id:t})=>(null==r?void 0:r.id)===t);i({roles:n,permissions:a,permissionCategories:s,selectedRole:o})}catch(t){s({key:o,value:(0,ti.P)(t)})}finally{a({key:o,value:!1})}},o=async t=>{let{callback:n}=t,i=(0,x.Z)(t,nu),o=g.ADD_ROLE;a({key:o,value:!0});try{let t=await e.roles.addRole(i);await r({silentLoading:!0}),null==n||n(t)}catch(t){s({key:o,value:(0,ti.P)(t)}),null==n||n(null,t)}finally{a({key:o,value:!1})}},l=async t=>{let{callback:n}=t,i=(0,x.Z)(t,nc),o=g.ADD_ROLE;a({key:o,value:!0});try{let t=await e.roles.addRoleV2(i);await r({silentLoading:!0}),null==n||n(t)}catch(t){s({key:o,value:(0,ti.P)(t)}),null==n||n(null,t)}finally{a({key:o,value:!1})}},u=async t=>{let{callback:n}=t,o=(0,x.Z)(t,nd),l=g.EDIT_ROLE_DIALOG;a({key:l,value:!0});try{let t=await e.roles.updateRole(o);await r({silentLoading:!0}),i({saving:!1}),null==n||n(t)}catch(t){s({key:l,value:(0,ti.P)(t)}),null==n||n(null,t)}finally{a({key:l,value:!1})}},c=async t=>{let{callback:n}=t,o=(0,x.Z)(t,ng),l=g.DELETE_ROLE_DIALOG;a({key:l,value:!0});try{await e.roles.deleteRole(o),await r({silentLoading:!0}),i({saving:!1}),null==n||n(!0)}catch(t){s({key:l,value:(0,ti.P)(t)}),null==n||n(!1,t)}finally{a({key:l,value:!1})}},d=async t=>{let{callback:n}=t,o=(0,x.Z)(t,nh),l=g.MANAGE_PERMISSIONS;a({key:l,value:!0});try{let t=await e.roles.attachPermissionsToRole(o);await r({silentLoading:!0}),i({saving:!1}),null==n||n(t)}catch(t){s({key:l,value:(0,ti.P)(t)}),null==n||n(null,t)}finally{a({key:l,value:!1})}},h=async t=>{let{callback:e}=t,n=(0,x.Z)(t,np),i=g.MANAGE_PERMISSIONS;a({key:i,value:!0});try{await Promise.all(n.roleIds.map(t=>d({roleId:t,permissionIds:[n.permissionId]}))),await r({silentLoading:!0}),null==e||e(!0)}catch(t){s({key:i,value:(0,ti.P)(t)}),null==e||e(null,t)}finally{a({key:i,value:!1})}};return{setRolesState:i,setRolesStateLoader:a,setRolesStateError:s,resetRolesState:()=>{(0,tn.BW)(t,["auth","rolesState"],no)},loadRolesAndPermissions:r,addRole:o,addRoleV2:l,updateRole:u,deleteRole:c,attachPermissionsToRole:d,attachPermissionToRoles:h}},ny=n(7644);let nv={ipRestrictions:{loading:!1,pagination:{_offset:0,_limit:4,_filter:ny.c.ALLOW},totalPages:1,userIpValid:!1},emailDomainRestrictions:{loading:!0}};var nS=t=>(0,Q.D)(nv,t);let nm=["callback"],nb=["callback"],nA=["callback"],nw=["callback"];var nT=(t,e,n)=>{let i=t=>{var e,n,i;return{_filter:null!=(e=null==t?void 0:t._filter)?e:ny.c.ALLOW,_limit:null!=(n=null==t?void 0:t._limit)?n:10,_offset:null!=(i=null==t?void 0:t._offset)?i:0}},a=t=>async(...e)=>{let[i]=await n.getFeatureFlags(["security-center-admin-portal-major-version"]);await t(...e),i&&(await n.loadRecommendations(),await n.loadInsights())},s=e=>{Object.assign(t.auth.restrictionsState.ipRestrictions,e)},r=e=>{Object.assign(t.auth.restrictionsState.emailDomainRestrictions,e)},o=async n=>{let{callback:a}=n,r=(0,x.Z)(n,nm);s({saving:!0,error:null});try{var o,l;await e.auth.createIPRestriction(r);let n=t.auth.restrictionsState.ipRestrictions,u=i(n.pagination),{items:d,_metadata:{totalPages:g}}=await e.auth.getIPRestrictions(u);await c(),s({data:{config:null!=(o=null==(l=n.data)?void 0:l.config)?o:{isActive:!1,strategy:ny.c.ALLOW},restrictions:d},pagination:u,totalPages:g,saving:!1}),null==a||a(!0)}catch(t){s({saving:!1,error:(0,ti.P)(t)}),null==a||a(null,t)}},l=async n=>{let{callback:a}=n,r=(0,x.Z)(n,nb);s({saving:!0,error:null});try{await e.auth.updateIPRestrictionConfig(r);let n=t.auth.restrictionsState.ipRestrictions,o=await e.auth.getIPRestrictionsConfig(),l=i((0,$.Z)({},n.pagination,{_filter:o.strategy})),{items:u,_metadata:{totalPages:d}}=await e.auth.getIPRestrictions(l);await c(),s({data:{config:o,restrictions:u},pagination:l,totalPages:d,saving:!1}),null==a||a(!0)}catch(t){s({saving:!1,error:(0,ti.P)(t)}),null==a||a(null,t)}},u=async n=>{let{id:a,callback:r}=n;s({saving:!0,error:null});try{var o;await e.auth.deleteIPRestriction(a);let n=t.auth.restrictionsState.ipRestrictions,l=i(n.pagination),{items:u,_metadata:{totalPages:d}}=await e.auth.getIPRestrictions(l);await c(),s({data:{config:(null==(o=n.data)?void 0:o.config)||{isActive:!1,strategy:ny.c.ALLOW},restrictions:u},pagination:l,totalPages:d,saving:!1}),null==r||r(!0)}catch(t){s({saving:!1,error:(0,ti.P)(t)}),null==r||r(null,t)}},c=async()=>{try{let{valid:t}=await e.auth.testCurrentIpInAllowList();s({userIpValid:t})}catch(t){s({error:(0,ti.P)(t)})}},d=async n=>{let{callback:a}=n;s({saving:!0,error:null});try{var r;let n=null!=(r=t.auth.userIp)?r:"";await Promise.all([e.auth.createIPRestriction({ip:n,isActive:!0,description:"My IP",strategy:ny.c.ALLOW}),e.auth.updateIPRestrictionConfig({isActive:!0})]);let o=t.auth.restrictionsState.ipRestrictions,l=i(o.pagination),{items:u,_metadata:{totalPages:c}}=await e.auth.getIPRestrictions(l);s({data:{config:{isActive:!0,strategy:ny.c.ALLOW},restrictions:u},userIpValid:!0,pagination:l,totalPages:c,saving:!1}),null==a||a(!0)}catch(t){s({saving:!1,error:t}),null==a||a(!1,t)}},g=async()=>{r({loading:!0,error:null});try{let t=await e.auth.getDomainRestrictionsConfig(),n=(await e.auth.getDomainRestrictions()).items.filter(e=>e.type===t.listType);r({data:{restrictions:n,config:t},loading:!1})}catch(t){r({error:(0,ti.P)(t),loading:!1})}},h=async n=>{let{callback:i}=n,a=(0,x.Z)(n,nA);r({saving:!0,error:null});let s=t.auth.restrictionsState.emailDomainRestrictions;try{var o;await e.auth.createDomainRestriction(a);let t=(await e.auth.getDomainRestrictions()).items.filter(t=>{var e;return t.type===(null==(e=s.data)?void 0:e.config.listType)});r({data:{config:(null==(o=s.data)?void 0:o.config)||{active:!1,blockPublicDomains:!1,listType:a.type},restrictions:t},saving:!1}),null==i||i(!0)}catch(t){r({saving:!1,error:(0,ti.P)(t)}),null==i||i(null,t)}},p=async t=>{let{callback:n}=t,i=(0,x.Z)(t,nw);r({saving:!0,error:null});try{let t=await e.auth.updateDomainRestrictionConfig(i),a=(await e.auth.getDomainRestrictions()).items.filter(e=>e.type===t.listType);r({data:{config:t,restrictions:a},saving:!1}),null==n||n(!0)}catch(t){r({saving:!1,error:(0,ti.P)(t)}),null==n||n(null,t)}},f=async n=>{let{id:i}=n;r({saving:!0,error:null});let a=t.auth.restrictionsState.emailDomainRestrictions;try{var s;await e.auth.deleteDomainRestriction(i);let t=(await e.auth.getDomainRestrictions()).items.filter(t=>{var e;return t.type===(null==(e=a.data)?void 0:e.config.listType)});r({data:{config:(null==(s=a.data)?void 0:s.config)||{active:!1,blockPublicDomains:!1,listType:ny.c.ALLOW},restrictions:t},saving:!1})}catch(t){r({saving:!1,error:(0,ti.P)(t)})}},y=a(async()=>{s({loading:!0,error:null});try{let n=t.auth.restrictionsState.ipRestrictions,a=await e.auth.getIPRestrictionsConfig(),r=i({_filter:a.strategy,_limit:n.pagination._limit,_offset:n.pagination._offset}),{items:o,_metadata:{totalPages:l}}=await e.auth.getIPRestrictions(r);s({data:{restrictions:o,config:a},totalPages:l,pagination:r,loading:!1})}catch(t){s({error:(0,ti.P)(t),loading:!1})}}),v=a(o),S=a(l),m=a(u),b=a(c),A=a(d),w=a(g),T=a(h),P=a(p),E=a(f);return{setRestrictionsState:e=>{Object.assign(t.auth.restrictionsState,e)},setIpRestrictionsState:s,setEmailDomainRestrictionsState:r,__securityCenterSagaWrapper:a,loadIpRestrictions:y,saveIpRestriction:v,saveIpRestrictionsConfig:S,deleteIpRestriction:m,checkIfUserIpValid:b,addCurrentUserIpAndActivate:A,loadEmailDomainRestrictions:w,saveEmailDomainRestriction:T,saveEmailDomainRestrictionsConfig:P,deleteEmailDomainRestriction:E}};let nP={loaders:{},errors:{},recommendations:void 0,insights:void 0,score:0,breachedPasswordUsersTable:{users:[],usersPageOffset:0,totalUsersItems:0,totalUsersPages:0,queryParams:{_offset:0,_limit:10}},unenrolledMfaUsersTable:{users:[],usersPageOffset:0,totalUsersItems:0,totalUsersPages:0,queryParams:{_offset:0,_limit:10}},inactiveUsersTable:{users:[],usersPageOffset:0,totalUsersItems:0,totalUsersPages:0,queryParams:{_offset:0,_limit:10,_maxInactiveSeconds:7776e3}}};var nE=t=>(0,Q.D)(nP,t);let nO=["callback"];var n_=(t,e,n)=>{let i=async t=>{let n=t.map(t=>t.id),i=await e.roles.getRoles(),a=await e.users.getUsersRoles({ids:n});return t.map(t=>{var e,n;let s=null==a?void 0:null==(e=a.find(e=>e.userId===t.id))?void 0:e.roleIds;return(0,$.Z)({},t,{roles:null!=(n=null==s?void 0:s.map(t=>{var e;return null!=(e=null==i?void 0:i.find(e=>e.id===t))?e:[]}))?n:[]})})},a=async t=>{var a,l,u,c;let{key:d,tableState:g,updateStateKey:h,_offset:p,_limit:f,_preset:y,_email:v,_maxInactiveSeconds:S}=t;o({key:d,value:!1}),r({key:d,value:!0});let m=null!=(a=null!=p?p:null==g?void 0:null==(l=g.queryParams)?void 0:l._offset)?a:0,b=null!=(u=null!=f?f:null==g?void 0:null==(c=g.queryParams)?void 0:c._limit)?u:10,A=(0,$.Z)({_offset:m,_limit:b,_includeSubTenants:!1,_preset:y,_maxInactiveSeconds:S},!!v&&{_email:v});try{let{items:t,_metadata:{totalItems:a,totalPages:r}}=await e.users.getUsersV3(A),o={totalUsersItems:a,totalUsersPages:r,usersPageOffset:m,queryParams:(0,$.Z)({_offset:m,_limit:b,_maxInactiveSeconds:S},!!v&&{_email:v})};if(t.length){let e=await i(t);n.setSecurityCenterState({[h]:(0,$.Z)({users:e},o)})}else s({[h]:(0,$.Z)({users:[]},o)})}catch(t){o({key:d,value:(0,ti.P)(t)})}finally{r({key:d,value:!1})}},s=e=>{Object.assign(t.auth.securityCenterState,e)},r=e=>{Object.assign(t.auth.securityCenterState,{loaders:(0,$.Z)({},t.auth.securityCenterState.loaders,{[e.key]:e.value})})},o=e=>{Object.assign(t.auth.securityCenterState,{errors:(0,$.Z)({},t.auth.securityCenterState.errors,{[e.key]:e.value}),loaders:(0,$.Z)({},t.auth.securityCenterState.loaders,{[e.key]:!1})})},l=async()=>{let t=h.RECOMMENDATIONS;r({key:t,value:!0});try{var n;let{recommendations:t,scoring:i}=await e.securityCenter.getRecommendations();s({recommendations:t.items,score:null!=(n=null==i?void 0:i.score)?n:0})}catch(e){o({key:t,value:(0,ti.P)(e)})}finally{r({key:t,value:!1})}},u=async()=>{let t=h.INSIGHTS;r({key:t,value:!0});try{let{insights:t}=await e.securityCenter.getInsights();s({insights:t.items})}catch(e){o({key:t,value:(0,ti.P)(e)})}finally{r({key:t,value:!1})}},c=async t=>{let{callback:n}=t,i=(0,x.Z)(t,nO),a=h.SEND_BREACHED_PASSWORD_EMAIL;o({key:a,value:!1}),r({key:a,value:!0});try{await e.auth.forgotPassword(i),null==n||n(!0)}catch(t){o({key:a,value:(0,ti.P)(t)}),null==n||n(!1,t)}finally{r({key:a,value:!1})}},d=async t=>{let{callback:n}=t,i=h.SEND_BULK_RESET_BREACHED_PASSWORD_EMAILS;o({key:i,value:!1}),r({key:i,value:!0});try{await e.users.sendResetBreachedPasswordEmails(),null==n||n(!0)}catch(t){o({key:i,value:(0,ti.P)(t)}),null==n||n(!1)}finally{r({key:i,value:!1})}};return{setSecurityCenterState:s,resetSecurityCenterState:()=>{(0,tn.BW)(t,["auth","securityCenterState"],nP)},setSecurityCenterStateLoader:r,setSecurityCenterStateError:o,loadRecommendations:l,loadInsights:u,sendResetBreachedPasswordEmail:c,sendBulkResetBreachedPasswordEmails:d,loadBreachedPasswordUsers:async e=>{var n;let i=h.BREACHED_PASSWORD_USERS_TABLE,s=null==(n=t.auth.securityCenterState)?void 0:n.breachedPasswordUsersTable;await a((0,$.Z)({key:i,updateStateKey:"breachedPasswordUsersTable",_preset:e$.XR.BREACHED_PASSWORDS,tableState:s},e))},loadUnenrolledMfaUsers:async e=>{var n;let i=h.UNENROLLED_MFA_USERS_TABLE,s=null==(n=t.auth.securityCenterState)?void 0:n.unenrolledMfaUsersTable;await a((0,$.Z)({key:i,updateStateKey:"unenrolledMfaUsersTable",_preset:e$.XR.MFA_UNENROLLED,tableState:s},e))},loadInactiveUsers:async e=>{var n;let i=h.INACTIVE_USERS_TABLE,s=null==(n=t.auth.securityCenterState)?void 0:n.inactiveUsersTable;await a((0,$.Z)({key:i,updateStateKey:"inactiveUsersTable",_preset:e$.XR.INACTIVE,tableState:s},e))}}};let nI={globalPolicy:{loading:!0},publicPolicy:{loading:!1},vendorMfaPolicy:{loading:!0},mfaPolicy:{loading:!0},vendorLockoutPolicy:{loading:!0},lockoutPolicy:{loading:!0},captchaPolicy:{loading:!0},passwordHistoryPolicy:{loading:!0},passwordPolicy:{loading:!0},vendorPasswordHistoryPolicy:{loading:!0},publicAuthStrategyPolicy:{loading:!0}};var nD=t=>(0,Q.D)(nI,t);let nL=["callback"],nk=["callback"],nR=["callback"];var nU=(t,e,n)=>{let i=async t=>{var e,i;if(!await n.customLoginEnabled())return t;let s=await a();return null!=s&&null!=(e=s.mainAuthStrategies)&&null!=(i=e[0])&&i.strategy?(0,$.Z)({},t,{authStrategy:s.mainAuthStrategies[0].strategy}):t},a=async()=>t.auth.isAuthenticated?await e.auth.getPublicAuthStrategiesConfigForAuthenticatedUser():await e.auth.getVendorPublicAuthStrategiesConfig(),s=async e=>{var i,a;let s=await n.customLoginEnabled();if(!e||!s)return;let{policy:r}=null!=(i=null==(a=t.auth.securityPolicyState)?void 0:a.publicPolicy)?i:{policy:null};o({policy:(0,$.Z)({},r,{authStrategy:e}),loading:!1})},r=e=>{Object.assign(t.auth.securityPolicyState.globalPolicy,e)},o=e=>{Object.assign(t.auth.securityPolicyState.publicPolicy,e)},l=e=>{Object.assign(t.auth.securityPolicyState.mfaPolicy,e)},u=e=>{Object.assign(t.auth.securityPolicyState.vendorMfaPolicy,e)},c=e=>{Object.assign(t.auth.securityPolicyState.lockoutPolicy,e)},d=e=>{Object.assign(t.auth.securityPolicyState.vendorLockoutPolicy,e)},g=e=>{Object.assign(t.auth.securityPolicyState.captchaPolicy,e)},h=e=>{Object.assign(t.auth.securityPolicyState.passwordHistoryPolicy,e)},p=e=>{Object.assign(t.auth.securityPolicyState.vendorPasswordHistoryPolicy,e)},f=e=>{Object.assign(t.auth.securityPolicyState.passwordPolicy,e)},y=e=>{Object.assign(t.auth.securityPolicyState.publicAuthStrategyPolicy,e)},v=async()=>{r({loading:!0,error:null});try{let t=await e.auth.getGlobalSecurityPolicy();r({policy:t,loading:!1})}catch(t){r({error:(0,ti.P)(t),loading:!1})}},S=async()=>{o({loading:!0,error:null});try{let t=await e.auth.getVendorConfig(),n=await i(t);o({policy:n,loading:!1})}catch(t){o({error:(0,ti.P)(t),loading:!1})}},m=async()=>{f({loading:!0,error:null});try{let t=await e.auth.getPasswordConfigPolicy();f({policy:t,loading:!1})}catch(t){f({error:(0,ti.P)(t),loading:!1})}},b=async()=>{l({loading:!0,error:null});try{let t=await e.auth.getMfaPolicy();l({policy:t,loading:!1})}catch(t){l({error:(0,ti.P)(t),loading:!1})}},A=async()=>{l({loading:!0,error:null});try{let t=await e.auth.getVendorMfaPolicy();u({policy:t,loading:!1})}catch(t){u({error:(0,ti.P)(t),loading:!1})}},w=async()=>{c({loading:!0,error:null});try{let t=await e.auth.getLockoutPolicy();c({policy:t,loading:!1})}catch(t){c({error:(0,ti.P)(t),loading:!1})}},T=async()=>{d({loading:!0,error:null});try{let t=await e.auth.getVendorLockoutPolicy();d({policy:t,loading:!1})}catch(t){d({error:(0,ti.P)(t),loading:!1})}},P=async()=>{c({loading:!0,error:null});try{let t=await e.auth.getCaptchaPolicy();g({policy:t,loading:!1})}catch(t){g({error:(0,ti.P)(t),loading:!1})}},E=async()=>{h({loading:!0,error:null});try{let t=await e.auth.getPasswordHistoryPolicy();h({policy:t,loading:!1})}catch(t){h({error:(0,ti.P)(t),loading:!1})}},O=async()=>{p({loading:!0,error:null});try{let t=await e.auth.getVendorPasswordHistoryPolicy();p({policy:t,loading:!1})}catch(t){p({error:(0,ti.P)(t),loading:!1})}},_=async()=>{y({loading:!0,error:null});try{var t,e;let n=await a();await s(null==n?void 0:null==(t=n.mainAuthStrategies)?void 0:null==(e=t[0])?void 0:e.strategy),y({policy:n,loading:!1})}catch(t){y({error:(0,ti.P)(t),loading:!1})}},I=async t=>{let{callback:n}=t,i=(0,x.Z)(t,nL);l({saving:!0,error:null});try{let t=await e.auth.securityPolicy.saveMfaPolicy(i);l({policy:t,saving:!1}),null==n||n(t)}catch(t){l({saving:!1,error:(0,ti.P)(t)}),null==n||n(null,t)}},D=async t=>{let{callback:n}=t,i=(0,x.Z)(t,nk);c({saving:!0,error:null});try{let t=await e.auth.saveLockoutPolicy(i);c({policy:t,saving:!1}),null==n||n(t)}catch(t){c({saving:!1,error:(0,ti.P)(t)}),null==n||n(null,t)}},L=async t=>{let{callback:n}=t,i=(0,x.Z)(t,nR);h({saving:!0,error:null});try{let t=await e.auth.savePasswordHistoryPolicy(i);h({policy:t,saving:!1}),null==n||n(t)}catch(t){h({saving:!1,error:(0,ti.P)(t)}),null==n||n(null,t)}};return{setSecurityPolicyState:e=>{Object.assign(t.auth.securityPolicyState,e)},setSecurityPolicyGlobalState:r,setSecurityPolicyPublicState:o,setSecurityPolicyMfaState:l,setSecurityPolicyVendorMfaState:u,setSecurityPolicyLockoutState:c,setSecurityPolicyVendorLockoutState:d,setSecurityPolicyCaptchaState:g,setSecurityPolicyPasswordHistoryState:h,setSecurityPolicyVendorPasswordHistoryState:p,resetSecurityPolicyState:()=>{(0,tn.BW)(t,["auth","securityPolicyState"],nI)},setSecurityPolicyPasswordState:f,setSecurityPolicyAuthStrategyPublicState:y,loadSecurityPolicy:async()=>{await Promise.all([v(),b(),A(),w(),T(),O(),P(),_()])},loadGlobalSecurityPolicy:v,loadPublicSecurityPolicy:S,loadVendorPasswordConfig:m,loadSecurityPolicyMfa:b,loadSecurityPolicyVendorMfa:A,loadSecurityPolicyLockout:w,loadSecurityPolicyVendorLockout:T,loadSecurityPolicyCaptcha:P,loadSecurityPolicyPasswordHistory:E,loadSecurityPolicyVendorPasswordHistory:O,loadPublicAuthStrategiesPolicy:_,saveSecurityPolicyMfa:I,saveSecurityPolicyLockout:D,saveSecurityPolicyPasswordHistory:L,__getSecurityPolicyPublicStateWithCustomLogin:i}};let nC={loading:!1,configurations:{}};var nN=t=>(0,Q.D)(nC,t);let nM=["callback"];var nj=(t,e,n)=>{let i=e=>{Object.assign(t.auth.sessionsPolicyState,e)},a=async()=>{i({loading:!0,error:null});try{let t=await e.auth.getSessionConfigurations();i({configurations:t,loading:!1})}catch(t){n.setSessionsState({error:t,loading:!1})}},s=async t=>{let{callback:a}=t,s=(0,x.Z)(t,nM);try{i({loading:!0,error:null}),await e.auth.createOrUpdateSessionConfigrations(s),await n.loadSessionsPolicy(),null==a||a(!0)}catch(t){i({error:t,loading:!1})}};return{setSessionsPolicyState:i,resetSessionsPolicyState:()=>{(0,tn.BW)(t,["auth","sessionsPolicyState"],nC)},loadSessionsPolicy:a,createOrUpdateSessionsPolicy:s}};let nF={loading:!1,sessions:[]};var nZ=t=>(0,Q.D)(nF,t),n$=(t,e,n)=>{let i=e=>{Object.assign(t.auth.sessionsState,e)},a=async()=>{i({loading:!0,error:null});try{let t=await e.auth.getCurrentUserSessions();i({sessions:t,loading:!1})}catch(t){i({error:(0,ti.P)(t),loading:!1})}},s=async()=>{i({loading:!0,error:null});try{let t=await e.auth.getCurrentUserSession();i({currentSession:t,loading:!1})}catch(t){i({error:(0,ti.P)(t),loading:!1})}},r=async t=>{let{id:n}=t;i({loading:!0,error:null});try{await e.auth.deleteSessionForUser(n),await a()}catch(t){i({error:(0,ti.P)(t),loading:!1})}},o=async()=>{i({loading:!0,error:null});try{await e.auth.deleteAllSessionsForUser(),await a()}catch(t){i({error:(0,ti.P)(t),loading:!1})}},l=async t=>{let{callback:n,userId:a}=t;i({loading:!0,error:null});try{await e.auth.revokeSessionsForUser(a),i({loading:!1}),null==n||n(!0)}catch(t){i({error:(0,ti.P)(t),loading:!1}),null==n||n(!1)}};return{setSessionsState:i,resetSessionsState:()=>{(0,tn.BW)(t,["auth","sessionsState"],nF)},loadUserSessions:a,loadCurrentUserSession:s,deleteUserSession:r,deleteAllUserSessions:o,revokeUserSessions:l}};let nx={loading:!1,allowSignUps:!1,allowNotVerifiedUsersLogin:!1,firstLoad:!0,stage:p.SignUp};var nG=t=>(0,Q.D)(nx,t);let nB=["events","url"];var nV=(t,e,n)=>{let i=W.a.for(t.root.appName),a=e=>{Object.assign(t.auth.signUpState,e)},s=()=>{(0,tn.BW)(t,["auth","signUpState"],nx)},r=async s=>{let{events:r,url:o}=s,l=(0,x.Z)(s,nB);a({loading:!0});try{let{routes:i,onRedirectTo:s}=t.auth,{shouldActivate:c,user:d,tenantId:g,userId:h,tenants:f=[],activeTenant:y}=await e.auth.signUpUser((0,tg.Un)(l));if(!l.invitationToken){var u;let{email:t,name:e,companyName:n,phoneNumber:i}=l,a={email:t,name:e,companyName:n,url:o,phoneNumber:i||void 0,authenticationType:m.PASSWORD,id:h,tenantId:g,createdAt:new Date};null==r||null==(u=r.signUpComplete)||u.call(r,a),(0,td.g)(td.C.SIGNUP_COMPLETED,a)}if(!c&&d&&(0,tg.AS)(d,t.root.appName)){let t=await n.getMfaRequiredState(d);n.setAuthState(t),s(i.loginUrl)}else{let e=t.auth.tenantsState;a({loading:!1,shouldActivate:c,stage:p.SignUpSuccess}),n.setAuthState({user:d,isAuthenticated:!!(null!=d&&d.accessToken),tenantsState:(0,$.Z)({},e,{tenants:f,activeTenant:y})})}}catch(t){i.setAccessToken(null),i.setUser(null),a({error:(0,ti.P)(t)})}finally{a({loading:!1})}},o=async()=>{a({loading:!0});try{let t=await e.auth.getVendorConfig(),i=await n.__getSecurityPolicyPublicStateWithCustomLogin(t),{allowSignups:s,allowNotVerifiedUsersLogin:r}=t;a({loading:!1,allowSignUps:s,allowNotVerifiedUsersLogin:r,firstLoad:!1}),n.setSecurityPolicyPublicState({policy:i,loading:!1})}catch(t){a({loading:!1,error:(0,ti.P)(t),firstLoad:!1})}};return{setSignUpState:a,resetSignUpState:s,resetSignUpStateSoft:()=>{let{allowSignUps:e,allowNotVerifiedUsersLogin:n}=t.auth.signUpState;s(),a({allowSignUps:e,allowNotVerifiedUsersLogin:n})},signUpUser:r,loadAllowSignUps:o}};let nW={loading:!1,error:null,phoneNumbers:void 0};var nH=t=>(0,Q.D)(nW,t);let nK=["callback"],nz=["callback"],nJ=["callback","phoneId"],nq=["callback","phoneId"],nY=["callback"];var nX=(t,e,n)=>{let i=e=>{Object.assign(t.auth.smsState,e)},a=async()=>{i({loading:!0});try{let{items:t}=await e.userPhoneNumbers.getUserPhoneNumbers({_limit:10,_offset:0});i({phoneNumbers:t})}catch(t){i({error:(0,ti.P)(t)})}finally{i({loading:!1})}},s=async t=>{let{callback:n}=t,s=(0,x.Z)(t,nK);i({loading:!0});try{let{otcToken:t}=await e.userPhoneNumbers.createPhoneNumber(s);i({otcToken:t}),await a(),null==n||n(!0)}catch(t){i({error:(0,ti.P)(t)}),null==n||n(!1,t)}finally{i({loading:!1})}},r=async t=>{let{callback:n}=t,s=(0,x.Z)(t,nz);i({loading:!0});try{await e.userPhoneNumbers.verifyPhoneNumber(s),await a(),null==n||n(!0)}catch(t){i({error:(0,ti.P)(t)}),null==n||n(!1,t)}finally{i({loading:!1})}},o=async t=>{let{callback:n,phoneId:a}=t;(0,x.Z)(t,nJ),i({loading:!0});try{let{otcToken:t}=await e.userPhoneNumbers.deletePhoneNumber(a);i({otcToken:t}),null==n||n(!0)}catch(t){i({error:(0,ti.P)(t)}),null==n||n(!1,t)}finally{i({loading:!1})}},l=async t=>{let{callback:n,phoneId:s}=t,r=(0,x.Z)(t,nq);i({loading:!0});try{await e.userPhoneNumbers.verifyDeletePhoneNumber(s,r),await a(),null==n||n(!0)}catch(t){i({error:(0,ti.P)(t)}),null==n||n(!1,t)}finally{i({loading:!1})}},u=async t=>{let{callback:n}=t,a=(0,x.Z)(t,nY);i({loading:!0});try{let{otcToken:t}=await e.userPhoneNumbers.preVerifyPhoneNumber(a);i({otcToken:t}),null==n||n(!0)}catch(t){i({error:(0,ti.P)(t)}),null==n||n(!1,t)}finally{i({loading:!1})}};return{setSmsState:i,resetSmsState:()=>{(0,tn.BW)(t,["auth","smsState"],nW)},loadPhoneNumbers:a,setUpPhoneNumber:s,verifyPhoneNumber:r,deletePhoneNumber:o,verifyDeletePhoneNumber:l,preVerifyPhoneNumber:u}};let nQ={firstLoad:!0,loading:!1,error:""};var n0=t=>(0,Q.D)(nQ,t);let n1=["authorizationUrl"],n2=["events","url"];var n5=(t,e,n)=>{let i=async()=>t.auth.isAuthenticated?await e.auth.getSocialLoginProvidersV2ForAuthenticatedUser():await e.auth.getSocialLoginProvidersV2(),a=e=>{Object.assign(t.auth.socialLoginState,e)},s=async()=>{try{a({loading:!0});let t=await e.auth.getSocialLoginProviders();a({socialLoginsConfig:t,loading:!1,firstLoad:!1})}catch(t){a({error:(0,ti.P)(t),loading:!1,firstLoad:!1})}},r=async n=>{var s,r;try{let r=t.root.context;a({loading:!0});let o=await i(),{providers:l}=await e.auth.getCustomSocialLoginProvidersV1(),u={socialLoginsConfigV2:o.map(t=>{let{authorizationUrl:n}=t,i=(0,x.Z)(t,n1),a=e.fetch.getBaseUrl(r,null!=n?n:"");return(0,$.Z)({},i,{authorizationUrl:n?`${a}${n}`:null})}),customSocialLoginsConfig:l,loading:!1,firstLoad:!1};a(u),null==n||null==(s=n.callback)||s.call(n,u)}catch(t){null==n||null==(r=n.callback)||r.call(n,null,t),a({error:(0,ti.P)(t),loading:!1,firstLoad:!1})}},o=async t=>{let{events:i,url:s}=t,r=(0,x.Z)(t,n2);try{a({loading:!0});let{email:t,isNewUser:u,userId:c,tenantId:d,name:g}=await e.auth.loginViaSocialLogin(r);if(u){var o,l;let e={email:t,url:s,createdAt:new Date,id:c,tenantId:d},n=(0,$.Z)({},e,{socialProvider:r.provider,authenticationType:m.SOCIAL_LOGIN});null==i||null==(o=i.signUpComplete)||o.call(i,n),(0,td.g)(td.C.SIGNUP_COMPLETED,n);let a=(0,$.Z)({},e,{origin:S.SOCIAL_LOGIN,name:g});null==i||null==(l=i.userVerified)||l.call(i,a),(0,td.g)(td.C.USER_VERIFIED,a)}c&&localStorage.setItem("userId",c),n.setLoginState({email:t,isNewUser:u}),n.refreshTokenForSocialLogins(),localStorage.removeItem("register-quick-login"),a({loading:!1})}catch(t){a({loading:!1,error:(0,ti.P)(t,"Failed to authenticate"),firstLoad:!1})}};return{setSocialLoginsState:a,resetSocialLoginsState:()=>{(0,tn.BW)(t,["auth","socialLoginState"],nQ)},setSocialLoginError:t=>{a({error:t.error,loading:!1,firstLoad:!1})},loadSocialLoginsConfiguration:s,loadSocialLoginsConfigurationV2:r,loginViaSocialLogin:o}};let n4={firstLoad:!0,loading:!0,saving:!1,errors:{},loaders:{},ssoConfigurations:[]};var n3=t=>(0,Q.D)(n4,t);let n6=["callback","samlVendor"];var n8=(t,e,n)=>{let i=async()=>{try{let t=await e.auth.getSamlRoles(),n=await e.auth.getSamlRolesGroups();s({authorizationRoles:t.roleIds,rolesGroups:n,error:void 0})}catch(t){s({error:(0,ti.P)(t)})}},a=async t=>{try{await Promise.all(t.map(t=>e.auth.updateSamlGroup({id:t.id,roleIds:t.roleIds,group:t.group})))}catch(t){s({error:(0,ti.P)(t)})}},s=e=>{Object.assign(t.auth.ssoState,e)},r=async()=>{try{var t,n;s({loading:!0});let i=await e.auth.getSamlConfiguration(),a=await e.auth.getOidcConfiguration(),r=await e.metadata.getSamlMetadata();i.acsUrl=null==r?void 0:null==(t=r.configuration)?void 0:t.acsUrl,i.spEntityId=null==r?void 0:null==(n=r.configuration)?void 0:n.spEntityId,i.isSamlActive=null==r?void 0:r.isActive,s({samlConfiguration:i,oidcConfiguration:a,loading:!1,firstLoad:!1})}catch(t){s({error:(0,ti.P)(t),loading:!1})}},o=async()=>{try{let t=await e.auth.getSamlRoles(),n=await e.auth.getSamlRolesGroups();s({authorizationRoles:t.roleIds,rolesGroups:n,error:void 0})}catch(t){s({error:(0,ti.P)(t)})}},l=async n=>{let{callback:i,samlVendor:a}=n,r=(0,x.Z)(n,n6),o=t.auth.ssoState.samlConfiguration,l=(0,$.Z)({},o,r),u="saving";(null==l?void 0:l.enabled)!==(null==o?void 0:o.enabled)&&(u="loading");try{if(!(null!=l&&l.domain)){s({samlConfiguration:(0,$.Z)({},o,l)});return}if(s({error:void 0,[u]:!0}),n.type===y.Saml){var c,d;let t=await e.metadata.getSamlMetadata();l.acsUrl=null==t?void 0:null==(c=t.configuration)?void 0:c.acsUrl,l.spEntityId=null==t?void 0:null==(d=t.configuration)?void 0:d.spEntityId}let t=(0,tn.cZ)(l,["validated","generatedVerification","createdAt","updatedAt"]);(null==o?void 0:o.domain)!==(null==t?void 0:t.domain)&&(t.ssoEndpoint="",t.publicCertificate="",t.signRequest=!1),t.type=null==a?void 0:a.toLowerCase();let r=await e.auth.updateSamlConfiguration(t);r.isSamlActive=null==o?void 0:o.isSamlActive,s({samlConfiguration:r,error:void 0,[u]:!1}),null==i||i(!0)}catch(t){s({samlConfiguration:o,error:(0,ti.P)(t),[u]:!1}),null==i||i(null,t)}},u=async n=>{let i=t.auth.ssoState.samlConfiguration,a="saving";s({error:void 0,[a]:!0});try{let t=await (0,en.Xy)(n[0]),r=await e.auth.updateSamlVendorMetadata({metadata:t});r.isSamlActive=null==i?void 0:i.isSamlActive,s({samlConfiguration:r,error:void 0,[a]:!1})}catch(t){s({samlConfiguration:i,error:(0,ti.P)(t),[a]:!1})}},c=async n=>{let{configFile:i,callback:a}=n,r=t.auth.ssoState.samlConfiguration,o="saving";s({error:void 0,[o]:!0});try{let t=await (0,en.Xy)(i),n=await e.auth.updateSamlVendorMetadata({metadata:t});n.isSamlActive=null==r?void 0:r.isSamlActive,s({samlConfiguration:n,error:void 0,[o]:!1}),null==a||a(!0)}catch(t){s({samlConfiguration:r,error:(0,ti.P)(t),[o]:!1}),null==a||a(null,t)}},d=async n=>{let{callback:i}=null!=n?n:{},a=t.auth.ssoState.samlConfiguration;if(!a){let t=Error("IllegalState: samlConfiguration is not defined");console.error(t),null==i||i(null,t);return}try{s({error:void 0,saving:!0}),await e.auth.validateSamlDomain(),s({samlConfiguration:(0,$.Z)({},a,{validated:!0}),error:void 0,saving:!1}),null==i||i(!0)}catch(t){s({samlConfiguration:(0,$.Z)({},a,{validated:!1}),error:(0,ti.P)(t),saving:!1}),null==i||i(null,t)}},g=async t=>{let{callback:n,authorizationRoles:r,groups:o}=t;try{s({error:void 0,saving:!0}),await e.auth.updateSamlRoles({roleIds:r}),o&&await a(o),await i(),s({error:void 0,saving:!1}),null==n||n(!0)}catch(t){s({error:(0,ti.P)(t),saving:!1}),null==n||n(null,t)}},h=async t=>{let{id:n,callback:a}=t;try{s({error:void 0,saving:!0}),await e.auth.deleteSamlGroup({id:n}),await i(),s({error:void 0,saving:!1}),null==a||a(!0)}catch(t){s({error:(0,ti.P)(t),saving:!1}),null==a||a(null,t)}},p=async t=>{let{group:n,roleIds:a,callback:r}=t;try{s({error:void 0,saving:!0}),await e.auth.createSamlGroup({group:n,roleIds:a}),await i(),s({error:void 0,saving:!1}),null==r||r(!0)}catch(t){s({error:(0,ti.P)(t),saving:!1}),null==r||r(null,t)}},f=async t=>{let i={code:t.code,redirectUri:t.redirectUri,RelayState:t.state};try{s({loading:!0}),await e.auth.oidcPostLoginV2(i),await n.__refreshToken(),s({loading:!1})}catch(t){s({loading:!1,error:(0,ti.P)(t,"Failed to authenticate"),firstLoad:!1})}};return{setSSOState:s,resetSSOState:()=>{(0,tn.BW)(t,["auth","ssoState"],n4)},setSSOLoader:e=>{Object.assign(t.auth.ssoState,{loaders:(0,$.Z)({},t.auth.ssoState.loaders,{[e.key]:e.value})})},setSSOError:e=>{Object.assign(t.auth.ssoState,{errors:(0,$.Z)({},t.auth.ssoState.errors,{[e.key]:e.value}),loaders:(0,$.Z)({},t.auth.ssoState.loaders,{[e.key]:!1})})},loadSSOConfigurations:r,saveSSOConfigurations:l,saveSSOConfigurationsFile:u,saveSSOConfigurationsFileWithCallback:c,validateSSODomain:d,loadSSOAuthorizationRoles:o,updateSSOAuthorizationRoles:g,deleteSamlGroup:h,createSamlGroup:p,oidcPostlogin:f}};let n9=["callback"],n7=["callback","ssoConfigId"],it=["callback","ssoConfigId"],ie=["callback","ssoConfigId"];var ii=(t,e,n)=>{let i=async()=>{try{return await e.auth.getOidcConfiguration()}catch(t){return null}},a=async()=>{try{return await e.metadata.getSamlMetadata()}catch(t){return null}},s=async(t,e,i)=>{n.setSSOLoader({key:t,value:!0});try{await i()}catch(i){n.setSSOError({key:t,value:(0,ti.P)(i)}),null==e||e(null,i)}finally{n.setSSOLoader({key:t,value:!1})}};return{loadSSOConfigurationsV2:async()=>{await s(f.LOAD_SSO_CONFIGURATIONS,void 0,async()=>{let[t,s]=await Promise.all([i(),a()]),r=await e.auth.getSSOConfigurations();n.setSSOState({ssoConfigurations:r,oidcConfiguration:t,samlMetadata:s})})},saveSSOConfigurationV2:async i=>{let{callback:a}=i,r=(0,x.Z)(i,n9),o=t.auth.ssoState.ssoConfigurations;await s(f.SAVE_SSO_CONFIGURATION,a,async()=>{var t;let i=await e.auth.createSSOConfiguration((0,$.Z)({},r,{enabled:null!=(t=r.enabled)&&t}));n.setSSOState({ssoConfigurations:[...o,i]}),null==a||a(i)})},updateSSOConfiguration:async i=>{let{callback:a,ssoConfigId:r}=i,o=(0,x.Z)(i,n7),l=t.auth.ssoState.ssoConfigurations;await s(f.UPDATE_SSO_CONFIGURATION,a,async()=>{let t=await e.auth.updateSSOConfiguration(r,o),i=l.map(e=>e.id===r?t:e);n.setSSOState({ssoConfigurations:i}),null==a||a(t)})},deleteSSOConfiguration:async i=>{let{ssoConfigId:a,callback:r}=i,o=t.auth.ssoState.ssoConfigurations;await s(f.DELETE_SSO_CONFIGURATION,r,async()=>{await e.auth.deleteSSOConfiguration(a),n.setSSOState({ssoConfigurations:o.filter(({id:t})=>t!==a)}),null==r||r(!0)})},saveSSODomain:async i=>{let{callback:a,ssoConfigId:r}=i,o=(0,x.Z)(i,it),l=t.auth.ssoState.ssoConfigurations;await s(f.SAVE_SSO_DOMAIN,a,async()=>{let t=await e.auth.createSSODomain(r,o),i=l.map(e=>e.id===r?(0,$.Z)({},e,{domains:[...e.domains,t]}):e);n.setSSOState({ssoConfigurations:i}),null==a||a(t)})},deleteSSODomain:async i=>{let{ssoConfigId:a,domainId:r,callback:o}=i,l=t.auth.ssoState.ssoConfigurations;await s(f.DELETE_SSO_DOMAIN,o,async()=>{await e.auth.deleteSSODomain(a,r);let t=l.map(t=>t.id===a?(0,$.Z)({},t,{domains:t.domains.filter(({id:t})=>t!==r)}):t);n.setSSOState({ssoConfigurations:t}),null==o||o(!0)})},validateSSODomainV2:async i=>{let{callback:a,domainId:r,ssoConfigId:o}=i;await s(f.VALIDATE_SSO_DOMAIN,a,async()=>{let i=t.auth.ssoState.ssoConfigurations;await e.auth.validateSSODomainV2(o,r);let s=i.map(t=>t.id===o?(0,$.Z)({},t,{domains:t.domains.map(t=>t.id===r?(0,$.Z)({},t,{validated:!0}):t)}):t);n.setSSOState({ssoConfigurations:s}),null==a||a(!0)})},setSSOGroups:async i=>{let{groupsToAdd:a,groupsToDelete:r,ssoConfigId:o,callback:l}=i;await s(f.SAVE_SSO_GROUPS,l,async()=>{let i=t.auth.ssoState.ssoConfigurations;await Promise.all(r.map(t=>e.auth.deleteSSOGroup(o,t))),await Promise.all(a.map(t=>e.auth.createSSOGroup(o,t)));let s=await e.auth.getSSOGroups(o),u=i.map(t=>t.id===o?(0,$.Z)({},t,{groups:s}):t);n.setSSOState({ssoConfigurations:u}),null==l||l(!0)})},updateSSOGroups:async t=>{let{ssoConfigId:n,changedGroups:i,callback:a}=t;await s(f.SAVE_SSO_GROUPS,a,async()=>{await Promise.all(i.map(t=>e.auth.updateSSOGroup(n,t))),null==a||a(!0)})},setSSODefaultRoles:async i=>{let{callback:a,ssoConfigId:r,roleIds:o}=i;await s(f.UPDATE_SSO_DEFAULT_ROLES,a,async()=>{let i=t.auth.ssoState.ssoConfigurations;await e.auth.setSSODefaultRoles(r,{roleIds:o});let s=i.map(t=>t.id===r?(0,$.Z)({},t,{roleIds:o}):t);n.setSSOState({ssoConfigurations:s}),null==a||a(!0)})},saveSSOConfigurationByMetadata:async i=>{let{configFile:a,callback:r}=i;await s(f.SAVE_SSO_CONFIGURATION_BY_METADATA,r,async()=>{let i=t.auth.ssoState.ssoConfigurations,s=await (0,en.Xy)(a),o=await e.auth.createSSOConfigurationByMetadata({metadata:s});n.setSSOState({ssoConfigurations:[...i,o]}),null==r||r(o)})},updateSSOConfigurationByMetadata:async i=>{let{callback:a,ssoConfigId:r,configFile:o}=i;await s(f.UPDATE_SSO_CONFIGURATION_BY_METADATA,a,async()=>{let i=t.auth.ssoState.ssoConfigurations,s=await (0,en.Xy)(o),l=await e.auth.updateSSOConfigurationByMetadata(r,{metadata:s}),u=i.map(t=>t.id===r?l:t);n.setSSOState({ssoConfigurations:u}),null==a||a(l)})},saveSSOConfigurationByUrl:async i=>{let{metadataUrl:a,configMetadata:r,ssoConfigId:o,callback:l}=i;await s(f.SAVE_SSO_CONFIGURATION_BY_METADATA,l,async()=>{let i,s;let u=t.auth.ssoState.ssoConfigurations,c={url:a,configMetadata:r};o?(i=await e.auth.updateSSOConfigurationByMetadataUrl(o,c),s=u.map(t=>t.id===o?i:t)):s=[i=await e.auth.createSSOConfigurationByMetadataUrl(c),...u],n.setSSOState({ssoConfigurations:s}),null==l||l(i)})},saveSSOConfigurationByData:async i=>{let{callback:a,ssoConfigId:r}=i,o=(0,x.Z)(i,ie),l=t.auth.ssoState.ssoConfigurations;await s(f.SAVE_SSO_CONFIGURATION,a,async()=>{let t,i;r?(t=await e.auth.updateSSOConfiguration(r,o),i=l.map(e=>e.id===r?t:e)):i=[t=await e.auth.createSSOConfiguration(o),...l],n.setSSOState({ssoConfigurations:i}),null==a||a(t)})}}},ia=(t,e,n)=>(0,$.Z)({},n8(t,e,n),ii(t,e,n));let is={loading:!1,mfaDevices:void 0,mfaToken:""};var ir=t=>(0,Q.D)(is,t);let io=t=>(null==t?void 0:t.message)==="MFA is not enrolled";var il=(t,e,n)=>{let i=async t=>{await n.afterAuthenticationStateUpdate(t),await n.afterStepUpAuthNavigation()},a=async({mfaToken:t,mfaDevices:e})=>{n.setStepUpState({mfaDevices:e,mfaToken:t});let i=await (0,tk.v3)(e);n.setMfaState({step:i})},s=async e=>{if(io(e)){n.setMfaState({step:Y.b.noMFAEnrolledStepUp});return}window.localStorage.setItem(tX.E9,"true");let i=t.auth.routes;W.a.for(t.root.appName).onRedirectTo(i.logoutUrl,{preserveQueryParams:!0})};return{generateStepUpSession:async t=>{let{maxAge:r,callback:o}=t;n.setStepUpState({mfaDevices:void 0,mfaToken:""});try{let t=await e.auth.generateStepupSession({maxAge:r});t.hasOwnProperty("user")?await i(t):await a(t),null==o||o(!0)}catch(t){null==o||o(!1),await s(t)}}}},iu=(t,e,n)=>({stepUpHostedLogin:async e=>{var i,a;let s={acr_values:tX.jT},{maxAge:r}=e||{};void 0!==r&&(s.max_age=r.toString());let o=null==(i=t.auth.tenantsState)?void 0:null==(a=i.activeTenant)?void 0:a.alias;o&&(s.organization=o),(0,tQ.fd)(),window.localStorage.setItem(tX.E9,"true"),await n.__requestHostedLoginAuthorize(s)}}),ic=(t,e,n)=>{let i=async t=>{await n.mfaWithAuthenticator(t,n.setStepUpState,!0)},a=async t=>{await n.preVerifyMFASMS(t,n.setStepUpState)},s=async t=>{await n.verifyMFASMS(t,n.setStepUpState,!0)},r=async t=>{await n.preVerifyMFAWebAuthn(t,n.setStepUpState)},o=async t=>{await n.verifyMFAWebAuthn(t,n.setStepUpState,!0)},l=async t=>{await n.preVerifyMFAEmailCode(t,n.setStepUpState)},u=async t=>{await n.verifyMFAEmailCode(t,n.setStepUpState)};return(0,$.Z)({setStepUpState:e=>{Object.assign(t.auth.stepUpState,e)},resetStepUpState:()=>{(0,tn.BW)(t,["auth","stepUpState"],is)},stepUpWithAuthenticator:i,preVerifyMFASMSForStepUp:a,verifyMFASMSForStepUp:s,preVerifyMFAWebAuthnForStepUp:r,verifyMFAWebAuthnForStepUp:o,preVerifyMFAEmailCodeForStepUp:l,verifyMFAEmailCodeForStepUp:u},il(t,e,n),iu(t,e,n))};let id={loaders:{},pageOffset:0,pageSize:20,errors:{},users:[],allUsers:[],roles:[],permissions:[],totalPages:0,shouldShowSubTenantUsersIfReseller:!1,allUsersQueryParams:{_filter:null,_offset:0,_limit:20,_order:"DESC",_sortBy:"name"},addUserDialogState:{loading:!1,open:!1},deleteUserDialogState:{loading:!1,open:!1},lockUserDialogState:{loading:!1,open:!1},enableUserDialogState:{loading:!1,open:!1},disableUserDialogState:{loading:!1,open:!1}};var ig=t=>(0,Q.D)(id,t),ih=n(2866);let ip=["callback","appIds"],iy=["roles"],iv=["callback","profileImage"],iS=["callback"],im=["callback"],ib=["callback"];var iA=(t,e,n)=>{let i=async()=>{try{let{groups:t}=await e.groups.getGroups({_groupsRelations:ih.l.roles});return t}catch(t){return[]}},a=async t=>{var i,a;n.setTeamLoader({key:v.ROLES_AND_PERMISSIONS,value:!0});try{let[{items:a},{items:s}]=await Promise.all([e.teams.loadAvailableRoles(),e.teams.loadAvailablePermissions()]);n.setTeamState({roles:a,permissions:s}),null==t||null==(i=t.callback)||i.call(t,{roles:a,permissions:s})}catch(e){null==t||null==(a=t.callback)||a.call(t,null,e),n.setTeamError({key:v.ROLES_AND_PERMISSIONS,value:(0,ti.P)(e)})}finally{n.setTeamLoader({key:v.ROLES_AND_PERMISSIONS,value:!1})}},s=async i=>{var s,r,o,l;let{silentLoading:u,callback:c}=i,d=t.auth.teamState,g=null!=(s=i.pageSize)?s:d.pageSize,h=null!=(r=i.pageOffset)?r:d.pageOffset,p=null!=(o=i.filter)?o:d.filter,f=null!=(l=i.sort)?l:d.sort;n.setTeamLoader({key:v.USERS,value:!u}),n.setTeamState({pageSize:g,pageOffset:h,filter:p,sort:f});try{let[{items:t,totalPages:i,totalItems:s}]=await Promise.all([e.teams.loadUsers({pageSize:g,pageOffset:h,filter:p,sort:f}),a()]);n.setTeamState({users:t,totalPages:i,totalItems:s}),null==c||c(t)}catch(t){n.setTeamError({key:v.USERS,value:(0,ti.P)(t)}),n.setTeamState({totalPages:0,users:[]}),null==c||c(null,t)}n.setTeamLoader({key:v.USERS,value:!1})},r=async s=>{var r,o,l,u,c;let{silentLoading:d,callback:g,shouldLoadRoles:h=!0,shouldLoadApps:p}=s,f=t.auth.teamState,y=null!=(r=s.pageSize)?r:f.pageSize,S=null!=(o=s.pageOffset)?o:f.pageOffset,m=null!=(l=s.filter)?l:f.filterV2,b=null!=(u=s.sort)?u:f.sortV2,A=null!=(c=null==s?void 0:s.shouldShowSubTenantUsersIfReseller)?c:null==f?void 0:f.shouldShowSubTenantUsersIfReseller;n.setTeamLoader({key:v.USERS,value:!d}),n.setTeamState({pageSize:y,pageOffset:S,filterV2:m,sortV2:b});try{let[{items:t,_metadata:{totalPages:r,totalItems:o}},{items:l},{items:u},c]=await Promise.all([e.users.getUsersV2((0,$.Z)({},(null==m?void 0:m.length)&&{_filter:m},b&&{_sortBy:b},s.order&&{_order:s.order},{_offset:S,_limit:y,_includeSubTenants:A})),e.teams.loadAvailableRoles(),e.teams.loadAvailablePermissions(),i(),h?a():void 0]),d=t.map(t=>{var e;let n=null==t?void 0:null==(e=t.groups)?void 0:e.map(t=>c.filter(e=>e.id===t.id)).flat();return(0,$.Z)({},t,{groups:n})}).map(t=>(0,$.Z)({},t,{roleIds:t.roles.map(t=>t.id)})),f=await n.mapUsersWithApplicationData({shouldLoadApps:p,users:d});n.setTeamState({users:f,totalPages:r,totalItems:o,roles:l,permissions:u}),null==g||g(t)}catch(t){console.error("Failed to load users",t),n.setTeamError({key:v.USERS,value:(0,ti.P)(t)}),n.setTeamState({totalPages:0,users:[]}),null==g||g(null,t)}n.setTeamLoader({key:v.USERS,value:!1})};return{loadRoles:a,loadUsers:s,loadUsersV2:r,addUser:async i=>{let{callback:a,appIds:s}=i,r=(0,x.Z)(i,ip),o=t.auth.teamState;n.setTeamState({addUserDialogState:(0,$.Z)({},o.addUserDialogState,{loading:!0})});try{var l;let t=await e.teams.addUser(r),{roles:i}=t,u=(0,x.Z)(t,iy),c=null!=(l=null==i?void 0:i.map(t=>t.id))?l:[],d=(0,$.Z)({},u,{roleIds:c}),g=await n.assignNewUserToApps({appIds:s,user:d});g&&(d.applications=g),null==a||a(d),n.setTeamState({users:[d,...o.users],addUserDialogState:{open:!1,loading:!1}})}catch(t){console.error("Failed to add user",t),n.setTeamState({addUserDialogState:(0,$.Z)({},o.addUserDialogState,{loading:!1,error:(0,ti.P)(t)})}),null==a||a(null,t)}},addUsersBulk:async i=>{let{callback:a}=i,s=t.auth.teamState;n.setTeamState({addUserDialogState:(0,$.Z)({},s.addUserDialogState,{loading:!0})});let r=[],o=[],l=i.emails.map(t=>(0,$.Z)({email:t,roleIds:i.roleIds},i.expirationInSeconds&&{expirationInSeconds:i.expirationInSeconds}));n.setTeamState({addUserDialogState:{open:!0,loading:!0}});for(let t=0;t<l.length;t++){let n=l.at(t);try{await e.teams.addUser(n),r.push(n.email)}catch(t){o.push(n.email)}}let u={pageOffset:0,pageSize:10,filter:"",silentLoading:i.emails.length>0};await n.loadUsersV2(u),n.setTeamState({addUserDialogState:{loading:!1}}),null==a||a({unallowedEmails:o,allowedEmails:r})},updateUser:async i=>{let{callback:a}=i,s=(0,x.Z)(i,iv),{id:r}=s,o=t.auth.teamState,l=o.users.find(t=>t.id===s.id);if(void 0===l){null==a||a(null,"User not in state");return}n.setTeamLoader({key:v.UPDATE_USER,value:r||""}),n.setTeamState({addUserDialogState:(0,$.Z)({},o.addUserDialogState,{loading:!0})}),n.setTeamState({addUserDialogState:(0,$.Z)({},o.addUserDialogState,{loading:!0}),users:o.users.map(t=>t.id===s.id?(0,$.Z)({},t,s):t)});try{var u;l.roleIds.length>0&&(null==(u=s.roleIds)?void 0:u.length)===0&&(s.roleIds=[""]);let{item:t}=await e.teams.updateUser(s);null==a||a(t),n.setTeamState({users:o.users.map(e=>e.id===t.id?(0,$.Z)({},e,t,{groups:e.groups,createdAt:e.createdAt,customData:e.customData,lastLogin:e.lastLogin}):e)}),n.setTeamLoader({key:v.UPDATE_USER,value:!1})}catch(t){n.setTeamState({addUserDialogState:(0,$.Z)({},o.addUserDialogState,{loading:!1,error:(0,ti.P)(t)}),users:o.users.map(t=>t.id===s.id?(0,$.Z)({},t,l):t)}),n.setTeamLoader({key:v.UPDATE_USER,value:!1}),null==a||a(null,t)}},deleteUser:async i=>{let{callback:a}=i,s=(0,x.Z)(i,iS),r=t.auth.teamState;n.setTeamState({deleteUserDialogState:(0,$.Z)({},r.deleteUserDialogState,{loading:!0})});try{await e.teams.deleteUser(s),null==a||a(!0),n.setTeamState({users:r.users.filter(t=>t.id!==s.userId),deleteUserDialogState:{open:!1,loading:!1}})}catch(t){n.setTeamState({deleteUserDialogState:(0,$.Z)({},r.deleteUserDialogState,{loading:!1,error:(0,ti.P)(t)})}),null==a||a(null,t)}},enableUser:async i=>{let{callback:a,userId:s}=i,r=t.auth.teamState;n.setTeamState({enableUserDialogState:(0,$.Z)({},r.enableUserDialogState,{loading:!0})});try{await e.teams.enableUser(s),null==a||a(!0),n.setTeamState({users:r.users.map(t=>t.id===s?(0,$.Z)({},t,{isDisabled:!1}):t),enableUserDialogState:{open:!1,loading:!1}})}catch(t){n.setTeamState({enableUserDialogState:(0,$.Z)({},r.enableUserDialogState,{loading:!1,error:(0,ti.P)(t)})}),null==a||a(null,t)}},disableUser:async i=>{let{callback:a,userId:s}=i,r=t.auth.teamState;n.setTeamState({disableUserDialogState:(0,$.Z)({},r.disableUserDialogState,{loading:!0})});try{await e.teams.disableUser(s),null==a||a(!0),n.setTeamState({users:r.users.map(t=>t.id===s?(0,$.Z)({},t,{isDisabled:!0}):t),disableUserDialogState:{open:!1,loading:!1}})}catch(t){n.setTeamState({disableUserDialogState:(0,$.Z)({},r.disableUserDialogState,{loading:!1,error:(0,ti.P)(t)})}),null==a||a(null,t)}},getTemporaryUsersConfig:async()=>{n.setTeamError({key:v.CONFIG_TEMPORARY_USERS,value:!1});try{let t=await e.teams.getTemporaryUserConfiguration();n.setTeamState({temporaryUsersConfig:t})}catch(t){n.setTeamError({key:v.CONFIG_TEMPORARY_USERS,value:(0,ti.P)(t)})}},updateUserExpirationTime:async i=>{let{callback:a}=i,s=(0,x.Z)(i,im),r=t.auth.teamState;n.setTeamLoader({key:v.UPDATE_USER_EXPIRATION_TIME,value:!0});try{let t=await e.teams.updateUserExpirationTime(s);n.setTeamState({users:r.users.map(e=>e.id===s.userId?(0,$.Z)({},e,{temporaryExpirationDate:new Date(t.temporaryExpirationDate)}):e)}),null==a||a(!0)}catch(t){n.setTeamError({key:v.UPDATE_USER_EXPIRATION_TIME,value:(0,ti.P)(t)}),null==a||a(null,t)}finally{n.setTeamLoader({key:v.UPDATE_USER_EXPIRATION_TIME,value:!1})}},setUserAsPermanent:async i=>{let{callback:a}=i,s=(0,x.Z)(i,ib),r=t.auth.teamState;n.setTeamLoader({key:v.UPDATE_USER_EXPIRATION_TIME,value:!0});try{await e.teams.setPermanentUser(s.userId),n.setTeamState({users:r.users.map(t=>t.id===s.userId?(0,$.Z)({},t,{temporaryExpirationDate:void 0}):t)}),null==a||a(!0)}catch(t){n.setTeamError({key:v.UPDATE_USER_EXPIRATION_TIME,value:(0,ti.P)(t)}),null==a||a(null,t)}finally{n.setTeamLoader({key:v.UPDATE_USER_EXPIRATION_TIME,value:!1})}}}};let iw=["callback","userId"],iT=["callback"],iP=["callback"];var iE=(t,e,n)=>({loadAllSubTenantsUsers:async i=>{var a,s,r,o,l;let{silentLoading:u,callback:c}=i,d=t.auth.teamState.allUsersQueryParams,g=null!=(a=i._limit)?a:d._limit,h=null!=(s=i._offset)?s:d._offset,p={_limit:g||20,_offset:h||0,_filter:(null!=(r=i._filter)?r:d._filter)||"",_sortBy:(null!=(o=i._sortBy)?o:d._sortBy)||"name",_order:(null!=(l=i._order)?l:d._order)||"DESC"};n.setTeamLoader({key:v.USERS,value:!u}),n.setTeamState({allUsersQueryParams:p});try{let[{items:t,_metadata:{totalPages:i,totalItems:a}},{items:s},{items:r}]=await Promise.all([e.subTenants.loadAllUsers((0,$.Z)({},p)),e.teams.loadAvailableRoles(),e.teams.loadAvailablePermissions()]);n.setTeamState({allUsers:t,totalPages:i,totalItems:a,roles:s,permissions:r}),null==c||c(t)}catch(t){n.setTeamError({key:v.USERS,value:(0,ti.P)(t)}),n.setTeamState({totalPages:0,users:[]}),null==c||c(null,t)}n.setTeamLoader({key:v.USERS,value:!1})},setUserRolesForSubTenants:async i=>{let{callback:a,userId:s}=i,r=(0,x.Z)(i,iw),o=t.auth.teamState;n.setTeamState({addUserDialogState:(0,$.Z)({},o.addUserDialogState,{loading:!0})});try{await e.subTenants.setUserRolesForSubTenants(s,r);let t=o.allUsers.find(t=>t.id===s),i=[];t&&(i=t.tenants.map(t=>{var e;return(0,$.Z)({},t,{roles:(null==(e=r.subTenantsRoles.find(e=>e.tenantId===t.tenantId))?void 0:e.roleIds.map(t=>o.roles.find(({id:e})=>t===e)).filter(t=>t))||t.roles})})),n.setTeamState({allUsers:[...o.allUsers.filter(t=>t.id!==s),...t?[(0,$.Z)({},t,{tenants:i})]:[]],addUserDialogState:{open:!1,loading:!1}}),null==a||a(!0)}catch(t){n.setTeamState({addUserDialogState:(0,$.Z)({},o.addUserDialogState,{loading:!1,error:(0,ti.P)(t)})}),null==a||a(null,t)}},deleteUserFromSubTenants:async i=>{let{callback:a}=i,s=(0,x.Z)(i,iT),r=t.auth.teamState;n.setTeamState({deleteUserDialogState:(0,$.Z)({},r.deleteUserDialogState,{loading:!0})});try{await e.subTenants.removeUserFromTenantAndSubTenants(s),null==a||a(!0),n.setTeamState({allUsers:r.allUsers.filter(t=>t.id!==s.userId&&t.tenants.length===s.subTenants.length),deleteUserDialogState:{open:!1,loading:!1}})}catch(t){n.setTeamState({deleteUserDialogState:(0,$.Z)({},r.deleteUserDialogState,{loading:!1,error:(0,ti.P)(t)})}),null==a||a(null,t)}},addUserToSubTenants:async i=>{let{callback:a}=i,s=(0,x.Z)(i,iP),r=t.auth.teamState;n.setTeamState({addUserDialogState:(0,$.Z)({},r.addUserDialogState,{loading:!0})});try{await e.subTenants.addUserToTenantAndSubTenants(s);let{items:t,_metadata:{totalPages:i,totalItems:r}}=await e.subTenants.loadAllUsers({_limit:20,_offset:0,_filter:"",_sortBy:"name",_order:"DESC"});n.setTeamState({allUsers:t,totalPages:i,totalItems:r,addUserDialogState:{open:!1,loading:!1}}),null==a||a(null)}catch(t){n.setTeamState({addUserDialogState:(0,$.Z)({},r.addUserDialogState,{loading:!1,error:(0,ti.P)(t)})}),null==a||a(null,t)}}});let iO=["callback"],i_=["callback"],iI=["callback"],iD=["callback"];var iL=(t,e,n)=>{let i=async(t,e,i,a)=>{n.setTeamLoader({key:t,value:e});try{await a()}catch(e){n.setTeamError({key:t,value:(0,ti.P)(e)}),null==i||i(null,e)}finally{n.setTeamLoader({key:t,value:!1})}};return{resendActivationLink:async t=>{let{callback:n}=t,a=(0,x.Z)(t,iO);await i(v.RESEND_ACTIVATE_LINK,a.userId,n,async()=>{await e.teams.resendActivationLink(a),null==n||n(!0)})},resendInvitationLink:async t=>{let{callback:n}=t,a=(0,x.Z)(t,i_);await i(v.RESEND_INVITATION_LINK,a.email,n,async()=>{await e.teams.resendInvitationLink(a),null==n||n(!0)})},resendInvitationEmail:async t=>{let{callback:n}=t,a=(0,x.Z)(t,iI);await i(v.RESEND_INVITATION_LINK,n,a.email,async()=>{await e.auth.resendInvitationEmail(a),null==n||n(!0)})},resendInvitationLinkToAllSubTenants:async t=>{let{callback:n}=t,a=(0,x.Z)(t,iD);await i(v.RESEND_INVITATION_LINK,a.email,n,async()=>{await e.teams.resendInvitationLinkToAllTenants(a),null==n||n(!0)})}}},ik=(t,e,n)=>{let i=async()=>{n.setTeamError({key:v.CONFIG_TOKEN_LINK,value:!1});try{let t=await e.teams.getInviteLinkConfiguration();n.setTeamState({inviteTokenState:(0,$.Z)({},t)})}catch(t){n.setTeamError({key:v.CONFIG_TOKEN_LINK,value:(0,ti.P)(t)})}};return{getInvitationLink:async()=>{n.setTeamError({key:v.GET_TOKEN_LINK,value:!1});try{await i();let a=await e.teams.getInviteUserLink(),{inviteTokenState:s}=t.auth.teamState;n.setTeamState({inviteTokenState:(0,$.Z)({},s,a)})}catch(t){n.setTeamError({key:v.GET_TOKEN_LINK,value:(0,ti.P)(t)})}},createInvitationLink:async i=>{let{callback:a}=i;n.setTeamError({key:v.CREATE_TOKEN_LINK,value:!1});let{inviteTokenState:s}=t.auth.teamState;try{let t=await e.teams.createInviteUserLink({expiresInMinutes:43200});n.setTeamState({inviteTokenState:(0,$.Z)({},s,t)}),null==a||a(t.token)}catch(t){null==a||a(null,t),n.setTeamError({key:v.CREATE_TOKEN_LINK,value:(0,ti.P)(t)})}},updateInvitationLink:async i=>{let{callback:a,expiresInMinutes:s,shouldSendEmail:r}=i;n.setTeamError({key:v.UPDATE_TOKEN_LINK,value:!1});try{let{inviteTokenState:i}=t.auth.teamState,o=await e.teams.updateInviteUserLink({expiresInMinutes:s,shouldSendEmail:r});n.setTeamState({inviteTokenState:(0,$.Z)({},i,o)}),null==a||a(!0)}catch(t){null==a||a(null,t),n.setTeamError({key:v.UPDATE_TOKEN_LINK,value:(0,ti.P)(t)})}},deleteInvitationLink:async t=>{let{callback:i}=null!=t?t:{};n.setTeamError({key:v.DELETE_TOKEN_LINK,value:!1});try{await e.teams.deleteInviteUserLink(),n.setTeamState({inviteTokenState:void 0}),null==i||i(!0)}catch(t){n.setTeamError({key:v.DELETE_TOKEN_LINK,value:(0,ti.P)(t)}),null==i||i(!1,t)}}}},iR=(t,e,n)=>{let i=e=>{Object.assign(t.auth.teamState,e)},a=async t=>{};return(0,$.Z)({setTeamLoader:e=>{Object.assign(t.auth.teamState,{loaders:(0,$.Z)({},t.auth.teamState.loaders,{[e.key]:e.value})})},setTeamError:e=>{Object.assign(t.auth.teamState,{errors:(0,$.Z)({},t.auth.teamState.errors,{[e.key]:e.value}),loaders:(0,$.Z)({},t.auth.teamState.loaders,{[e.key]:!1})})},setTeamState:i,resetTeamState:()=>{(0,tn.BW)(t,["auth","teamState"],id)},openAddUserDialog:t=>{i({addUserDialogState:(0,$.Z)({open:!0,loading:!1,error:!1},t)})},closeAddUserDialog:e=>{var n,a;null==(n=(a=t.auth.teamState.addUserDialogState).onClose)||n.call(a,e),i({addUserDialogState:{loading:!1,error:!1,open:!1}})},openDeleteUserDialog:t=>{i({deleteUserDialogState:(0,$.Z)({open:!0,loading:!1,error:!1},t)})},closeDeleteUserDialog:e=>{var n,a;null==(n=(a=t.auth.teamState.deleteUserDialogState).onClose)||n.call(a,e),i({deleteUserDialogState:{loading:!1,error:!1,open:!1}})},lockUser:a},iA(t,e,n),iE(t,e,n),iL(t,e,n),ik(t,e,n))};let iU={tenants:[],subTenants:[],loading:!0,tenantTree:null};var iC=t=>(0,Q.D)(iU,t),iN=(t,e,n)=>{let i=e=>{Object.assign(t.auth.tenantsState,e)},a=async e=>{var n,a;i({loading:!0});try{let a=(0,ed.Ft)(t.root.appName),s=await a();i({tenants:s.tenants,activeTenant:s.activeTenant,loading:!1}),null==e||null==(n=e.callback)||n.call(e,[])}catch(t){null==e||null==(a=e.callback)||a.call(e,[],t),i({loading:!1})}},s=async t=>{var n,a;i({loading:!0});try{let a=await e.tenants.getSubTenants();i({subTenants:a,loading:!1}),null==t||null==(n=t.callback)||n.call(t,!0)}catch(e){i({loading:!1}),null==t||null==(a=t.callback)||a.call(t,null,e)}},r=async t=>{var n,a;i({loading:!0});try{let a=await e.tenants.getSubTenantsAsTree();i({tenantTree:a,loading:!1}),null==t||null==(n=t.callback)||n.call(t,!0)}catch(e){i({loading:!1}),null==t||null==(a=t.callback)||a.call(t,null,e)}};return{setTenantsState:i,resetTenantsState:()=>{(0,tn.BW)(t,["auth","tenantsState"],iU)},switchTenant:async t=>{let{tenantId:i,callback:a}=t;n.setAuthState({isLoading:!0});try{await e.tenants.switchTenant({tenantId:i}),await n.__refreshToken(),(null==a?void 0:a(!0))||n.setAuthState({isLoading:!1})}catch(t){n.setAuthState({isLoading:!1}),null==a||a(!1,t)}},loadTenants:a,loadSubTenants:s,loadSubTenantsTree:r}},iM=(t,e,n)=>{let i=e=>{t.auth.user&&(t.auth.user.entitlements=e)},a=e=>{var n;let a=null==(n=t.auth.user)?void 0:n.entitlements;(0,J.tI)(a,e)||i(e)},s=async t=>{let n=null==t?void 0:t.callback;try{let t=await e.entitlements.loadEntitlementsV2();a(t),null==n||n(!0)}catch(t){null==n||n(!1)}};return{setEntitlements:i,handleFetchedEntitlements:a,loadEntitlements:s}};let ij=["routes"],iF=t=>{let e=null!=t?t:{},{routes:n}=e,i=(0,x.Z)(e,ij);return(0,Q.D)((0,$.Z)({routes:(0,$.Z)({},ec.M,n),onRedirectTo:()=>void 0,isAuthenticated:!1,isLoading:!0,isSSOAuth:!1,user:null,error:void 0,userIp:void 0},i,{acceptInvitationState:te(null==i?void 0:i.acceptInvitationState),accountSettingsState:tr(null==i?void 0:i.accountSettingsState),activateAccountState:tc(null==i?void 0:i.activateAccountState),unlockAccountState:tm(null==i?void 0:i.unlockAccountState),apiTokensState:tw(null==i?void 0:i.apiTokensState),applicationsState:tE(null==i?void 0:i.applicationsState),customLoginState:tL(null==i?void 0:i.customLoginState),forgotPasswordState:tN(null==i?void 0:i.forgotPasswordState),groupsState:tZ(null==i?void 0:i.groupsState),groupsDialogsState:tB(null==i?void 0:i.groupsDialogsState),impersonateState:tH(null==i?void 0:i.impersonateState),loginState:tq(null==i?void 0:i.loginState),mfaState:eD(null==i?void 0:i.mfaState),allAccountsState:eG(null==i?void 0:i.allAccountsState),allAccountsDialogsState:eY(null==i?void 0:i.allAccountsDialogsState),passkeysState:e0(null==i?void 0:i.passkeysState),profileState:e5(null==i?void 0:i.profileState),provisioningState:e8(null==i?void 0:i.provisioningState),resetPhoneNumberState:nn(null==i?void 0:i.resetPhoneNumberState),rolesState:nl(null==i?void 0:i.rolesState),restrictionsState:nS(null==i?void 0:i.restrictionsState),securityCenterState:nE(null==i?void 0:i.securityCenterState),securityPolicyState:nD(null==i?void 0:i.securityPolicyState),sessionsPolicyState:nN(null==i?void 0:i.sessionsPolicyState),sessionsState:nZ(null==i?void 0:i.sessionsState),signUpState:nG(null==i?void 0:i.signUpState),smsState:nH(null==i?void 0:i.smsState),socialLoginState:n0(null==i?void 0:i.socialLoginState),ssoState:n3(null==i?void 0:i.ssoState),stepUpState:ir(null==i?void 0:i.stepUpState),teamState:ig(null==i?void 0:i.teamState),tenantsState:iC(null==i?void 0:i.tenantsState)}))},iZ=(t,e,n,i)=>{let a=e=>{Object.keys(e).forEach(n=>{(0,tn.X3)(t.auth[n])?Object.assign(t.auth[n],e[n]):t.auth[n]=e[n]})},s=ta(t,e,n),r=tl(t,e,n),o=tv(t,e,n),l=tb(t,e,n),u=tT(t,e,n),c=tI(t,e,n),d=tU(t,e,n),g=iM(t,e,n),h=tj(t,e,n),p=tx(t,e,n),f=tV(t,e,n),y=tz(t,e,n),v=e_(t,e,n),S=eF(t,e,n),m=eJ(t,e,n),b=eX(t,e,n),A=e1(t,e,n),w=e3(t,e,n),T=nt(t,e,n),P=nr(t,e,n),E=nf(t,e,n),O=nT(t,e,n),_=n_(t,e,n),I=nU(t,e,n),D=nj(t,e,n),L=n$(t,e,n),k=nV(t,e,n),R=nX(t,e,n),U=n5(t,e,n),C=ia(t,e,n),N={acceptInvitationActions:s,accountSettingsActions:r,activateAccountActions:o,unlockAccountActions:l,apiTokensActions:u,applicationsActions:c,customLoginActions:d,entitlementsActions:g,forgotPasswordActions:h,groupsActions:p,groupsDialogsActions:f,impersonateActions:y,loginActions:v,mfaActions:S,allAccountsActions:m,allAccountsDialogActions:b,passkeysActions:A,profileActions:w,provisioningActions:T,resetPhoneNumberActions:P,rolesActions:E,restrictionsActions:O,securityCenterActions:_,securityPolicyActions:I,sessionsPolicyActions:D,sessionsActions:L,signUpActions:k,smsActions:R,socialLoginActions:U,ssoActions:C,stepUpActions:ic(t,e,n),teamActions:iR(t,e,n),tenantsActions:iN(t,e,n)};return[(0,$.Z)({setAuthState:a,setState:a,resetAuthState:()=>{(0,tn.BW)(t,["auth"],i)},setUser:t=>{a({user:t})}},Object.values(N).reduce((t,e)=>(0,$.Z)({},t,e),{})),N]};var i$=n(1016),ix=n(3054),iG=n(9095),iB=n(2425),iV=n(4274),iW=n(5015),iH=n(6091),iK=n.n(iH);let iz={total:0,offset:0,filter:"",sortBy:"createdAt",context:null,filters:[],rowsData:[],lastUpdated:new Date,isLoading:!0,isFetchMore:!1,totalToday:0,currentPage:0,headerProps:[],sortDirection:"desc",severeThisWeek:0,predefinedFilters:[],isDownloadingCsv:!1,virtualScroll:!1};var iJ=t=>(0,Q.D)(iz,t),iq=(t,e,n)=>{let i=()=>{t.audits.isLoading=!0},a=()=>{t.audits.isLoading=!1},s=()=>{t.audits.isDownloadingCsv=!0},r=()=>{t.audits.isDownloadingCsv=!1},o=e=>{t.audits.error=void 0,t.audits.totalToday=e.totalToday,t.audits.severeThisWeek=e.severeThisWeek},l=e=>{var n;t.audits.error=null!=(n=t.audits.error)?n:{},Object.assign(t.audits.error,{[e.name]:e.error})},u=e=>{t.audits.error={},t.audits.headerProps=e.properties,t.audits.themeAudits=e.theme?e.theme.styles:{}},c=e=>{t.audits.error={},t.audits.rowsData=e.rowsData,t.audits.lastUpdated=new Date,t.audits.total=e.total},d=e=>{t.audits.filters=e,t.audits.currentPage=0,t.audits.offset=0,t.audits.isLoading=!0},g=async()=>{let{sortBy:n,sortDirection:i}=t.audits;try{let t=await e.audits.getAuditsStats({sortBy:n,sortDirection:i,count:20});o(t)}catch(t){console.error("failed to load stats - ",t),l({name:"stats",error:t})}},h=async()=>{try{let t=await e.metadata.getAuditsMetadata();u(t)}catch(t){console.error("failed to load metadata - ",t),l({name:"metadata",error:t})}},p=t=>t.reduce((t,e)=>(t[e.key]=e.value,t),{}),f=async n=>{let{filters:i,sortBy:s,sortDirection:r,filter:o,offset:u,virtualScroll:d}=t.audits,{appendMode:g=d,onlyOneLoad:h=!0,offset:f=0}=n||{},{rowsData:y}=g?t.audits:{rowsData:[]};try{let t=p(i),{data:n,total:l}=await e.audits.getAudits((0,$.Z)({},d&&{paginationMode:"virtual"},{sortDirection:r,sortBy:s,filter:o},t,{offset:d?y.length+f||y.length+u:f||u,count:20}));c({rowsData:[...y,...n],total:l}),h&&a()}catch(t){console.error("failed to load audits - ",t),l({name:"audits",error:t})}};return{initData:async()=>{i(),await Promise.all([g(),h(),f({onlyOneLoad:!1})]),a()},loadAudits:f,removeFilter:async e=>{let{filters:n}=t.audits,i=n.findIndex(t=>t.key===e.key);i<0||d([...n.slice(0,i),...n.slice(i+1)])},filterData:async e=>{let{filters:n}=t.audits,i=n.findIndex(t=>t.key===e.key);i<0&&(i=n.length),d([...n.slice(0,i),e,...n.slice(i+1)])},exportCSV:async()=>{let{filters:n,sortBy:i,sortDirection:a,filter:o,headerProps:l=[]}=t.audits,u=p(n);s();try{await e.audits.exportAudits((0,$.Z)({endpoint:"csv/v2",headerProps:l,sortDirection:a,sortBy:i,filter:o},u,{offset:0,outputFileName:"audits.csv"}))}catch(t){console.error("failed to export audits - ",t)}finally{r()}}}};let iY=(t,e)=>Object.keys(t).reduce((n,i)=>e.includes(i)?(0,$.Z)({},n,{[i]:t[i]}):(0,$.Z)({},n,{[i]:()=>{console.debug(`Action ${String(i)} was called`)}}),{});var iX=(t,e,n)=>iY(ta(t,e,n),["setAcceptInvitationState","resetAcceptInvitationState"]),iQ=(t,e,n)=>{let i=iY(tl(t,e,n),["setAccountSettingsState","resetAccountSettingsState"]);return i.saveAccountSettings=async e=>{var n;i.setAccountSettingsState({loading:!0}),await (0,tn.gw)();let{address:a,timezone:s,dateFormat:r,timeFormat:o,currency:l,logo:u}=t.auth.accountSettingsState,c=(0,$.Z)({address:a,timezone:s,dateFormat:r,timeFormat:o,currency:l,logo:u},e);i.setAccountSettingsState((0,$.Z)({},c,{loading:!1})),null==(n=e.callback)||n.call(e,c)},i.loadAccountSettings=async t=>{i.setAccountSettingsState({loading:!(null!=t&&t.silentLoading),error:null}),await (0,tn.gw)(),i.setAccountSettingsState((0,$.Z)({address:"Tel-aviv",timezone:"Asia/Jerusalem",dateFormat:"DD/MM/YYYY",timeFormat:"HH:mm",currency:"USD",loading:!1},t))},i},i0=(t,e,n)=>iY(tv(t,e,n),["setActivateState","resetActivateState","setActivateStrategyState"]),i1=(t,e,n)=>iY(eJ(t,e,n),["setAllAccountsLoader","setAllAccountsError","setAllAccountsState","setSelectedAccountState","resetAllAccountsState","clearSelectedAccount"]),i2=n(3119),i5=n(589);let i4={clientId:"CLIENT_ID_16806d3d-8fc3-4450-be97-abdaf66b723e",secret:"SECRET_16806d3d-8fc3-4450-be97-abdaf66b723e",createdAt:"createdAt",description:"Demo API Token (preview only)"},i3=(0,$.Z)({},i4,{roleIds:[],tenantId:"my-tenant-id",createdByUserId:"createdByUserId"}),i6=[{id:"a040dcf6-b907-4e83-9970-6bd23c88fd40",key:"ReadOnly",name:"Read Only",description:null,isDefault:!1,createdAt:new Date,updatedAt:new Date,permissions:["8d71b676-754c-4600-afe7-ca5add1e6809","04dbcc11-61db-40a9-9577-9b73e50d1d03"],vendorId:"vendorId"},{id:"b43b2c4b-e056-4eec-8c55-d200a475bbc0",key:"Admin",name:"Admin",description:null,isDefault:!0,createdAt:new Date,updatedAt:new Date,permissions:["8d71b676-754c-4600-afe7-ca5add1e6809","04dbcc11-61db-40a9-9577-9b73e50d1d03","16647407-ed6f-4ca6-83a0-86225d921959","f403c6b9-1abe-4ec7-9971-aa032255fc25","a43e059d-d731-44b1-94bb-fb6b16c62210"],vendorId:"vendorId"},{id:"1234",key:"Support",name:"Support",description:null,isDefault:!0,createdAt:new Date,updatedAt:new Date,permissions:["8d71b676-754c-4600-afe7-ca5add1e6809","04dbcc11-61db-40a9-9577-9b73e50d1d03","f26b00f8-ffe0-4739-b15c-7db15c27ea26","a9c803b0-ebfa-49b9-9607-f0d3a390ee61"],tenantId:"tenantId",vendorId:"vendorId"}],i8={sub:"",tenants:[],id:"testId",name:"Demo User Name",email:"demo-user@frontegg.com",mfaEnrolled:!0,profilePictureUrl:"https://www.gravatar.com/avatar/42b2ad2bad6fc9b9db5086dfcf8072ac?d=https://ui-avatars.com/api/fe/128/random?t=1617261890875?t=1617261917434",roles:[{id:"roleId",key:"admin",isDefault:!1,name:"Admin",description:null,permissions:["8d71b676-754c-4600-afe7-ca5add1e6809","04dbcc11-61db-40a9-9577-9b73e50d1d03"],tenantId:"tenantId",vendorId:"vendorId",createdAt:new Date,updatedAt:new Date}],permissions:[{id:"8d71b676-754c-4600-afe7-ca5add1e6809",key:"fe.*",name:"General Admin",description:"description",categoryId:"category",fePermission:!0,createdAt:new Date,updatedAt:new Date,roleIds:[]}],tenantId:"my-tenant-id",tenantIds:["my-tenant-id"],activatedForTenant:!0,metadata:JSON.stringify({phoneNumber:"+972-54123456",jobTitle:"Developer",address:{city:"Tel Aviv",country:"Israel"}}),verified:!1},i9=(0,$.Z)({},i8,{accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MTY5YmY0Zi02YmI5LTQ5NGMtOGNkZS05MDc4NDQ0NWY4MDciLCJuYW1lIjoiRHVtbXkgVXNlciIsImVtYWlsIjoiZHVtbXlAZnJvbnRlZ2cuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsIm1ldGFkYXRhIjp7fSwicm9sZXMiOlsiYWRtaW4iXSwicGVybWlzc2lvbnMiOlsiZmUuKiJdLCJ0ZW5hbnRJZCI6Im15LXRlbmFudC1pZCIsInRlbmFudElkcyI6WyJteS10ZW5hbnQtaWQiXSwicHJvZmlsZVBpY3R1cmVVcmwiOiJodHRwczovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyLzQyYjJhZDJiYWQ2ZmM5YjlkYjUwODZkZmNmODA3MmFjP2Q9aHR0cHM6Ly91aS1hdmF0YXJzLmNvbS9hcGkvZmUvMTI4L3JhbmRvbT90PTE2MTcyNjE4OTA4NzU_dD0xNjE3MjYxOTE3NDM0IiwidHlwZSI6InVzZXJUb2tlbiIsImlhdCI6MTYxNzkwNjMyNCwiZXhwIjoxNjE3OTkyNzI0LCJpc3MiOiJmcm9udGVnZyJ9.paaXLkpWEWbQmUtoK2P8IwXCxK4WJp7XhXonvzF8g1I",expiresIn:86400,mfaRequired:!1,refreshToken:"refresh-token-dummy-de39dc9c-9d22-4852-b7f5-c3c0aa613b58",type:"userToken",iat:1617906324,exp:1617992724,iss:"frontegg",email_verified:!0}),i7={id:"id",enforceMFAType:"DontForce",createdAt:new Date,updatedAt:new Date,allowOverrideEnforcePasswordHistory:!0,allowOverridePasswordComplexity:!1,allowOverridePasswordExpiration:!1,allowSignups:!0,apiTokensEnabled:!0,cookieSameSite:"cookieSameSite",defaultRefreshTokenExpiration:0,defaultTokenExpiration:1,publicKey:"publicKey"},at={allowSignups:!0,allowNotVerifiedUsersLogin:!1,apiTokensEnabled:!0,forcePermissions:!1,authStrategy:z.lw.EmailAndPassword,machineToMachineAuthStrategy:z.QZ.ClientCredentials},ae={id:"id",enforceMFAType:"DontForce",createdAt:new Date,updatedAt:new Date},an={id:"id",enabled:!0,maxAttempts:1,createdAt:new Date,updatedAt:new Date},ai={id:"id",enabled:!0,historySize:1,createdAt:new Date,updatedAt:new Date},aa={enabled:!0,domain:"domain",validated:!0,generatedVerification:"generatedVerification",ssoEndpoint:"ssoEndpoint",publicCertificate:"publicCertificate",signRequest:!0,createdAt:new Date,updatedAt:new Date,acsUrl:void 0,spEntityId:void 0,oidcClientId:void 0,oidcSecret:void 0,type:void 0},as={configuration:{acsUrl:"acsUrl",spEntityId:"spEntityId"}},ar=[{id:"id",description:"description",key:"key",name:"name",permissions:[],permissionLevel:1}],ao=[{description:"string",fePermission:!0,id:"id",key:"key",name:"name",roleIds:[],createdAt:new Date,updatedAt:new Date,categoryId:"categoryId"}],al={id:"id2",email:"demo-user2@frontegg.com",name:"Demo User Name2",phone:void 0,profileImage:void 0,profileImageUrl:void 0,tenantId:"tenantId",vendorId:"vendorId",roleIds:[],activatedForTenant:!0,verified:!1,createdAt:new Date().toISOString(),customData:void 0,lastLogin:void 0,mfaEnabled:void 0,roles:[i6[0]],groups:[{id:"id2",name:"Developers",color:"#03A9F4",roles:[i6[0]],managedBy:ih.s.FRONTEGG}]},au={id:al.id,email:al.email,name:al.name,phoneNumber:void 0,profileImage:void 0,tenantId:"tenantId",activatedForTenant:!0,createdAt:new Date(2022,4,1),verified:!0,lastLogin:new Date(2022,5,25),mfaEnrolled:!1,roles:[i6[1]],tenantIds:[],metadata:"",sub:"",tenants:[]},ac={id:"id",email:"demo-user@frontegg.com",name:"Demo User Name",phone:void 0,profileImage:void 0,profileImageUrl:void 0,tenantId:"tenantId",vendorId:"vendorId",roleIds:[],activatedForTenant:!0,createdAt:new Date(2022,4,1).toISOString(),verified:!0,customData:void 0,lastLogin:new Date(2022,5,25).toISOString(),mfaEnabled:void 0,roles:[i6[1]],groups:[{id:"id1",name:"Designers",color:"#E1F5E2",roles:[i6[0]],managedBy:ih.s.FRONTEGG}]},ad={id:ac.id,email:ac.email,name:ac.name,phoneNumber:void 0,profileImage:void 0,tenantId:"tenantId",activatedForTenant:!0,createdAt:new Date(2022,4,1),verified:!0,lastLogin:new Date(2022,5,25),mfaEnrolled:!1,roles:[i6[1]],tenantIds:[],metadata:"",sub:"",tenants:[]},ag={metadata:"",mfaEnrolled:!1,provider:"",sub:"",tenantIds:[],tenants:[],verified:!1,id:"id",email:"email",name:"name",tenantId:"tenantId",createdAt:new Date},ah=[ac,al],ap=[ad,au],af=[ag],ay=[{id:"my-tenant-id",isReseller:!1,name:"Frontegg demo",deletedAt:null,metadata:void 0,tenantId:"my-tenant-id",vendorId:"vendorId",createdAt:new Date,updatedAt:new Date,address:void 0,timezone:void 0,dateFormat:void 0,timeFormat:void 0,currency:void 0,logo:void 0}],av=[{id:"laptop",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15",createdAt:new Date,ipAddress:"190.194.88.251",current:!0},{id:"iphone",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_2_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.2 Mobile/15E148 Safari/604.1",createdAt:new Date(Date.now()-1e4),ipAddress:"191.49.203.21"},{id:"tablet",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; SGP771 Build/32.2.A.0.253; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/52.0.2743.98 Safari/537.36",createdAt:new Date(Date.now()-3e4),ipAddress:"130.19.196.136"},{id:"anotherlaptop",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15",createdAt:new Date(Date.now()-1002232300),ipAddress:"2.228.163.92"}],aS={isActive:!0,strategy:ny.c.ALLOW},am=[{updatedAt:new Date,createdAt:new Date,id:"1",ip:"255.255.255.255",isActive:!0,strategy:ny.c.ALLOW,description:"My IP"},{updatedAt:new Date,createdAt:new Date,id:"2",ip:"255.255.255.254",isActive:!0,strategy:ny.c.ALLOW,description:"IP 2"},{updatedAt:new Date,createdAt:new Date,id:"3",ip:"255.255.255.253",isActive:!0,strategy:ny.c.BLOCK,description:"IP 3"},{updatedAt:new Date,createdAt:new Date,id:"4",ip:"255.255.255.253",isActive:!0,strategy:ny.c.BLOCK,description:"IP 4"}],ab=t=>{let e=[];return Array.from({length:t}).forEach((t,n)=>{e.push((0,$.Z)({},ac,{name:"Demo User",id:`id${n}`,profilePictureUrl:null,createdAt:new Date}))}),e},aA=t=>({id:"b43b2c4b-e056-4eec-8c55-d200a475bbc0"+t,key:t,name:t,description:null,isDefault:!0,createdAt:new Date,updatedAt:new Date,permissions:[],tenantId:"tenantId",vendorId:"vendorId"}),aw=[{id:"id1",name:"Designers",color:"#E1F5E2",description:"The whole design team",users:ab(6),roles:[aA("Editor")],metadata:'{"lastTermsCheck":"2022-08-16T10:31:11.270Z"}',managedBy:ih.s.FRONTEGG},{id:"id2",name:"Developers",color:"#03A9F4",description:"All frontend and backend developers",users:ab(44),roles:[aA("Editor")],managedBy:ih.s.FRONTEGG},{id:"id3",name:"Product",color:"#E1583E",description:"PMs and team leads",users:ab(8),roles:[aA("Viewer")],managedBy:ih.s.FRONTEGG},{id:"id4",name:"Management",color:"#9AE0FF",description:"Executives",users:ab(5),roles:[aA("Admin")],managedBy:ih.s.FRONTEGG},{id:"id5",name:"Sales",color:"#ED8E7C",users:ab(21),description:"BDR, AE, and inside sales",roles:[aA("Viewer")],managedBy:ih.s.FRONTEGG},{id:"id6",name:"Support",color:"#A79D7B",users:ab(23),description:"Dev success and customer success",roles:[aA("Admin")],managedBy:ih.s.FRONTEGG},{id:"id7",name:"Marketing",color:"#2CA744",users:ab(10),description:"The marketing department",roles:[aA("Viewer")],managedBy:ih.s.FRONTEGG},{id:"id8",name:"HR",color:"#EAE1C2",users:ab(4),description:"Human resources",roles:[aA("Viewer")],managedBy:ih.s.FRONTEGG},{id:"id9",name:"Finance",color:"#5587C0",users:ab(3),roles:[aA("Viewer")],managedBy:ih.s.FRONTEGG},{id:"id10",name:"Operations",color:"#B1CAE7",users:ab(8),roles:[aA("Editor")],managedBy:ih.s.FRONTEGG},{id:"id11",name:"Legal",color:"#2CA744",users:ab(4),roles:[aA("Viewer")],managedBy:ih.s.FRONTEGG}],aT={scoring:{score:79},recommendations:{items:[{code:i2.uy.FORCE_MFA,severity:i2.TX.WARNING,category:i2.D_.MFA},{code:i2.uy.ENABLE_FORCE_RELOGIN,severity:i2.TX.WARNING,category:i2.D_.SESSIONS}]}},aP={insights:{items:[{category:i2.D_.MFA,code:i2.FM.PARTIALLY_FORCED_MFA,metadata:{totalUsers:2,mfa:{enrolledUsersCount:1}}},{category:i2.D_.SESSIONS,code:i2.FM.PARTIAL_SESSION_SETTINGS,metadata:{totalUsers:2,sessions:{idleTimeoutRecommendation:1800}}},{category:i2.D_.PASSWORD,code:i2.FM.IMPROVE_PASSWORD_HISTORY_POLICY,metadata:{password:{userLockoutRecommendation:5,historyRecommendations:5}}},{category:i2.D_.DOMAIN,code:i2.FM.NO_IP_RESTRICTIONS,metadata:{restrictions:{ipsCount:1,domainsCount:1}}}]}},aE={users:ap,totalUsersItems:2,totalUsersPages:1,usersPageOffset:0},aO={users:[ap[0]],totalUsersItems:1,totalUsersPages:1,usersPageOffset:0,queryParams:{_maxInactiveSeconds:7776e3}},a_={users:[ap[1]],totalUsersItems:1,totalUsersPages:1,usersPageOffset:0};i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE,i5.D.ASSIGNABLE;for(var aI={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},aD=new Uint8Array(16),aL=[],ak=0;ak<256;++ak)aL.push((ak+256).toString(16).slice(1));var aR=function(t,e,n){if(aI.randomUUID&&!e&&!t)return aI.randomUUID();var i=(t=t||{}).random||(t.rng||function(){if(!Z&&!(Z="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Z(aD)})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=i[a];return e}return function(t,e=0){return(aL[t[e+0]]+aL[t[e+1]]+aL[t[e+2]]+aL[t[e+3]]+"-"+aL[t[e+4]]+aL[t[e+5]]+"-"+aL[t[e+6]]+aL[t[e+7]]+"-"+aL[t[e+8]]+aL[t[e+9]]+"-"+aL[t[e+10]]+aL[t[e+11]]+aL[t[e+12]]+aL[t[e+13]]+aL[t[e+14]]+aL[t[e+15]]).toLowerCase()}(i)},aU=(t,e,n)=>{let i=iY(tT(t,e,n),["setApiTokensState","resetApiTokensState","setApiTokensLoader","setApiTokensError"]);return i.addTenantApiToken=async e=>{let{description:n,roleIds:a,callback:r}=e;i.setApiTokensLoader({key:s.ADD_API_TOKEN,value:!0});let{apiTokensDataTenant:o}=t.auth.apiTokensState,l=(0,$.Z)({},i3,{description:n,roleIds:a,clientId:`CLIENT_ID_${aR()}`});i.setApiTokensState({showAddTokenDialog:!1}),await (0,tn.gw)(200),i.setApiTokensState({apiTokensDataTenant:[...o,l],successDialog:{open:!0,secret:l.secret,clientId:l.clientId}}),await (0,tn.gw)(200),i.setApiTokensLoader({key:s.ADD_API_TOKEN,value:!1}),null==r||r(null)},i.deleteTenantApiToken=async t=>{i.setApiTokensLoader({key:s.DELETE_API_TOKEN,value:!0}),await (0,tn.gw)(200);let e=[i3];i.setApiTokensState({apiTokensDataTenant:e.filter(e=>e.clientId!==t),deleteTokenDialog:{open:!1,clientId:t}}),i.setApiTokensLoader({key:s.DELETE_API_TOKEN,value:!1})},i.loadApiTokens=async t=>{var e;null!=t&&t.silentLoading||i.setApiTokensLoader({key:s.LOAD_API_TOKENS,value:!0});let n=[i4],a=[i3];i.setApiTokensState({apiTokensDataUser:n,apiTokensDataTenant:a}),await (0,tn.gw)(200),i.setApiTokensLoader({key:s.LOAD_API_TOKENS,value:!1}),null==t||null==(e=t.callback)||e.call(t,!0)},i.loadUserApiTokens=async t=>{var e;null!=t&&t.silentLoading||i.setApiTokensLoader({key:s.LOAD_API_TOKENS,value:!0});let n=[i4];i.setApiTokensState({apiTokensDataUser:n}),await (0,tn.gw)(200),i.setApiTokensLoader({key:s.LOAD_API_TOKENS,value:!1}),null==t||null==(e=t.callback)||e.call(t,!0)},i.loadTenantApiTokens=async t=>{var e;null!=t&&t.silentLoading||i.setApiTokensLoader({key:s.LOAD_API_TOKENS,value:!0});let n=[i3];i.setApiTokensState({apiTokensDataTenant:n}),await (0,tn.gw)(200),i.setApiTokensLoader({key:s.LOAD_API_TOKENS,value:!1}),null==t||null==(e=t.callback)||e.call(t,!0)},i},aC=(t,e,n)=>iY(tI(t,e,n),["setApplicationsState","resetApplicationsState"]),aN=(t,e,n)=>{let i=iY(tU(t,e,n),["setCustomLoginState","resetCustomLoginState"]);return i.loadTenantMetadata=async()=>{i.setCustomLoginState({loading:!0}),await (0,tn.gw)(),i.setCustomLoginState({loading:!1})},i.updateTenantMetadata=async t=>{let{callback:e}=t;i.setCustomLoginState({loading:!0,error:null}),await (0,tn.gw)(),i.setCustomLoginState({loading:!1,error:null}),null==e||e(!0)},i},aM=(t,e,n)=>iY(iM(t,e,n),["setEntitlements","handleFetchedEntitlements"]),aj=(t,e,n)=>{let i=iY(tj(t,e,n),["setForgotPasswordState","resetForgotPasswordState"]);return i.loadPasswordConfig=async t=>{i.setForgotPasswordState({loading:!0});try{i.setForgotPasswordState({loading:!1,passwordConfig:{allowPassphrases:!0,maxLength:128,minLength:6,minPhraseLength:6,minOptionalTestsToPass:1}})}catch(t){i.setForgotPasswordState({loading:!1,error:(0,ti.P)(t)})}},i},aF=(t,e,n)=>{let i=iY(tx(t,e,n),["setGroupsState","resetUsersGroupsState","setUsersGroupsLoader","setUsersGroupsError"]);return i.loadGroups=async()=>{let t=o.GET_GROUPS;i.setUsersGroupsLoader({key:t,value:!0}),i.setGroupsState({groups:aw}),i.setUsersGroupsLoader({key:t,value:!1})},i.createGroup=async e=>{var n;let a=o.CREATE_GROUP,{groups:s}=t.auth.groupsState;i.setUsersGroupsLoader({key:a,value:!0}),await (0,tn.gw)(500),i.setGroupsState({groups:[(0,$.Z)({},e,{id:`${e.name}ID`,managedBy:ih.s.FRONTEGG}),...null!=s?s:[]]}),null==e||null==(n=e.callback)||n.call(e,!0),i.setUsersGroupsLoader({key:a,value:!1})},i.updateGroup=async e=>{var n,a,s,r,l;let u=o.UPDATE_GROUP,c=t.auth.groupsState;i.setUsersGroupsLoader({key:u,value:!0}),await (0,tn.gw)(500),i.setGroupsState({groups:null==c?void 0:null==(n=c.groups)?void 0:n.map(t=>{var n;return t.id===e.groupId?(0,$.Z)({},e,{id:e.groupId,name:null!=(n=null==e?void 0:e.name)?n:"",managedBy:ih.s.FRONTEGG}):t}),selectedGroup:(0,$.Z)({},null==c?void 0:c.selectedGroup,{name:null!=(a=null==e?void 0:e.name)?a:"",color:null!=(s=null==e?void 0:e.color)?s:"",description:null!=(r=null==e?void 0:e.description)?r:""})}),null==e||null==(l=e.callback)||l.call(e,!0),i.setUsersGroupsLoader({key:u,value:!1})},i.deleteGroup=async e=>{var n,a;let s=o.DELETE_GROUP,r=t.auth.groupsState;i.setUsersGroupsLoader({key:s,value:!0}),await (0,tn.gw)(500),i.setGroupsState({groups:null==r?void 0:null==(n=r.groups)?void 0:n.filter(t=>t.id!==e.groupId)}),null==e||null==(a=e.callback)||a.call(e,!0),i.setUsersGroupsLoader({key:s,value:!1})},i.addRolesToGroup=async e=>{var n,a;let s=o.ADD_ROLES_TO_GROUP,r=t.auth.groupsState;i.setUsersGroupsLoader({key:s,value:!0}),await (0,tn.gw)(500),i.setGroupsState({groups:null==r?void 0:null==(n=r.groups)?void 0:n.map(t=>{var n;return t.id===e.groupId?(0,$.Z)({},t,{roles:[...null!=(n=null==t?void 0:t.roles)?n:[],...e.roleIds.map(t=>({id:t,name:t}))]}):t})}),null==e||null==(a=e.callback)||a.call(e,!0),i.setUsersGroupsLoader({key:s,value:!1})},i.deleteRolesFromGroup=async e=>{var n,a;let s=o.DELETE_ROLES_FROM_GROUP,r=t.auth.groupsState;i.setUsersGroupsLoader({key:s,value:!0}),await (0,tn.gw)(500),i.setGroupsState({groups:null==r?void 0:null==(n=r.groups)?void 0:n.map(t=>{var n;return t.id===e.groupId?(0,$.Z)({},t,{roles:null==t?void 0:null==(n=t.roles)?void 0:n.filter(t=>!e.roleIds.includes(t.id))}):t})}),null==e||null==(a=e.callback)||a.call(e,!0),i.setUsersGroupsLoader({key:s,value:!1})},i.addUsersToGroup=async e=>{var n,a;let s=o.ADD_USERS_TO_GROUP,r=t.auth.groupsState;i.setUsersGroupsLoader({key:s,value:!0}),await (0,tn.gw)(500),i.setGroupsState({groups:null==r?void 0:null==(n=r.groups)?void 0:n.map(t=>{var n;return t.id===e.groupId?(0,$.Z)({},t,{users:[...null!=(n=null==t?void 0:t.users)?n:[],...e.userIds.map(t=>({id:t,name:t}))]}):t})}),null==e||null==(a=e.callback)||a.call(e,!0),i.setUsersGroupsLoader({key:s,value:!1})},i.deleteUsersFromGroup=async e=>{var n,a;let s=o.DELETE_USERS_FROM_GROUP,r=t.auth.groupsState;i.setUsersGroupsLoader({key:s,value:!0}),await (0,tn.gw)(500),i.setGroupsState({groups:null==r?void 0:null==(n=r.groups)?void 0:n.map(t=>{var n;return t.id===e.groupId?(0,$.Z)({},t,{users:null==t?void 0:null==(n=t.users)?void 0:n.filter(t=>!e.userIds.includes(t.id))}):t})}),null==e||null==(a=e.callback)||a.call(e,!0),i.setUsersGroupsLoader({key:s,value:!1})},i.getGroupConfiguration=async()=>{let e=o.GET_GROUP_CONFIGURATION,{groupsConfiguration:n}=t.auth.groupsState;i.setUsersGroupsLoader({key:e,value:!0}),n&&i.setGroupsState({groupsConfiguration:(0,$.Z)({},n)}),i.setUsersGroupsLoader({key:e,value:!1})},i.updateGroupConfiguration=async e=>{let n=o.UPDATE_GROUP_CONFIGURATION,{groupsConfiguration:a}=t.auth.groupsState;i.setUsersGroupsLoader({key:n,value:!0}),a&&i.setGroupsState({groupsConfiguration:(0,$.Z)({},a,e)}),i.setUsersGroupsLoader({key:n,value:!1})},i},aZ=(t,e,n)=>iY(tz(t,e,n),["setImpersonateState","resetImpersonateState"]),a$=(t,e,n)=>{let i=iY(e_(t,e,n),["setLoginState","resetLoginState","afterAuthNavigation"]);return i.requestAuthorize=async t=>{t&&n.setAuthState({isLoading:!0}),await n.loadTenants(),n.setAuthState({user:i9,isAuthenticated:!0,isLoading:!1})},i.getUserIP=async t=>{let{callback:e}=t;try{let{ip:t}=am[0];await n.setAuthState({userIp:t}),null==e||e(!0,t)}catch(t){null==e||e(!1,t)}},i};let ax=["callback"],aG=["callback"];var aB=(t,e,n)=>{let i=iY(eF(t,e,n),["setMfaState","resetMfaState"]);return i.enrollMfa=async()=>{i.setMfaState({saving:!0}),i.setMfaState({saving:!1,error:void 0,qrCode:"test"})},i.verifyMfa=async e=>{let{callback:a}=e;(0,x.Z)(e,ax);let{mfaDevices:s={webauthn:[],phones:[],authenticators:[],emails:[]}}=t.auth.mfaState;i.setMfaState({saving:!0}),await (0,tn.gw)();let r={recoveryCode:"recoveryCode"},o={step:Y.b.recoveryCode,loading:!1,error:void 0,saving:!1,mfaDevices:(0,$.Z)({},s,{authenticators:[{id:"authenticator-id"}]})};null!=r&&r.recoveryCode&&(o.recoveryCode=r.recoveryCode),i.setMfaState(o),n.setUser((0,$.Z)({},i9,{mfaEnrolled:!0})),null==a||a(o.recoveryCode)},i.disableMfa=async e=>{var a;let{mfaDevices:s={webauthn:[],phones:[],authenticators:[],emails:[]}}=t.auth.mfaState;i.setMfaState({saving:!0}),await (0,tn.gw)(),i.setMfaState({saving:!1,error:void 0,mfaDevices:(0,$.Z)({},s,{authenticators:[]})}),n.setUser((0,$.Z)({},i9)),null==(a=e.callback)||a.call(e,!0)},i.verifyMfaAfterForce=async t=>{let{callback:e}=t,a=(0,x.Z)(t,aG);i.setMfaState({loading:!0}),await (0,tn.gw)();let s=(0,$.Z)({},a,{recoveryCode:"recoveryCode"}),r={step:Y.b.recoveryCode,loading:!1,error:void 0,saving:!1};null!=s&&s.recoveryCode&&(r.recoveryCode=s.recoveryCode),i.setMfaState(r),await (0,tn.gw)(),n.setUser((0,$.Z)({},i9,{mfaEnrolled:!0})),null==e||e(r.recoveryCode)},i.preDisableMfaSms=async t=>{var e,n;i.setMfaState({saving:!0});try{i.setMfaState({saving:!1,error:void 0,otcToken:"otc-token",phoneNumber:"+972504589346"}),null==(e=t.callback)||e.call(t,!0)}catch(e){i.setMfaState({saving:!1,error:(0,ti.P)(e)}),null==(n=t.callback)||n.call(t,!1,e)}},i.disableMfaSms=async e=>{var a;let{mfaDevices:s={webauthn:[],phones:[],authenticators:[],emails:[]}}=t.auth.mfaState;i.setMfaState({saving:!0}),await (0,tn.gw)(),i.setMfaState({loading:!1,error:void 0,mfaDevices:(0,$.Z)({},s,{phones:[]})}),n.setUser((0,$.Z)({},i9)),null==(a=e.callback)||a.call(e,!0)},i.preEnrollMfaSms=async t=>{var e;i.setMfaState({saving:!0}),await (0,tn.gw)(),i.setMfaState({saving:!1,error:void 0,otcToken:"otc-token",phoneNumber:"+972504589346"}),null==(e=t.callback)||e.call(t,!0)},i.enrollMfaSms=async e=>{let{callback:a}=e,{mfaDevices:s={webauthn:[],phones:[],authenticators:[],emails:[]}}=t.auth.mfaState;i.setMfaState({saving:!0}),await (0,tn.gw)();let r={recoveryCode:"recoveryCode"},o={step:Y.b.recoveryCode,loading:!1,error:void 0,saving:!1,mfaDevices:(0,$.Z)({},s,{phones:[{id:"phone-id",phoneNumber:"+972504589346"}]})};null!=r&&r.recoveryCode&&(o.recoveryCode=r.recoveryCode),i.setMfaState(o),n.setUser((0,$.Z)({},i9,{mfaEnrolled:!0})),null==a||a(o.recoveryCode)},i},aV=(t,e,n)=>iY(e1(t,e,n),["setPasskeysState","resetPasskeysState"]);let aW=["callback","profilePictureUrl"];var aH=(t,e,n)=>{let i=iY(e3(t,e,n),["setProfileState","resetProfileState"]);return i.loadProfile=async()=>{i.setProfileState({loading:!0}),await (0,tn.gw)(),n.setUser((0,$.Z)({},i9,i8)),i.setProfileState({loading:!1,profile:i8})},i.saveProfile=async t=>{let{callback:e,profilePictureUrl:a}=t,s=(0,x.Z)(t,aW);i.setProfileState({saving:!0,error:null});let r=i8.profilePictureUrl;a!==i8.profilePictureUrl&&a&&(a||"").match(/^data:image\/([A-Za-z-+\/]+);base64,(.+)$/)&&(r=a);let o=(0,$.Z)({},i8,s,{profilePictureUrl:r});await (0,tn.gw)(),n.setUser((0,$.Z)({},i9,o)),i.setProfileState({loading:!1,error:null,saving:!1,profile:o}),null==e||e(o)},i.changePassword=async t=>{var e;i.setProfileState({loading:!0}),await (0,tn.gw)(),i.setProfileState({loading:!1,error:void 0}),null==(e=t.callback)||e.call(t,!0)},i},aK=(t,e,n)=>iY(nt(t,e,n),["setProvisioningState","resetProvisioningState"]),az=(t,e,n)=>iY(nr(t,e,n),["setResetPhoneNumberState","resetResetPhoneNumberState"]),aJ=(t,e,n)=>{let i=iY(nf(t,e,n),["setRolesState","setRolesStateError","setRolesStateLoader","resetRolesState"]);return i.loadRolesAndPermissions=async t=>{var e;let n=g.LOAD_ROLES;i.setRolesStateLoader({key:n,value:!(null!=(e=null==t?void 0:t.silentLoading)&&e)});try{i.setRolesState({roles:i6})}catch(t){i.setRolesStateError({key:n,value:(0,ti.P)(t)})}finally{i.setRolesStateLoader({key:n,value:!1})}},i};let aq=["callback"],aY=["callback"],aX=["callback"],aQ=["callback"];var a0=(t,e,n)=>{let i=iY(nT(t,e,n),["setRestrictionsState","setIpRestrictionsState","setEmailDomainRestrictionsState"]);return i.loadIpRestrictions=async()=>{i.setIpRestrictionsState({loading:!0,error:null}),i.setIpRestrictionsState({data:{restrictions:am.filter(t=>t.strategy===aS.strategy),config:aS},totalPages:1,pagination:{_filter:ny.c.ALLOW,_limit:50,_offset:0},loading:!1})},i.loadEmailDomainRestrictions=async()=>{i.setEmailDomainRestrictionsState({loading:!0,error:null}),i.setEmailDomainRestrictionsState({loading:!1,data:{restrictions:[{domain:"mock.com",id:"1",type:ny.c.ALLOW}],config:{active:!0,listType:ny.c.ALLOW,blockPublicDomains:!1}}})},i.saveIpRestriction=async e=>{var n,a,s;let{callback:r}=e,o=(0,x.Z)(e,aq);i.setIpRestrictionsState({saving:!0,error:null});let l=t.auth.restrictionsState.ipRestrictions,u=l.data.restrictions.filter(t=>t.ip!==o.ip);i.setIpRestrictionsState({data:{config:null!=(n=null==(a=l.data)?void 0:a.config)?n:{isActive:!1,strategy:ny.c.ALLOW},restrictions:[...u,(0,$.Z)({},o,{createdAt:new Date,updatedAt:new Date,id:aR(),isActive:null==(s=o.isActive)||s,strategy:l.data.config.strategy})]},totalPages:1,pagination:{_filter:ny.c.ALLOW,_limit:50,_offset:0},saving:!1}),null==r||r(!0)},i.saveIpRestrictionsConfig=async e=>{var n,a,s;let{callback:r}=e,o=(0,x.Z)(e,aY),l=t.auth.restrictionsState.ipRestrictions;i.setIpRestrictionsState({saving:!0,error:null}),i.setIpRestrictionsState({data:{config:(0,$.Z)({},null==(n=l.data)?void 0:n.config,o),restrictions:null!=(a=null==(s=l.data)?void 0:s.restrictions)?a:[]},pagination:{_filter:ny.c.ALLOW,_limit:50,_offset:0},totalPages:1,saving:!1}),i.setIpRestrictionsState({saving:!1,error:null}),null==r||r(!0)},i.deleteIpRestriction=async e=>{var n;let{callback:a,id:s}=e;i.setIpRestrictionsState({saving:!0,error:null});let r=t.auth.restrictionsState.ipRestrictions;i.setIpRestrictionsState({data:{config:(null==(n=r.data)?void 0:n.config)||{isActive:!1,strategy:ny.c.ALLOW},restrictions:r.data.restrictions.filter(t=>t.id!==s)},pagination:{_filter:ny.c.ALLOW,_limit:50,_offset:0},totalPages:1,saving:!1,error:null}),null==a||a(!0)},i.checkIfUserIpValid=async()=>{i.setIpRestrictionsState({loading:!0,error:null});try{let e=t.auth.restrictionsState.ipRestrictions,n=am[0].ip,a=!!e.data.restrictions.find(t=>t.isActive&&t.ip===n);i.setIpRestrictionsState({userIpValid:a,loading:!1})}catch(t){i.setIpRestrictionsState({error:(0,ti.P)(t),loading:!1})}},i.saveEmailDomainRestriction=async e=>{var n,a;let{callback:s}=e,r=(0,x.Z)(e,aX),o=t.auth.restrictionsState.emailDomainRestrictions;i.setEmailDomainRestrictionsState({saving:!0,error:null}),await (0,tn.gw)(),null==s||s(!0),i.setEmailDomainRestrictionsState({data:{config:(null==(n=o.data)?void 0:n.config)||{active:!1,blockPublicDomains:!1,listType:r.type},restrictions:[...(null==(a=o.data)?void 0:a.restrictions)||[],(0,$.Z)({},r,{id:Date.now().toString()})]},saving:!1})},i.saveEmailDomainRestrictionsConfig=async e=>{var n;let{callback:a}=e,s=(0,x.Z)(e,aQ),r=t.auth.restrictionsState.emailDomainRestrictions;i.setEmailDomainRestrictionsState({saving:!0,error:null}),await (0,tn.gw)(),null==a||a(!0),i.setEmailDomainRestrictionsState({data:{config:{active:s.active,blockPublicDomains:s.blockPublicDomains||!1,listType:s.type||ny.c.ALLOW},restrictions:[...(null==(n=r.data)?void 0:n.restrictions)||[]]},saving:!1})},i.deleteEmailDomainRestriction=async e=>{var n,a;let{id:s}=e,r=t.auth.restrictionsState.emailDomainRestrictions;i.setEmailDomainRestrictionsState({saving:!0,error:null}),await (0,tn.gw)(),i.setEmailDomainRestrictionsState({data:{config:(null==(n=r.data)?void 0:n.config)||{active:!1,blockPublicDomains:!1,listType:ny.c.ALLOW},restrictions:((null==(a=r.data)?void 0:a.restrictions)||[]).filter(t=>t.id===s)},saving:!1})},i},a1=(t,e,n)=>{let i=iY(n_(t,e,n),["setSecurityCenterState","setSecurityCenterStateError","setSecurityCenterStateLoader","resetSecurityCenterState"]);return i.loadRecommendations=async()=>{let t=h.RECOMMENDATIONS;i.setSecurityCenterStateLoader({key:t,value:!0}),await (0,tn.gw)(),i.setSecurityCenterState({recommendations:aT.recommendations.items,score:aT.scoring.score}),i.setSecurityCenterStateLoader({key:t,value:!1})},i.loadInsights=async()=>{let t=h.INSIGHTS;i.setSecurityCenterStateLoader({key:t,value:!0}),await (0,tn.gw)(),i.setSecurityCenterState({insights:aP.insights.items}),i.setSecurityCenterStateLoader({key:t,value:!1})},i.loadBreachedPasswordUsers=async()=>{let t=h.BREACHED_PASSWORD_USERS_TABLE;i.setSecurityCenterStateLoader({key:t,value:!0}),await (0,tn.gw)(),i.setSecurityCenterState({breachedPasswordUsersTable:aE}),i.setSecurityCenterStateLoader({key:t,value:!1})},i.loadUnenrolledMfaUsers=async()=>{let t=h.UNENROLLED_MFA_USERS_TABLE;i.setSecurityCenterStateLoader({key:t,value:!0}),await (0,tn.gw)(),i.setSecurityCenterState({unenrolledMfaUsersTable:a_}),i.setSecurityCenterStateLoader({key:t,value:!1})},i.loadInactiveUsers=async()=>{let t=h.INACTIVE_USERS_TABLE;i.setSecurityCenterStateLoader({key:t,value:!0}),await (0,tn.gw)(),i.setSecurityCenterState({inactiveUsersTable:aO}),i.setSecurityCenterStateLoader({key:t,value:!1})},i.sendResetBreachedPasswordEmail=async t=>{let{callback:e}=t,n=h.SEND_BREACHED_PASSWORD_EMAIL;i.setSecurityCenterStateLoader({key:n,value:!0}),await (0,tn.gw)(),null==e||e(!0),i.setSecurityCenterStateLoader({key:n,value:!1})},i};let a2=["callback"],a5=["callback"],a4=["callback"];var a3=(t,e,n)=>{let i=iY(nU(t,e,n),["setSecurityPolicyState","setSecurityPolicyGlobalState","setSecurityPolicyPublicState","setSecurityPolicyMfaState","setSecurityPolicyVendorMfaState","setSecurityPolicyLockoutState","setSecurityPolicyVendorLockoutState","setSecurityPolicyCaptchaState","setSecurityPolicyPasswordHistoryState","setSecurityPolicyVendorPasswordHistoryState","resetSecurityPolicyState","setSecurityPolicyPasswordState","setSecurityPolicyAuthStrategyPublicState"]);return i.loadSecurityPolicy=async()=>{i.setSecurityPolicyGlobalState({loading:!0,error:null}),await Promise.all([i.loadSecurityPolicyMfa(),i.loadSecurityPolicyVendorMfa(),i.loadSecurityPolicyLockout(),i.loadSecurityPolicyVendorLockout(),i.loadSecurityPolicyPasswordHistory(),i.loadSecurityPolicyVendorPasswordHistory(),i.loadSecurityPolicyCaptcha()]),await (0,tn.gw)(),i.setSecurityPolicyGlobalState({policy:i7,loading:!1})},i.loadPublicSecurityPolicy=async()=>{i.setSecurityPolicyPublicState({loading:!0,error:null});try{i.setSecurityPolicyPublicState({policy:at,loading:!1})}catch(t){i.setSecurityPolicyPublicState({error:(0,ti.P)(t),loading:!1})}},i.saveSecurityPolicyMfa=async t=>{var e;let{callback:n}=t,a=(0,x.Z)(t,a2);i.setSecurityPolicyMfaState({saving:!0,error:null});let s=(0,$.Z)({},an,{id:null!=(e=a.id)?e:an.id,enforceMFAType:a.enforceMFAType});await (0,tn.gw)(),i.setSecurityPolicyMfaState({policy:s,saving:!1}),null==n||n(s)},i.loadSecurityPolicyMfa=async()=>{i.setSecurityPolicyMfaState({loading:!0,error:null}),await (0,tn.gw)(),i.setSecurityPolicyMfaState({policy:ae,loading:!1})},i.loadSecurityPolicyVendorMfa=async()=>{i.setSecurityPolicyVendorMfaState({loading:!0,error:null}),await (0,tn.gw)(),i.setSecurityPolicyVendorMfaState({policy:ae,loading:!1})},i.saveSecurityPolicyLockout=async t=>{let{callback:e}=t,n=(0,x.Z)(t,a5);i.setSecurityPolicyLockoutState({saving:!0,error:null}),await (0,tn.gw)();let a=(0,$.Z)({},an,n,{id:n.id?n.id:an.id});null==e||e(a),i.setSecurityPolicyLockoutState({policy:a,saving:!1})},i.loadSecurityPolicyLockout=async()=>{i.setSecurityPolicyLockoutState({loading:!0,error:null}),await (0,tn.gw)(),i.setSecurityPolicyLockoutState({policy:an,loading:!1})},i.loadSecurityPolicyVendorLockout=async()=>{i.setSecurityPolicyVendorLockoutState({loading:!0,error:null}),await (0,tn.gw)(),i.setSecurityPolicyVendorLockoutState({policy:an,loading:!1})},i.loadSecurityPolicyCaptcha=async()=>{i.setSecurityPolicyLockoutState({loading:!0,error:null}),await (0,tn.gw)(),i.setSecurityPolicyLockoutState({policy:an,loading:!1})},i.saveSecurityPolicyPasswordHistory=async t=>{let{callback:e}=t,n=(0,x.Z)(t,a4);i.setSecurityPolicyPasswordHistoryState({saving:!0,error:null}),await (0,tn.gw)();let a=(0,$.Z)({},ai,n,{id:n.id?n.id:ai.id});null==e||e(a),i.setSecurityPolicyPasswordHistoryState({policy:a,saving:!1})},i.loadSecurityPolicyPasswordHistory=async()=>{i.setSecurityPolicyPasswordHistoryState({loading:!0,error:null}),await (0,tn.gw)(),i.setSecurityPolicyPasswordHistoryState({policy:ai,loading:!1})},i.loadSecurityPolicyVendorPasswordHistory=async()=>{i.setSecurityPolicyVendorPasswordHistoryState({loading:!0,error:null}),await (0,tn.gw)(),i.setSecurityPolicyVendorPasswordHistoryState({policy:ai,loading:!1})},i};let a6=["callback"];var a8=(t,e,n)=>{let i=iY(nj(t,e,n),["setSessionsPolicyState","resetSessionsPolicyState"]);return i.loadSessionsPolicy=async()=>{i.setSessionsPolicyState({loading:!0,error:null});let e=t.auth.sessionsPolicyState;i.setSessionsPolicyState((0,$.Z)({},e,{loading:!1}))},i.createOrUpdateSessionsPolicy=async t=>{let{callback:e}=t,n=(0,x.Z)(t,a6);i.setSessionsPolicyState({loading:!0,error:null}),null==e||e(!0),i.setSessionsPolicyState({configurations:n,loading:!1})},i},a9=(t,e,n)=>{let i=iY(n$(t,e,n),["setSessionsState","resetSessionsState"]);return i.loadUserSessions=async()=>{i.setSessionsState({loading:!0,error:null}),i.setSessionsState({sessions:av,loading:!1})},i.deleteUserSession=async e=>{let{id:n}=e;i.setSessionsState({loading:!0,error:null});let a=t.auth.sessionsState.sessions.filter(t=>t.id!==n);i.setSessionsState({sessions:a,loading:!1})},i.deleteAllUserSessions=async()=>{i.setSessionsState({loading:!0,error:null});let t=av.filter(t=>t.current);i.setSessionsState({sessions:t,loading:!1})},i},a7=(t,e,n)=>iY(nV(t,e,n),["setSignUpState","resetSignUpState","resetSignUpStateSoft"]),st=(t,e,n)=>iY(nX(t,e,n),["setSmsState","resetSmsState"]),se=(t,e,n)=>iY(n5(t,e,n),["setSocialLoginsState","resetSocialLoginsState","setSocialLoginError"]);let sn=["callback","samlVendor"];var si=(t,e,n)=>{let i=iY(ia(t,e,n),["setSSOState","resetSSOState"]);return i.loadSSOConfigurations=async()=>{i.setSSOState({loading:!0}),await (0,tn.gw)(),i.setSSOState({samlConfiguration:aa,loading:!1,firstLoad:!1})},i.saveSSOConfigurations=async t=>{var e,n;let{callback:a,samlVendor:s}=t,r=(0,x.Z)(t,sn),o=(0,$.Z)({},aa,r),l="saving";if((null==o?void 0:o.enabled)!==aa.enabled&&(l="loading"),!(null!=o&&o.domain)){i.setSSOState({samlConfiguration:(0,$.Z)({},aa,o)});return}i.setSSOState({error:void 0,[l]:!0}),await (0,tn.gw)(),o.acsUrl=null==as?void 0:null==(e=as.configuration)?void 0:e.acsUrl,o.spEntityId=null==as?void 0:null==(n=as.configuration)?void 0:n.spEntityId;let u=(0,tn.cZ)(o,["validated","generatedVerification","createdAt","updatedAt"]);(null==aa?void 0:aa.domain)!==(null==u?void 0:u.domain)&&(u.ssoEndpoint="",u.publicCertificate="",u.signRequest=!1),u.type=null==s?void 0:s.toLowerCase(),await (0,tn.gw)(),i.setSSOState({samlConfiguration:u,error:void 0,[l]:!1}),null==a||a(!0)},i.saveSSOConfigurationsFile=async e=>{let n="saving";i.setSSOState({error:void 0,[n]:!0});let a=t.auth.ssoState.samlConfiguration,s=(0,$.Z)({},a,{enabled:!0},e[0]);i.setSSOState({samlConfiguration:s,error:void 0,[n]:!1})},i.validateSSODomain=async t=>{let{callback:e}=null!=t?t:{};i.setSSOState({error:void 0,saving:!0}),await (0,tn.gw)(),i.setSSOState({samlConfiguration:(0,$.Z)({},aa,{validated:!0}),error:void 0,saving:!1}),null==e||e(!0)},i.loadSSOAuthorizationRoles=async()=>{await (0,tn.gw)(),i.setSSOState({authorizationRoles:["1","2","3"],error:void 0})},i.updateSSOAuthorizationRoles=async t=>{let{callback:e,authorizationRoles:n}=t;i.setSSOState({error:void 0,saving:!0}),await (0,tn.gw)(),i.setSSOState({authorizationRoles:n,error:void 0,saving:!1}),null==e||e(!0)},i},sa=(t,e,n)=>iY(ic(t,e,n),["setStepUpState","resetStepUpState"]);let ss=["callback"],sr=["callback"],so=["callback","profileImage"],sl=["callback"],su=["callback"],sc=["callback"],sd=["callback"],sg=["callback"],sh=["callback"],sp=["callback"],sf=["callback"];var sy=(t,e,n)=>{let i=iY(iR(t,e,n),["setTeamState","resetTeamState","setTeamLoader","setTeamError","openAddUserDialog","closeAddUserDialog","openDeleteUserDialog","closeDeleteUserDialog"]);return i.loadUsersV2=async e=>{var n,a,s,r;let{silentLoading:o,callback:l}=e,u=t.auth.teamState,c=null!=(n=e.pageSize)?n:u.pageSize,d=null!=(a=e.pageOffset)?a:u.pageOffset,g=null!=(s=e.filter)?s:u.filterV2,h=null!=(r=e.sort)?r:u.sortV2;i.setTeamLoader({key:v.USERS,value:!o}),i.setTeamState({pageSize:c,pageOffset:d,filterV2:g,sortV2:h}),await (0,tn.gw)(),i.setTeamState({users:ah,totalPages:2,totalItems:10,roles:ar,permissions:ao}),i.setTeamLoader({key:v.USERS,value:!1}),null==l||l(ah)},i.loadAllSubTenantsUsers=async e=>{var n,a,s,r,o;let{silentLoading:l,callback:u}=e,c=t.auth.teamState,d=null!=(n=e._limit)?n:c.allUsersQueryParams._limit,g=null!=(a=e._offset)?a:c.allUsersQueryParams._offset,h=null!=(s=e._filter)?s:c.allUsersQueryParams._filter,p=null!=(r=e._sortBy)?r:c.allUsersQueryParams._sortBy,f=null!=(o=e._order)?o:c.allUsersQueryParams._order;i.setTeamLoader({key:v.USERS,value:!l}),i.setTeamState({allUsersQueryParams:{_limit:d,_offset:g,_filter:h,_sortBy:p,_order:f}}),await (0,tn.gw)(),i.setTeamState({allUsers:af,totalPages:2,totalItems:10,roles:ar,permissions:ao}),i.setTeamLoader({key:v.USERS,value:!1}),null==u||u(af)},i.loadRoles=async t=>{var e;i.setTeamLoader({key:v.ROLES_AND_PERMISSIONS,value:!0}),await (0,tn.gw)(),i.setTeamState({roles:ar,permissions:ao}),i.setTeamLoader({key:v.ROLES_AND_PERMISSIONS,value:!0}),null==t||null==(e=t.callback)||e.call(t,{roles:ar,permissions:ao})},i.addUser=async e=>{let{callback:n}=e,a=(0,x.Z)(e,ss),s=t.auth.teamState;i.setTeamState({addUserDialogState:(0,$.Z)({},s.addUserDialogState,{loading:!0})}),await (0,tn.gw)();let r=new Date,o=(0,$.Z)({},ac,{groups:[]},a,{id:`${aR()}`,temporaryExpirationDate:a.expirationInSeconds?new Date(r.setSeconds(r.getSeconds()+a.expirationInSeconds)):void 0});null==n||n(o),i.setTeamState({users:[o,...s.users],addUserDialogState:{open:!1,loading:!1}})},i.addUserToSubTenants=async e=>{let{callback:n}=e,a=(0,x.Z)(e,sr),s=t.auth.teamState;i.setTeamState({addUserDialogState:(0,$.Z)({},s.addUserDialogState,{loading:!0})}),await (0,tn.gw)();let r=(0,$.Z)({},ac,a,{id:`${aR()}`});i.setTeamState({users:[r,...s.users],addUserDialogState:{open:!1,loading:!1}}),null==n||n(null)},i.updateUser=async e=>{var n;let{callback:a}=e,s=(0,x.Z)(e,so),{id:r}=s,o=t.auth.teamState,l=o.users.find(t=>t.id===s.id);i.setTeamLoader({key:v.UPDATE_USER,value:r||""}),i.setTeamState({addUserDialogState:(0,$.Z)({},o.addUserDialogState,{loading:!0})}),i.setTeamState({addUserDialogState:(0,$.Z)({},o.addUserDialogState,{loading:!0}),users:o.users.map(t=>t.id===s.id?(0,$.Z)({},t,s):t)}),l.roleIds.length>0&&(null==(n=s.roleIds)?void 0:n.length)===0&&(s.roleIds=[""]),await (0,tn.gw)();let u=(0,$.Z)({},l,s);null==a||a(u),i.setTeamState({users:o.users.map(t=>t.id===u.id?(0,$.Z)({},t,u,{createdAt:t.createdAt,customData:t.customData,lastLogin:t.lastLogin}):t)}),i.setTeamLoader({key:v.UPDATE_USER,value:!1})},i.deleteUser=async e=>{let{callback:n}=e,a=(0,x.Z)(e,sl),s=t.auth.teamState;i.setTeamState({deleteUserDialogState:(0,$.Z)({},s.deleteUserDialogState,{loading:!0})}),await (0,tn.gw)(),null==n||n(!0),i.setTeamState({users:s.users.filter(t=>t.id!==a.userId),deleteUserDialogState:{open:!1,loading:!1}})},i.updateUserExpirationTime=async e=>{let{callback:n}=e,a=(0,x.Z)(e,su),s=t.auth.teamState;i.setTeamLoader({key:v.UPDATE_USER_EXPIRATION_TIME,value:!0});let r=new Date;i.setTeamState({users:s.users.map(t=>t.id===a.userId?(0,$.Z)({},t,{temporaryExpirationDate:a.expirationInSeconds?new Date(r.setSeconds(r.getSeconds()+a.expirationInSeconds)):void 0}):t)}),await (0,tn.gw)(),null==n||n(!0),i.setTeamLoader({key:v.UPDATE_USER_EXPIRATION_TIME,value:!1})},i.setUserAsPermanent=async e=>{let{callback:n}=e,a=(0,x.Z)(e,sc),s=t.auth.teamState;i.setTeamLoader({key:v.UPDATE_USER_EXPIRATION_TIME,value:!0}),i.setTeamState({users:s.users.map(t=>t.id===a.userId?(0,$.Z)({},t,{temporaryExpirationDate:void 0}):t)}),await (0,tn.gw)(),null==n||n(!0),i.setTeamLoader({key:v.UPDATE_USER_EXPIRATION_TIME,value:!1})},i.deleteUserFromSubTenants=async e=>{let{callback:n}=e,a=(0,x.Z)(e,sd),s=t.auth.teamState;i.setTeamState({deleteUserDialogState:(0,$.Z)({},s.deleteUserDialogState,{loading:!0})}),await (0,tn.gw)(),null==n||n(!0),i.setTeamState({allUsers:s.allUsers.filter(t=>t.id!==a.userId),deleteUserDialogState:{open:!1,loading:!1}})},i.resendActivationLink=async t=>{let{callback:e}=t,n=(0,x.Z)(t,sg);i.setTeamLoader({key:v.RESEND_ACTIVATE_LINK,value:n.userId}),await (0,tn.gw)(),null==e||e(!0),i.setTeamLoader({key:v.RESEND_ACTIVATE_LINK,value:!1})},i.resendInvitationLink=async t=>{let{callback:e}=t,n=(0,x.Z)(t,sh);i.setTeamLoader({key:v.RESEND_INVITATION_LINK,value:n.email}),await (0,tn.gw)(),null==e||e(!0),i.setTeamLoader({key:v.RESEND_INVITATION_LINK,value:!1})},i.resendInvitationEmail=async t=>{let{callback:e}=t,n=(0,x.Z)(t,sp);i.setTeamLoader({key:v.RESEND_INVITATION_LINK,value:n.email}),await (0,tn.gw)(),null==e||e(!0),i.setTeamLoader({key:v.RESEND_INVITATION_LINK,value:!1})},i.resendInvitationLinkToAllSubTenants=async t=>{let{callback:e}=t,n=(0,x.Z)(t,sf);i.setTeamLoader({key:v.RESEND_INVITATION_LINK,value:n.email}),await (0,tn.gw)(),null==e||e(!0),i.setTeamLoader({key:v.RESEND_INVITATION_LINK,value:!1})},i},sv=(t,e,n)=>{let i=iY(iN(t,e,n),["setTenantsState","resetTenantsState"]);return i.loadTenants=async()=>{i.setTenantsState({loading:!0}),i.setTenantsState({tenants:ay,activeTenant:ay[0],loading:!1})},i},sS=(t,e,n)=>iY(tb(t,e,n),["setUnlockAccountState","resetUnlockAccountState"]);let sm=(t,e,n,i)=>{let a=iX(t,e,n),s=iQ(t,e,n),r=sS(t,e,n),o=i0(t,e,n),l=i1(t,e,n),u=eX(t,e,n),c=aU(t,e,n),d=aC(t,e,n),g=aN(t,e,n),h=aM(t,e,n),p=aj(t,e,n),f=aF(t,e,n),y=tV(t,e,n),v=aZ(t,e,n),S=a$(t,e,n),m=aB(t,e,n),b=aV(t,e,n),A=aH(t,e,n),w=aK(t,e,n),T=az(t,e,n),P=a0(t,e,n),E=aJ(t,e,n),O=a1(t,e,n),_=a3(t,e,n),I=a9(t,e,n),D=a8(t,e,n),L=a7(t,e,n),k=st(t,e,n),R=se(t,e,n),U=si(t,e,n),C=sa(t,e,n),N=sy(t,e,n),M=sv(t,e,n),j=e=>{Object.keys(e).forEach(n=>{(0,tn.X3)(t.auth[n])?Object.assign(t.auth[n],e[n]):t.auth[n]=e[n]})};return{authActions:(0,$.Z)({setState:j,setAuthState:j,resetAuthState:()=>{(0,tn.BW)(t,["auth"],i)},setUser:t=>{j({user:t})}},a,s,o,r,l,u,c,d,g,h,p,f,y,v,S,m,b,A,w,T,P,E,O,_,I,D,L,k,R,U,C,N,M),authStateActions:{acceptInvitationActions:a,accountSettingsActions:s,unlockAccountActions:r,activateAccountActions:o,allAccountsActions:l,allAccountsDialogActions:u,apiTokensActions:c,applicationsActions:d,customLoginActions:g,entitlementsActions:h,forgotPasswordActions:p,groupsActions:f,groupsDialogsActions:y,impersonateActions:v,loginActions:S,mfaActions:m,passkeysActions:b,profileActions:A,provisioningActions:w,resetPhoneNumberActions:T,restrictionsActions:P,rolesActions:E,securityCenterActions:O,securityPolicyActions:_,sessionsActions:I,sessionsPolicyActions:D,signUpActions:L,smsActions:k,socialLoginActions:R,ssoActions:U,stepUpActions:C,teamActions:N,tenantsActions:M}}};var sb=n(5519);let sA=(t,e)=>(n,i)=>n[t]>i[t]?e?-1:1:i[t]>n[t]?e?1:-1:0,sw=t=>e=>t.filter(sT).every(t=>e[t.id].includes(t.value)),sT=t=>"createdAt"!==t.id,sP=(t,e)=>{let{data:n}=sO,i=n.filter(sw(t));if(e.length){let{id:t,desc:n=!1}=e[0];i=i.sort(sA(t,n))}return{data:i,total:i.length}},sE=()=>{switch(Math.floor(6*Math.random())){case 0:return{action:"Updated profile",description:"User updated profile details",severity:"Info"};case 1:return{action:"User logged in",severity:"Info",description:"User logged in to the product"};case 2:return{action:"User failed to login",severity:"High",description:"User failed to login with password"};case 3:return{action:"Added user",severity:"Info",description:"Added user david+535@frontegg.com to tenant"};case 4:return{action:"Assigned roles",severity:"Info",description:"Assigned 0 roles for user"};case 5:return{action:"Removed user david+108@frontegg.com from account",severity:"Info",description:"Removed access from the account for user david+108@frontegg.com"}}},sO={total:20,data:Array.from([,,,,,].keys()).map(t=>(0,$.Z)({ip:"198.143.51.1",user:"Demo User Name",email:"demo-user@frontegg.com"},sE(),{json:{key1:"value1",key2:"value2",key3:"value3",key4:"value4"},tenantId:"my-tenant-id",vendorId:"my-vendor-id",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36",createdAt:`2022-04-07 10:${50-t}:40.201`}))},s_={properties:[{showInTable:!0,name:"createdAt",displayName:"Time",type:"Timestamp",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!1},{showInTable:!0,name:"email",displayName:"User",type:"Email",filterable:!0,sortable:!0,isPredefined:!0,chosen:!1,selected:!1},{showInTable:!0,name:"action",displayName:"Action",type:"AlphaNumeric",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!0},{showInTable:!0,name:"description",type:"AlphaNumeric",sortable:!1,filterable:!1,displayName:"Description",isPredefined:!0,chosen:!1,selected:!1},{showInTable:!0,name:"ip",displayName:"IP Address",type:"IpAddress",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!0},{showInTable:!1,name:"severity",displayName:"Severity",type:"Severity",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!0},{showInTable:!1,name:"userAgent",displayName:"User Agent",type:"AlphaNumeric",filterable:!0,sortable:!0,isPredefined:!0,chosen:!1,selected:!1},{showInTable:!1,name:"json",type:"Json",sortable:!0,filterable:!0,displayName:"Json Data",showInMoreInfo:"Always",isPredefined:!1}]};var sI=(t,e,n)=>{let i=iY((0,sb.Z)(t,e,n),["setAuditLogsState","resetAuditLogsState"]);return i.loadAuditLogs=async e=>{var a,s,r,o,l,u;i.setAuditLogsState({loading:!e.silentLoading,error:null});let c=t.auditLogs.auditLogsState,{columns:d}=t.auditLogs.auditsMetadataState;try{let t=null!=(a=e.pageSize)?a:c.pageSize,u=null!=(s=e.pageOffset)?s:c.pageOffset,g=null!=(r=e.filter)?r:c.filter,h=null!=(o=e.sort)?o:c.sort;i.setAuditLogsState({pageSize:t,pageOffset:u,filter:g,sort:h}),d||await n.loadAuditsMetadata();let{data:p,total:f}=sP(g,h);i.setAuditLogsState({loading:!1,logs:null!=p?p:[],totalPages:+Math.ceil(f/t)}),null==e||null==(l=e.callback)||l.call(e,!0)}catch(t){i.setAuditLogsState({loading:!1,error:(0,ti.P)(t)}),null==e||null==(u=e.callback)||u.call(e,null,t)}},i},sD=n(2817),sL=(t,e,n)=>{let i=iY((0,sD.Z)(t,e,n),["setAuditsMetadataState","resetAuditsMetadataState"]);return i.loadAuditsMetadata=async()=>{i.setAuditsMetadataState({loading:!0,error:null});try{let{properties:t}=s_;i.setAuditsMetadataState({columns:t,loading:!1})}catch(t){i.setAuditsMetadataState({error:t,loading:!1})}},i};let sk=(t,e,n)=>{let i=sI(t,e,n),a=sL(t,e,n);return(0,$.Z)({},i,a)},sR=(t,e,n)=>iY((0,ix.Z)(t,e,n),["setConnectivityState","resetConnectivityState","initData","resetConnectivityState","cleanWebhookTestData","cleanWebhookLogsData","cleanWebhookTestMessage","cleanError","cleanSlackData"]);var sU=n(7672),sC=n(2608),sN=(t,e,n)=>{let i=iY((0,sU.Z)(t,e,n),["setPaymentConfigState","resetPaymentConfigState"]);return i.loadPaymentConfiguration=async()=>{i.setPaymentConfigState({loading:!0}),await (0,tn.gw)(500),i.setPaymentConfigState({loading:!1,fetching:!1,config:{paymentProvider:sC.OH.STRIPE,apiKey:""}})},i},sM=n(9717),sj=n(3336);let sF={id:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",externalId:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",startDate:"2021-09-20T08:08:51.000Z",status:sj.in.ACTIVE,externallyManaged:!1,cancellation:null,currentPeriodStart:"2021-09-20T08:08:51.000Z",currentPeriodEnd:"2021-10-20T08:08:51.000Z",plan:{slug:"test"}},sZ=[{id:"prod_J60fUEvI7qV1eL",externalId:"prod_J60fUEvI7qV1eL",name:"Premium",description:"",price:{id:"price_1IToe8Ewsu4qiqnndAV76J69",externalId:"price_1IToe8Ewsu4qiqnndAV76J69",currency:"usd",amount:1e4},slug:"premium"},{id:"prod_J60duauCpXfcur",externalId:"prod_J60duauCpXfcur",name:"Free",description:"Totally free plan. Nothing to pay.",price:{id:"price_1ITocfEwsu4qiqnnnBHDx9fQ",externalId:"price_1ITocfEwsu4qiqnnnBHDx9fQ",currency:"usd",amount:0},slug:"free"}],s$=[{id:"in_1JbhYWEwsu4qiqnnrUh6hsHa",externalId:"in_1JbhYWEwsu4qiqnnrUh6hsHa",subscriptionId:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",paymentDate:"2021-09-20T08:08:51.000Z",totalAmount:1e4,currency:"usd",paid:!0,receiptNumber:""},{id:"in_1JbhYWEwsu4qiqnnrUh6hsHa",externalId:"in_1JbhYWEwsu4qiqnnrUh6hsHa",subscriptionId:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",paymentDate:"2021-08-20T08:08:51.000Z",totalAmount:1e4,currency:"usd",paid:!0,receiptNumber:""}],sx=[{id:"id",externalId:"externalId",type:sj.Lt.CARD,isDefault:!0,last4:"4242",expMonth:11,expYear:25,brand:"visa",billingDetails:{name:"Dummy",email:"dummy@email.com"}}],sG={allowPlanDowngrade:!0,allowPlanCancellation:!0};var sB=(t,e,n)=>{let i=iY((0,sM.Z)(t,e,n),["setBillingInformationState","resetBillingInformationState"]);return i.loadBillingInformation=async()=>{var t,e;i.setBillingInformationState({loading:!0}),await (0,tn.gw)(500),i.setBillingInformationState({loading:!1,fetching:!1,summary:{subscriptionId:sF.id,paymentMethodId:"mockPaymentMethodId",tenantConfigurationId:"mockTenantConfigurationId",providerType:sj.lP.Stripe,externallyManaged:!1,currentPlanId:sZ[0].id,defaultPlanId:sZ[0].id},plan:(0,$.Z)({},sZ[0],{price:null==(t=sZ[0].price)?void 0:t.amount,currency:null==(e=sZ[0].price)?void 0:e.currency,recurringInterval:"month"})})},i},sV=n(1082),sW=(t,e,n)=>{let i=iY((0,sV.Z)(t,e,n),["setBillingPaymentMethodState","resetBillingPaymentMethodState"]);return i.loadPaymentMethod=async()=>{i.setBillingPaymentMethodState({loading:!0}),await (0,tn.gw)(500),i.setBillingPaymentMethodState({paymentMethod:sx[0],loading:!1,fetching:!1})},i},sH=n(6454),sK=(t,e,n)=>{let i=iY((0,sH.Z)(t,e,n),["setBillingInvoiceState","resetBillingInvoiceState"]);return i.loadBillingInvoices=async()=>{i.setBillingInvoiceState({loading:!0}),await (0,tn.gw)(500),i.setBillingInvoiceState({loading:!1,fetching:!1,invoices:s$.map(t=>(0,$.Z)({},t,{selectedPlan:"Premium",paymentDate:new Date(Date.parse(t.paymentDate)),totalAmount:+((t.totalAmount||0)/100).toFixed(2)}))})},i.loadInvoices=i.loadBillingInvoices,i},sz=n(3811),sJ=(t,e,n)=>{let i=iY((0,sz.Z)(t,e,n),["setBillingSubscriptionState","resetBillingSubscriptionState","setCancellationLoading","setCancellationError","setRenewalLoading","setRenewalError"]);return i.loadSubscription=async()=>{i.setBillingSubscriptionState({loading:!0}),await (0,tn.gw)(500),i.setBillingSubscriptionState({subscription:sF,fetching:!1,loading:!1,error:null})},i},sq=(t,e,n)=>{let i=sB(t,e,n),a=sW(t,e,n),s=sK(t,e,n),r=sJ(t,e,n);return[(0,$.Z)({},i,a,s,r),{information:i,invoices:s,paymentMethod:a,subscription:r}]},sY=n(5586),sX=(t,e,n)=>{let i=iY((0,sY.Z)(t,e,n),["setPlansState","resetPlansState"]);return i.loadPlans=async()=>{i.setPlansState({loading:!0}),await (0,tn.gw)(500),i.setPlansState({fetching:!1,loading:!1,plans:sZ.map(t=>{var e,n;return(0,$.Z)({},t,{price:(null==(e=t.price)?void 0:e.amount)||0,currency:(null==(n=t.price)?void 0:n.currency)||"usd",recurringInterval:"month"})})})},i},sQ=n(1239),s0=(t,e,n)=>iY((0,sQ.Z)(t,e,n),["setCheckoutState","resetCheckoutState","errorCheckout","resetCheckout"]),s1=n(9757),s2=(t,e,n)=>iY((0,s1.Z)(t,e,n),[]),s5=n(2253),s4=(t,e,n)=>{let i=iY((0,s5.Z)(t,e,n),["setVendorPublicConfigState","resetVendorPublicConfigState","setVendorPublicConfigError","setVendorPublicConfigLoading"]);return i.loadVendorPublicConfiguration=async()=>{i.setVendorPublicConfigLoading(!0),await (0,tn.gw)(),i.setVendorPublicConfigState({fetching:!1,loading:!1,vendorPublicConfig:sG})},i};let s3=(t,e,n)=>{let i=sN(t,e,n),[a,s]=sq(t,e,n),r=sX(t,e,n),o=s0(t,e,n),l=s2(t,e,n),u=s4(t,e,n);return[(0,$.Z)({},i,a,r,o,l,u),{config:i,billing:s,plans:r,checkout:o,stripe:l,vendorPublicConfig:u}]},s6=(t,e,n)=>{let i=iY((0,iV.Z)(t,e,n),["setVendorState","resetVendorState"]);return i.loadVendorPublicInfo=async()=>{try{i.setVendorState({whiteLabelMode:!1}),await (0,tn.gw)()}catch(t){console.error("failed to getVendorPublicInfo - ",t)}},i.loadVendorPublicConfiguration=i.loadVendorPublicInfo,i};var s8=(t,e,n,i)=>{let{authActions:a,authStateActions:s}=sm(t,e,n,i),r=sR(t,e,n),[o,l]=s3(t,e,n);return{authActions:a,authStateActions:s,connectivityActions:r,subscriptionsActions:o,subscriptionsStateActions:l,vendorActions:s6(t,e,n),auditsActions:sk(t,e,n)}};let s9=(t,e,n=!1,i,a,s=!1,r="path")=>s7({name:t.appName,context:t.context,storeHolder:e,previewMode:n,builderMode:s,urlStrategy:r,initialState:{root:(0,$.Z)({},t),auth:(0,$.Z)({},null==a?void 0:a.auth,i),connectivity:(0,$.Z)({},null==a?void 0:a.connectivity),subscriptions:(0,$.Z)({},null==a?void 0:a.subscriptions),vendor:(0,$.Z)({},null==a?void 0:a.vendor),auditLogs:(0,$.Z)({},null==a?void 0:a.auditLogs),audits:(0,$.Z)({},null==a?void 0:a.audits)}}),s7=t=>{var e,n,i,a,s,r,o;let{storeHolder:l}=t,u=l;if("undefined"==typeof window&&null==l)throw Error("createFronteggStore(initState, storeHolder) failed, storeHolder must not be null in Server-Side rendering");if(u||(u=window),u.store)return u.store;let c=t.name||"default",{context:d,previewMode:g=!1,builderMode:h=!1,urlStrategy:p="path"}=t,f=W.a.for(c);g||h||f.setContext(d),void 0===d.requestCredentials&&(d.requestCredentials="include");let y=iF(null==(e=t.initialState)?void 0:e.auth),v=(0,i$.Z)(null==(n=t.initialState)?void 0:n.connectivity),S=(0,iG.Gi)(null==(i=t.initialState)?void 0:i.subscriptions),m=(0,iB.Z)(null==(a=t.initialState)?void 0:a.vendor),b=(0,iW.H)(null==(s=t.initialState)?void 0:s.auditLogs),A=iJ(null==(r=t.initialState)?void 0:r.audits),w=null==(o=t.initialState)?void 0:o.auth;w&&Object.keys(w).forEach(t=>{iK()(y,t,w[t],{merge:!0})});let T=JSON.parse(JSON.stringify(y)),P=(0,Q.D)({root:{appName:c,context:d,urlStrategy:p,previewMode:g},auth:y,connectivity:v,subscriptions:S,vendor:m,auditLogs:b,audits:A});"undefined"!=typeof window&&"true"===localStorage.DEBUG_FRONTEGG_STORE&&function(t,e){let n;"string"==typeof e&&(e={name:e});let i=e||{},{enabled:a,name:s=""}=i,r=(0,x.Z)(i,B);try{n=a&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!n)return;let o=!1,l=n.connect((0,$.Z)({name:s},r)),u=(0,G.Ld)(t,e=>{let n=e.filter(([t,e])=>e[0]!==V).map(([t,e])=>`${t}:${e.map(String).join(".")}`).join(", ");if(n){if(o)o=!1;else{let e=Object.assign({},(0,G.CO)(t));delete e[V],l.send({type:n,updatedAt:new Date().toLocaleString()},e)}}}),c=l.subscribe(e=>{var n,i,a,s,r,u;if("ACTION"===e.type&&e.payload)try{Object.assign(t,JSON.parse(e.payload))}catch(t){console.error("please dispatch a serializable value that JSON.parse() and proxy() support\n",t)}if("DISPATCH"===e.type&&e.state)((null==(a=e.payload)?void 0:a.type)==="JUMP_TO_ACTION"||(null==(s=e.payload)?void 0:s.type)==="JUMP_TO_STATE")&&(o=!0,Object.assign(t,JSON.parse(e.state))),t[V]=e;else if("DISPATCH"===e.type&&(null==(n=e.payload)?void 0:n.type)==="COMMIT")l.init((0,G.CO)(t));else if("DISPATCH"===e.type&&(null==(i=e.payload)?void 0:i.type)==="IMPORT_STATE"){let n=null==(r=e.payload.nextLiftedState)?void 0:r.actionsById,i=(null==(u=e.payload.nextLiftedState)?void 0:u.computedStates)||[];o=!0,i.forEach(({state:e},i)=>{let a=n[i]||"No action found";Object.assign(t,e),0===i?l.init((0,G.CO)(t)):l.send(a,(0,G.CO)(t))})}});l.init((0,G.CO)(t)),()=>{u(),null==c||c()}}(P,{name:`${c} Store`,enabled:!0});let E={},O={};f.setContext(t.context),f.setAppName(c);let _=(0,H.createApiClient)(c),I=new K.H(c),D=(0,$.Z)({},_,{fetch:I});if(t.previewMode||t.builderMode){let{authActions:e,authStateActions:n,connectivityActions:i,subscriptionsActions:a,subscriptionsStateActions:s,vendorActions:r,auditsActions:o}=s8(P,D,O,T);E.auth=n,E.connectivity=i,E.subscriptions=s,E.vendor=r,E.auditLogs=o,E.audits={},Object.assign(O,(0,$.Z)({},e,i,a,r,o));let l={dispatch:t=>{setTimeout(()=>{let[n,...s]=t.type.split("/"),o=s.join("/");"auth"===n&&"function"==typeof e[o]?e[o](t.payload):"connectivity"===n&&"function"==typeof i[o]?i[o](t.payload):"subscriptions"===n&&"function"==typeof a[o]?a[o](t.payload):"vendor"===n&&"function"==typeof r[o]&&r[o](t.payload)})},getState:()=>P,subscribe:t=>(0,G.Ld)(P,t),subscribeStateChanged:t=>(0,G.Ld)(P,()=>t(P)),store:P,actions:O,stateActions:E};return t.previewMode&&l.dispatch({type:"auth/requestAuthorize",payload:!0}),u&&(u.store=l),l}{let[t,e]=iZ(P,D,O,T),n=(0,ix.Z)(P,D,O),[i,a]=(0,iG.Yc)(P,D,O),s=(0,iV.Z)(P,D,O),r=(0,iW.$)(P,D,O),o=iq(P,D,O);return E.auth=e,E.connectivity=n,E.subscriptions=a,E.vendor=s,E.auditLogs=r,E.audits=o,Object.assign(O,(0,$.Z)({},t,n,i,s,r)),{dispatch:e=>{let[a,...r]=e.type.split("/"),o=r.join("/");"auth"===a&&"function"==typeof t[o]?t[o](e.payload):"connectivity"===a&&"function"==typeof n[o]?n[o](e.payload):"subscriptions"===a&&"function"==typeof i[o]?i[o](e.payload):"vendor"===a&&"function"==typeof s[o]&&s[o](e.payload)},getState:()=>P,subscribe:t=>(0,G.Ld)(P,t),subscribeStateChanged:t=>(0,G.Ld)(P,()=>t(P)),store:P,actions:O,stateActions:E}}}},9181:function(t,e,n){"use strict";n.d(e,{CO:function(){return c},Ld:function(){return u},sj:function(){return l}});var i=n(8047);let a=t=>"object"==typeof t&&null!==t,s=new WeakMap,r=new WeakSet,[o]=function(t=Object.is,e=(t,e)=>new Proxy(t,e),n=t=>a(t)&&!r.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer),o=t=>{switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t}},l=new WeakMap,u=(t,e,n=o)=>{let a=l.get(t);if((null==a?void 0:a[0])===e)return a[1];let c=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return(0,i.jc)(c,!0),l.set(t,[e,c]),Reflect.ownKeys(t).forEach(e=>{if(Object.getOwnPropertyDescriptor(c,e))return;let a=Reflect.get(t,e),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,e),l={value:a,enumerable:o,configurable:!0};if(r.has(a))(0,i.jc)(a,!1);else if(a instanceof Promise)delete l.value,l.get=()=>n(a);else if(s.has(a)){let[t,e]=s.get(a);l.value=u(t,e(),n)}Object.defineProperty(c,e,l)}),Object.preventExtensions(c)},c=new WeakMap,d=[1,1],g=o=>{if(!a(o))throw Error("object required");let l=c.get(o);if(l)return l;let h=d[0],p=new Set,f=(t,e=++d[0])=>{h!==e&&(h=e,p.forEach(n=>n(t,e)))},y=d[1],v=t=>(e,n)=>{let i=[...e];i[1]=[t,...i[1]],f(i,n)},S=new Map,m=(t,e)=>{if(p.size){let n=e[3](v(t));S.set(t,[e,n])}else S.set(t,[e])},b=t=>{let e=S.get(t);if(e){var n;S.delete(t),null==(n=e[1])||n.call(e)}},A=Array.isArray(o)?[]:Object.create(Object.getPrototypeOf(o)),w=e(A,{deleteProperty(t,e){let n=Reflect.get(t,e);b(e);let i=Reflect.deleteProperty(t,e);return i&&f(["delete",[e],n]),i},set(e,o,l,u){let d=Reflect.has(e,o),h=Reflect.get(e,o,u);if(d&&(t(h,l)||c.has(l)&&t(h,c.get(l))))return!0;b(o),a(l)&&(l=(0,i.o5)(l)||l);let p=l;if(l instanceof Promise)l.then(t=>{l.status="fulfilled",l.value=t,f(["resolve",[o],t])}).catch(t=>{l.status="rejected",l.reason=t,f(["reject",[o],t])});else{!s.has(l)&&n(l)&&(p=g(l));let t=!r.has(p)&&s.get(p);t&&m(o,t)}return Reflect.set(e,o,p,u),f(["set",[o],l,h]),!0}});c.set(o,w);let T=[A,(t=++d[1])=>(y===t||p.size||(y=t,S.forEach(([e])=>{let n=e[1](t);n>h&&(h=n)})),h),u,t=>(p.add(t),1===p.size&&S.forEach(([t,e],n)=>{let i=t[3](v(n));S.set(n,[t,i])}),()=>{p.delete(t),0===p.size&&S.forEach(([t,e],n)=>{e&&(e(),S.set(n,[t]))})})];return s.set(w,T),Reflect.ownKeys(o).forEach(t=>{let e=Object.getOwnPropertyDescriptor(o,t);"value"in e&&(w[t]=o[t],delete e.value,delete e.writable),Object.defineProperty(A,t,e)}),w}){return[g,s,r,t,e,n,o,l,u,c,d]}();function l(t={}){return o(t)}function u(t,e,n){let i;let a=s.get(t),r=[],o=a[3],l=!1,u=o(t=>{if(r.push(t),n){e(r.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,l&&e(r.splice(0))}))});return l=!0,()=>{l=!1,u()}}function c(t,e){let[n,i,a]=s.get(t);return a(n,i(),e)}},4274:function(t,e,n){"use strict";var i=n(7926),a=n(2425),s=n(2401);e.Z=(t,e,n)=>{let r=e=>{Object.assign(t.vendor,e)},o=async()=>{r({loading:!0});try{var t;let n=await e.vendor.getVendorPublicInfo();n.whiteLabelMode=null!=(t=n.whiteLabelMode)&&t,r((0,i.Z)({},n,{loading:!1}))}catch(t){r({loading:!1}),console.error("failed to getVendorPublicInfo - ",t)}};return{setVendorState:r,resetVendorState:()=>{(0,s.BW)(t,["vendor"],a.E)},loadVendorPublicInfo:o,loadVendorPublicConfiguration:o}}},2425:function(t,e,n){"use strict";n.d(e,{E:function(){return a}});var i=n(4428);let a={loading:!1};e.Z=t=>(0,i.D)(a,t)},3348:function(t,e,n){"use strict";n.d(e,{J:function(){return a}});var i=n(5909);class a{constructor(t){this.appName=void 0,this.fetchClient=void 0,this.get=async(t,e,n)=>this.fetchClient.get(t,e,n),this.post=async(t,e,n)=>this.fetchClient.post(t,e,n),this.patch=async(t,e,n)=>this.fetchClient.patch(t,e,n),this.put=async(t,e,n)=>this.fetchClient.put(t,e,n),this.delete=async(t,e,n)=>this.fetchClient.delete(t,e,n),this.postDownload=async(t,e,n,i)=>this.fetchClient.postDownload(t,e,n,i),this.extractHeadersFromOptions=(t={})=>this.fetchClient.extractHeadersFromOptions(t),this.appName=t,this.fetchClient=new i.H(t)}}},4592:function(t,e,n){"use strict";n.d(e,{$:function(){return s},a:function(){return i}});class i{constructor(){this.context=null,this.accessToken=null,this.user=null,this.requestSource=null,this.onRedirectTo=t=>window.location.href=t,this.logout=()=>window.location.href="/account/logout",this.entitlementsOptions=null,this.appName=null,this.sessionContext=void 0,this.basename=null,this.setContext=t=>{this.context=t},this.setAccessToken=t=>{this.accessToken=t},this.setUser=t=>{this.user=t},this.setRequestSource=t=>{this.requestSource=t},this.setOnRedirectTo=t=>{this.onRedirectTo=t},this.setLogout=t=>{this.logout=t},this.setEntitlementsOptions=t=>{this.entitlementsOptions=t},this.setSessionContext=t=>{this.sessionContext=t},this.setAppName=t=>{this.appName=t},this.getContext=()=>{var t;return null!=(t=this.context)?t:{baseUrl:window.location.href,tokenResolver:()=>"my-authentication-token",logLevel:"error"}},this.getAccessToken=()=>this.accessToken,this.getRequestSource=()=>this.requestSource,this.getUser=()=>this.user,this.shouldLoadEntitlements=()=>{var t;return(null==(t=this.entitlementsOptions)?void 0:t.enabled)||!1},this.isSessionPerTenantEnabled=()=>{var t;return(null==(t=this.sessionContext)?void 0:t.enableSessionPerTenant)||!1},this.getAppName=()=>this.appName}static default(){return i.getInstance(a)}static for(t){return i.getInstance(t)}static getInstance(t="default"){return i._apps||(i._apps={}),i._apps[t]||(i._apps[t]=new i),i._apps[t]}static createInstance(t="default"){return i._apps[t]=new i,i._apps[t].appName=t,i._apps[t]}static setContext(t,e="default"){i.for(e).context=t}static setAccessToken(t,e=a){i.for(e).accessToken=t}static setUser(t,e="default"){i.for(e).user=t}static setRequestSource(t,e="default"){i.for(e).requestSource=t}static setOnRedirectTo(t,e="default"){i.for(e).onRedirectTo=t}static setLogout(t,e,n="default"){let a=i.for(n);a.logout=n=>{n?t(n):a.onRedirectTo(e,void 0)}}static setEntitlementsOptions(t,e="default"){i.for(e).entitlementsOptions=t}static setSessionContext(t,e="default"){i.for(e).sessionContext=t}static setAppName(t){i.for(t).appName=t}static getContext(t="default"){var e;return null!=(e=i.for(t).context)?e:{baseUrl:window.location.href,tokenResolver:()=>"my-authentication-token",logLevel:"error"}}static getAccessToken(t="default"){return i.for(t).accessToken}static getRequestSource(t="default"){return i.for(t).requestSource}static getBasename(t="default"){return i.for(t).basename}getBasename(){return this.basename}static setBasename(t,e=a){i.for(e).basename=t}setBasename(t){this.basename=t}static getUser(t="default"){return i.for(t).user}static onRedirectTo(t,e,n="default"){return i.for(n).onRedirectTo(t,e)}static logout(t,e="default"){return i.for(e).logout(t)}static shouldLoadEntitlements(t="default"){var e;return(null==(e=i.for(t).entitlementsOptions)?void 0:e.enabled)||!1}static isSessionPerTenantEnabled(t="default"){var e;return(null==(e=i.for(t).sessionContext)?void 0:e.enableSessionPerTenant)||!1}static getAppName(t="default"){return i.for(t).appName}}i._apps=void 0;let a="default",s={getContext:()=>i.getContext(a),getAccessToken:()=>i.getAccessToken(a),setAccessToken:t=>i.setAccessToken(t,a),getUser:()=>i.getUser(a),setUser:t=>i.setUser(t,a),onRedirectTo:(t,e)=>i.onRedirectTo(t,e,a),setOnRedirectTo:t=>i.setOnRedirectTo(t,a),logout:t=>i.logout(t,a),getRequestSource:()=>i.getRequestSource(a),setRequestSource:t=>i.setRequestSource(t,a),isSessionPerTenantEnabled:()=>i.isSessionPerTenantEnabled(a),shouldLoadEntitlements:()=>i.shouldLoadEntitlements(a),getAppName:()=>i.getAppName(a),setEntitlementsOptions:t=>i.setEntitlementsOptions(t,a),setSessionContext:t=>i.setSessionContext(t,a),getBasename:()=>i.getBasename(a),setBasename:t=>i.setBasename(t,a)}},5909:function(t,e,n){"use strict";n.d(e,{H:function(){return l}});var i=n(7926),a=n(4592),s=n(7876),r=n(2569),o=n(4130);class l{constructor(t){this.appName=void 0,this.getFronteggContext=()=>a.a.for(this.appName),this.prepareUrl=async(t,e)=>{let n=this.getFronteggContext().getContext(),i=this.getContextBaseUrl(t),a=await this.buildQueryParams(n,e),s=t.startsWith("http")?t:`${i}${t}`,r=Object.keys(a).length>0;if(a&&r){let t=new URLSearchParams(a);s+=`?${t}`}return s},this.buildQueryParams=async(t,e)=>{for(let n of(e||(e={}),await this.getAdditionalQueryParams(t)))e[n.key]=n.value;for(let t of Object.keys(e)){let n=e[t];e[t]="object"==typeof n?JSON.stringify(n):n}return e},this.getAdditionalQueryParams=async t=>{let e=[];return t.additionalQueryParamsResolver&&(e=await t.additionalQueryParamsResolver()),e},this.getAdditionalHeaders=async t=>{let e=[];if(t.additionalHeadersResolver&&(e=await t.additionalHeadersResolver()),t.tenantResolver){let n=await t.tenantResolver();null!=n&&n.tenant&&e.push({key:"frontegg-login-alias",value:n.tenant})}return t.appId&&e.push({key:"frontegg-requested-application-id",value:t.appId}),e},this.buildRequestHeaders=async t=>{var e;let n=this.getFronteggContext(),i=n.getContext(),a=l.getMetadataHeaders(i),s=await (null!=(e=null==i?void 0:i.tokenResolver)?e:n.getAccessToken)(),r=n.getRequestSource(),u=l.getScopedTenant();for(let e of(t&&(a[o.TK.contentType]=t),r&&(a[o.TK.source]=r),s&&(a.Authorization=`Bearer ${s}`),u&&(a[o.TK.scopedTenant]=u),await this.getAdditionalHeaders(i)))a[`${e.key}`]=`${e.value}`;return a},this.sendRequest=async t=>{var e,n,a,o,l;let u=this.getFronteggContext().getContext(),c=await this.buildRequestHeaders(t.contentType),d=await this.prepareUrl(t.url,t.params),g=await fetch(d,{body:t.body?"application/json"===t.contentType?JSON.stringify(t.body):t.body:null,method:null!=(e=t.method)?e:"GET",headers:(0,i.Z)({},c,t.headers),credentials:null!=(n=null!=(a=t.credentials)?a:u.requestCredentials)?n:"same-origin"});if(302===g.status)return window.location.href=await g.text(),new Promise(()=>{});if(!g.ok){let t;if(413===g.status)throw new s.r("Error request is too large",g.status);let e=!0;try{t=await g.text(),t=JSON.parse(t)}catch(t){e=!1}throw t.errors?t=t.errors.join(", "):"string"!=typeof t&&(t=`Error ${g.status} - ${g.statusText}`),g.status>=400&&g.status<500&&["warn"].includes(null!=(o=u.logLevel)?o:"")?console.warn(t):500===g.status&&["warn","error"].includes(null!=(l=u.logLevel)?l:"")&&console.error(t),new s.r(e?t:r.F,g.status)}if(t.responseType&&"json"!==t.responseType){if("blob"!==t.responseType)return await g.text();{let{outputFileName:e}=t.params;return await g.blob().then(t=>URL.createObjectURL(t)).then(t=>{let n=document.createElement("a");n.href=t,n.setAttribute("download",e||"output"),n.click()})}}try{return await g.json()}catch(t){return{}}},this.get=async(t,e,n)=>this.sendRequest((0,i.Z)({url:t,method:"GET",contentType:"application/json",params:e},n)),this.post=async(t,e,n)=>this.sendRequest((0,i.Z)({url:t,method:"POST",contentType:"application/json",body:e},n)),this.patch=async(t,e,n)=>this.sendRequest((0,i.Z)({url:t,method:"PATCH",contentType:"application/json",body:e},n)),this.put=async(t,e,n)=>this.sendRequest((0,i.Z)({url:t,method:"PUT",contentType:"application/json",body:e},n)),this.delete=async(t,e,n)=>this.sendRequest((0,i.Z)({url:t,method:"DELETE",contentType:"application/json",body:e},n)),this.postDownload=async(t,e,n,a)=>this.sendRequest((0,i.Z)({url:t,method:"POST",contentType:"application/json",responseType:"blob",body:e,params:n},a)),this.extractHeadersFromOptions=(t={})=>(0,i.Z)({},t.jwt?{Authorization:t.jwt}:{}),this.getBaseUrl=(t,e,n=!0)=>l.getBaseUrl(t,e,n),this.getContextBaseUrl=(t,e=!0)=>{let n=this.getFronteggContext().getContext();return this.getBaseUrl(n,t,e)},this.getMetadataHeaders=t=>l.getMetadataHeaders(t),this.getContextMetadataHeaders=()=>{let t=this.getFronteggContext().getContext();return l.getMetadataHeaders(t)},this.appName=t}}l.getBaseUrl=(t,e,n=!0)=>{let i;i="function"==typeof t.baseUrl?t.baseUrl(e):t.baseUrl;let a=t.urlPrefix||"frontegg",s="frontegg"===a&&!n;return i.endsWith("/")||(i+="/"),i.endsWith(a)||s||(i+=a),i},l.getMetadataHeaders=t=>{var e,n;let i={};return null!=t&&null!=(e=t.metadataHeaders)&&e.fronteggSdkVersion&&(i[o.TK.fronteggSdkVersion]=t.metadataHeaders.fronteggSdkVersion),null!=t&&null!=(n=t.metadataHeaders)&&n.framework&&(i[o.TK.frameWork]=t.metadataHeaders.framework),i},l.getScopedTenant=()=>new URLSearchParams(window.location.search).get("tenantId")||null,e.Z=new l("default")},7906:function(t,e,n){"use strict";var i;let a;n.d(e,{n:function(){return a}}),(i=a||(a={})).FREE_ACCESS="FREE_ACCESS",i.MANAGED_ACCESS="MANAGED_ACCESS"},4890:function(t,e,n){"use strict";n.d(e,{K:function(){return a},Q:function(){return i}});let i="FRONTEGG_SEPARATE_TABS_BY_TENANT",a="admin_portal_use_current_user_tenants_v1_endpoint"},8994:function(t,e,n){"use strict";var i,a,s;let r,o,l;n.d(e,{CI:function(){return r},QZ:function(){return l},lw:function(){return o}}),(i=r||(r={})).Microsoft="microsoft",i.Facebook="facebook",i.Google="google",i.Github="github",i.Slack="slack",i.Apple="apple",i.Linkedin="linkedin",(a=o||(o={})).EmailAndPassword="EmailAndPassword",a.MagicLink="MagicLink",a.Code="Code",a.NoLocalAuthentication="NoLocalAuthentication",a.SmsCode="SmsCode",(s=l||(l={})).ClientCredentials="ClientCredentials",s.AccessToken="AccessToken"},4559:function(t,e,n){"use strict";let i,a,s;n.d(e,{Gj:function(){return c},IY:function(){return a},_g:function(){return i},cQ:function(){return u.c},wp:function(){return s}});var r,o,l,u=n(7644);(r=i||(i={})).WebAuthnPlatform="WebAuthnPlatform",r.WebAuthnCrossPlatform="WebAuthnCrossPlatform",r.SmsCode="SmsCode",r.SmsCodeV2="SmsCodeV2",r.Passkeys="Passkeys",(o=a||(a={})).Platform="Platform",o.CrossPlatform="CrossPlatform",(l=s||(s={})).AuthenticatorApp="AuthenticatorApp",l.WebAuthnPlatform="WebAuthnPlatform",l.WebAuthnCrossPlatform="WebAuthnCrossPlatform",l.SMS="SMS",l.EmailCode="EmailCode";let c="admin_portal_should_load_authorization"},7644:function(t,e,n){"use strict";var i;let a;n.d(e,{c:function(){return a}}),(i=a||(a={})).ALLOW="ALLOW",i.BLOCK="BLOCK"},8910:function(t,e,n){"use strict";n.d(e,{Ft:function(){return d},LW:function(){return c},hU:function(){return o},j2:function(){return u},ox:function(){return l}});var i=n(4592),a=n(4890),s=n(886),r=n(4648);async function o({shouldLoad:t,action:e}){if(t)return await e()}function l(t){t&&sessionStorage.setItem(a.Q,t)}function u(){sessionStorage.removeItem(a.Q)}function c(t){return i.a.for(t).isSessionPerTenantEnabled()?sessionStorage.getItem(a.Q):null}function d(t){let e=new r._(t),[n]=s.TP.getFeatureFlags([a.K],t);return i.a.for(t).isSessionPerTenantEnabled()?e.getCurrentUserTenantsV1:n?e.getCurrentUserTenantsV1:e.getCurrentUserTenantsV3}},2569:function(t,e,n){"use strict";n.d(e,{F:function(){return a},j:function(){return i}});let i={vendor:"/vendors",identity:{webAuthnDevices:{v1:"/identity/resources/users/webauthn/v1/devices"},auth:{v1:"/identity/resources/auth/v1",v2:"/identity/resources/auth/v2"},users:{v1:"/identity/resources/users/v1",v2:"/identity/resources/users/v2",v3:"/identity/resources/users/v3",roles:{v3:"/identity/resources/users/v3/roles"},groups:{v3:"/identity/resources/users/v3/groups"},tenants:{me:{v1:"/identity/resources/users/v1/me/tenants",v3:"/identity/resources/users/v3/me/tenants"}},apiTokens:{v1:"/identity/resources/users/api-tokens/v1"},accessTokens:{v1:"/identity/resources/users/access-tokens/v1"},sessions:{v1:"/identity/resources/users/sessions/v1",currentUser:{v1:"/identity/resources/users/sessions/v1/me"},configurations:{v1:"/identity/resources/configurations/sessions/v1"}},invitation:{resendAll:{v1:"/identity/resources/users/v1/invitation/reset/all"}},passwords:{resetBreachedPasswords:{v1:"/identity/resources/users/v1/passwords/breached/reset/bulk"}},authorization:{v1:"/identity/resources/users/v1/me/authorization"},temporary:{v1:"/identity/resources/users/temporary/v1",configuration:{v1:"/identity/resources/users/temporary/v1/configuration"}}},configurations:{v1:"/identity/resources/configurations/v1"},restrictions:{emailDomain:{v1:"/identity/resources/configurations/restrictions/v1/email-domain"},ip:{v1:"/identity/resources/configurations/v1/restrictions/ip"}},sso:{v1:"/identity/resources/sso/v1",v2:"/identity/resources/sso/v2",custom:{v1:"/identity/resources/sso/custom/v1"}},permissions:{v1:"/identity/resources/permissions/v1"},tenants:{apiTokens:{v1:"/identity/resources/tenants/api-tokens/v1",v2:"/identity/resources/tenants/api-tokens/v2"},accessTokens:{v1:"/identity/resources/tenants/access-tokens/v1"},invites:{user:{v1:"/identity/resources/tenants/invites/v1/user"},verify:{v1:"/identity/resources/tenants/invites/v1/verify"},configuration:{v1:"/identity/resources/tenants/invites/v1/configuration"}},users:{v1:"/identity/resources/tenants/users/v1"}},roles:{v1:"/identity/resources/roles/v1",v2:"/identity/resources/roles/v2"},subTenants:{v1:"/identity/resources/sub-tenants/users/v1",v2:"/identity/resources/sub-tenants/users/v2"},impersonate:{v1:"/identity/resources/impersonation/v1"},applications:{v1:"/identity/resources/applications/v1"},groups:{v1:"/identity/resources/groups/v1",configurations:{v1:"/identity/resources/groups/v1/config"},getByIds:{v1:"/identity/resources/groups/v1/bulkGet"}},phoneNumbers:{v1:"/identity/resources/users/phone-numbers/v1"}},team:{sso:{v1:"/team/resources/sso/v1",v2:"/team/resources/sso/v2"},members:{v1:"/team/resources/members/v1"},roles:{v1:"/team/resources/roles/v1"},stats:{v1:"/team/resources/stats/v1"},profile:{v1:"/team/resources/profile"}},tenants:{accountSettings:{v1:"/tenants/resources/account-settings/v1"},hierarchy:{v1:"/tenants/resources/hierarchy/v1",tree:{v1:"/tenants/resources/hierarchy/v1/tree"},parents:{v1:"/tenants/resources/hierarchy/v1/parents"},v2:"/tenants/resources/hierarchy/v2",metadata:{v2:"/tenants/resources/hierarchy/v2/metadata"}},subTenants:{v1:"/tenants/resources/sub-tenants/v1"}},integrations:{configurations:{v1:"/integrations/resources/configurations/v1",v2:"/integrations/resources/configurations/v2"}},subscriptions:{billing:{subscriptions:{v1:"/subscriptions/resources/billing/subscriptions/v1"},plans:{v1:"/subscriptions/resources/billing/plans/v1"},invoices:{v1:"/subscriptions/resources/billing/invoices/v1"},paymentMethods:{v1:"/subscriptions/resources/billing/payment-methods/v1"},summaries:{v1:"/subscriptions/resources/billing/summaries/v1"},tenantConfiguration:{v1:"/subscriptions/resources/billing/tenant-configurations/v1"},configurations:{vendorPublicConfigurations:{v1:"/subscriptions/resources/billing/configurations/vendor-public-configurations/v1"}},paymentProviders:{stripe:{customers:{v1:"/subscriptions/resources/billing/payment-providers/stripe/customers/v1"},publicConfigurations:{v1:"/subscriptions/resources/billing/payment-providers/stripe/public-configurations/v1"},subscriptions:{v1:"/subscriptions/resources/billing/payment-providers/stripe/subscriptions/v1"},setupIntents:{v1:"/subscriptions/resources/billing/payment-providers/stripe/setup-intents/v1"}}}},paymentProviders:{v1:"/subscriptions/resources/payment-providers/v1"},managedSubscriptions:{v1:"/subscriptions/resources/subscriptions/v1"}},reports:{service:{v1:"/reports/resources/reports/v1",v2:"/reports/resources/reports/v2"},trigger:{v1:"/reports/engine/resources/triggers/v1"}},notifications:{v1:"/notification"},audits:{v1:"/audits"},events:{configurations:{v1:"/event/resources/configurations/v1"}},webhooks:{v1:"/webhook"},oauth:{v1:"/oauth"},featureFlags:{v1:"/flags"},directory:{v1:"/directory/resources/v1/configurations/scim2",temp:"/directory/resources/scim/temp"},entitlements:{v1:"/entitlements/api/v1/user-entitlements",v2:"/entitlements/api/v2/user-entitlements"},securityCenter:{recommendations:{v1:"/security-center/resources/recommendations/v1"},insights:{v1:"/security-center/resources/insights/v1"}},applications:{v1:"/applications/resources/applications/v1",tenant:{v1:"/applications/resources/applications/tenant-assignments/v1"}}},a="We're facing some difficulties, Please try again"},7876:function(t,e,n){"use strict";n.d(e,{r:function(){return i}});class i extends Error{constructor(t,e){super(t),this._statusCode=void 0,this._statusCode=e}get statusCode(){return this._statusCode}}},886:function(t,e,n){"use strict";n.d(e,{TP:function(){return o},Wc:function(){return l}});var i=n(7926),a=n(2569),s=n(3348);let r={flags:{}};class o{constructor(){var t;this._flags={},this._flags=null!=(t=r.flags)?t:{}}static getInstance(t="default"){return this._instances[t]}static set(t,e="default"){let n=new o;return n.set(t),o._instances[e]=n,n}static getFeatureFlags(t,e){let n=this.getInstance(e);return t.map(t=>(null==n?void 0:n._flags[t])==="on")}get flags(){var t;return null!=(t=this.flags)?t:{}}set(t){var e;this._flags=(0,i.Z)({},null!=(e=null==r?void 0:r.flags)?e:{},null!=t?t:{})}}o._instances={};class l extends s.J{constructor(t){super(t),this.loadFeatureFlags=async()=>this.get(a.j.featureFlags.v1)}}e.ZP=new l("default")},2866:function(t,e,n){"use strict";var i,a;let s,r;n.d(e,{l:function(){return s},s:function(){return r}}),(i=s||(s={})).roles="roles",i.users="users",i.rolesAndUsers="rolesAndUsers",(a=r||(r={})).FRONTEGG="frontegg",a.SCIM2="scim2"},2710:function(t,e,n){"use strict";let i,a,s,r,o;n.r(e),n.d(e,{ADMIN_PORTAL_ENTITLEMENTS_FF:function(){return _},ApplicationAccessType:function(){return t4.n},AuthStrategyEnum:function(){return h.lw},ContextHolder:function(){return v.a},DirectoryApi:function(){return tk},FRONTEGG_SEPARATE_TABS_BY_TENANT:function(){return tW.Q},FeatureFlags:function(){return I.TP},FeatureFlagsApi:function(){return I.Wc},FetchClient:function(){return y.H},FronteggApiError:function(){return f.r},FronteggContext:function(){return v.$},FronteggFrameworks:function(){return tV.ZE},GetUsersFilterPreset:function(){return t2.XR},GroupManagedByEnum:function(){return t1.s},GroupRelations:function(){return t1.l},ISubscriptionCancellationPolicy:function(){return p.XO},ISubscriptionStatus:function(){return p.in},InsightCode:function(){return t5.FM},LOAD_AUTHORIZATION_FF:function(){return O.Gj},MFAStrategyEnum:function(){return O.wp},MachineToMachineAuthStrategy:function(){return h.QZ},NotEntitledJustification:function(){return i},PaginationOrderEnum:function(){return tV.JF},PaymentMethodType:function(){return p.Lt},PermissionAssignmentTypeEnum:function(){return tH.D},ProviderType:function(){return p.lP},RecommendationActionKey:function(){return t5.oD},RecommendationCode:function(){return t5.uy},RecommendationSeverity:function(){return t5.TX},RequestSource:function(){return tV.u1},RestrictionType:function(){return O.cQ},ScimConnectionSource:function(){return o},SecondaryAuthStrategy:function(){return O._g},SecurityCategory:function(){return t5.D_},SocialLoginProviders:function(){return h.CI},SortByEnum:function(){return t2.$q},SubAccountAccessTypeEnum:function(){return tK.V},TenantSortByEnum:function(){return s},TenantType:function(){return r},UserManagedByEnum:function(){return a},WebAuthnDeviceType:function(){return O.IY},api:function(){return t3},createApiClient:function(){return t6},default:function(){return t8},fetch:function(){return y.Z},fronteggAuthApiRoutesRegex:function(){return tz},fronteggEntitlementsV2Url:function(){return t0},fronteggHeaders:function(){return tV.TK},fronteggRefreshTokenUrl:function(){return tJ},fronteggSilentRefreshTokenUrl:function(){return tq},fronteggTenantsUrl:function(){return tX},fronteggTenantsV3Url:function(){return tQ},fronteggUsersUrl:function(){return tY},getCurrentUserTenantsFunction:function(){return D.Ft},getTabTenantFromSessionStorage:function(){return D.LW},providersArray:function(){return t2.vQ},removeTabTenantFromSessionStorage:function(){return D.j2},setTabTenantInSessionStorage:function(){return D.ox}});var l,u,c,d,g,h=n(8994),p=n(3336),f=n(7876),y=n(5909),v=n(4592),S=n(9468),m=n(7926),b=n(2569);class A extends Error{constructor(t){super(t)}}let w="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){let e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new A("'atob' failed: The string to be decoded is not correctly encoded.");let n="";for(let t=0,i,a,s=0;a=e.charAt(s++);~a&&(i=t%4?64*i+a:a,t++%4)&&(n+=String.fromCharCode(255&i>>(-2*t&6))))a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a);return n},T=t=>{let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw Error("Illegal base64url string!")}try{var n;return n=e,decodeURIComponent(w(n).replace(/(.)/g,(t,e)=>{let n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}catch(t){return w(e)}};class P extends Error{constructor(t){super(t)}}let E=(t,e={})=>{let n=e.header?0:1;try{return JSON.parse(T(t.split(".")[n]))}catch(t){throw new P("Invalid token specified: "+t.message)}};var O=n(4559);(l=i||(i={})).MISSING_PERMISSION="MISSING_PERMISSION",l.MISSING_FEATURE="MISSING_FEATURE",l.BUNDLE_EXPIRED="BUNDLE_EXPIRED";let _="admin_portal_entitlements";var I=n(886),D=n(8910),L=n(3348);class k extends L.J{constructor(t){super(t),this.switchTenant=async t=>(v.a.for(this.appName).isSessionPerTenantEnabled()&&(0,D.ox)(t.tenantId),this.put(`${b.j.identity.users.v1}/tenant`,t)),this.getTenants=async()=>this.get(`${b.j.identity.users.v2}/me/tenants`),this.getSubTenants=async t=>this.get(b.j.tenants.hierarchy.v1,void 0,{headers:this.extractHeadersFromOptions(t)}),this.getSubTenantsAsTree=async t=>this.get(b.j.tenants.hierarchy.tree.v1,void 0,{headers:this.extractHeadersFromOptions(t)}),this.getParentTenants=async t=>this.get(b.j.tenants.hierarchy.parents.v1,void 0,{headers:this.extractHeadersFromOptions(t)}),this.getParentTenantsById=async(t,e)=>this.get(`${b.j.tenants.hierarchy.parents.v1}/${t}`,void 0,{headers:this.extractHeadersFromOptions(e)}),this.getTenantsUsersCount=async(t,e)=>this.post(`${b.j.identity.tenants.users.v1}/count`,t,{headers:this.extractHeadersFromOptions(e)}),this.searchSubTenants=async(t,e)=>this.get(b.j.tenants.hierarchy.v2,t,{headers:this.extractHeadersFromOptions(e)}),this.getHierarchyMetadata=async(t,e)=>this.get(b.j.tenants.hierarchy.metadata.v2,(0,m.Z)({},t,{_tenantIds:t._tenantIds.join(",")}),{headers:this.extractHeadersFromOptions(e)})}}var R=new k("default");class U extends L.J{constructor(t){super(t),this.loadEntitlementsV2=async()=>this.get(b.j.entitlements.v2)}}var C=new U("default");class N extends L.J{constructor(t){super(t),this.getGlobalSecurityPolicy=async()=>this.get(b.j.identity.configurations.v1),this.getMfaPolicy=async()=>this.get(`${b.j.identity.configurations.v1}/mfa-policy`),this.getVendorMfaPolicy=async()=>this.get(`${b.j.identity.configurations.v1}/mfa-policy/vendor`),this.saveMfaPolicy=async t=>t.id?this.patch(`${b.j.identity.configurations.v1}/mfa-policy`,t):this.post(`${b.j.identity.configurations.v1}/mfa-policy`,t),this.getLockoutPolicy=async()=>this.get(`${b.j.identity.configurations.v1}/lockout-policy`),this.getVendorLockoutPolicy=async()=>this.get(`${b.j.identity.configurations.v1}/lockout-policy/vendor`),this.saveLockoutPolicy=async t=>t.id?this.patch(`${b.j.identity.configurations.v1}/lockout-policy`,t):this.post(`${b.j.identity.configurations.v1}/lockout-policy`,t),this.getCaptchaPolicy=async()=>{try{return await this.get(`${b.j.identity.configurations.v1}/captcha-policy/public`)}catch{return null}},this.getPasswordHistoryPolicy=async()=>this.get(`${b.j.identity.configurations.v1}/password-history-policy`),this.getVendorPasswordHistoryPolicy=async()=>this.get(`${b.j.identity.configurations.v1}/password-history-policy/vendor`),this.savePasswordHistoryPolicy=async t=>t.id?this.patch(`${b.j.identity.configurations.v1}/password-history-policy`,t):this.post(`${b.j.identity.configurations.v1}/password-history-policy`,t),this.getPasswordConfigPolicy=async()=>this.get(`${b.j.identity.configurations.v1}/password`),this.getDomainRestrictions=async()=>this.get(`${b.j.identity.restrictions.emailDomain.v1}`),this.getDomainRestrictionsConfig=async()=>this.get(`${b.j.identity.restrictions.emailDomain.v1}/config`),this.createDomainRestriction=async t=>this.post(`${b.j.identity.restrictions.emailDomain.v1}`,t),this.updateDomainRestrictionConfig=async t=>this.post(`${b.j.identity.restrictions.emailDomain.v1}/config`,t),this.deleteDomainRestriction=async t=>this.delete(`${b.j.identity.restrictions.emailDomain.v1}/${t}`),this.getIPRestrictions=async t=>this.get(`${b.j.identity.restrictions.ip.v1}`,t),this.getIPRestrictionsConfig=async()=>this.get(`${b.j.identity.restrictions.ip.v1}/config`),this.createIPRestriction=async t=>this.post(`${b.j.identity.restrictions.ip.v1}`,t),this.bulkCreateIPRestriction=async t=>this.post(`${b.j.identity.restrictions.ip.v1}/bulk`,t),this.updateIPRestrictionConfig=async t=>this.post(`${b.j.identity.restrictions.ip.v1}/config`,t),this.deleteIPRestriction=async t=>this.delete(`${b.j.identity.restrictions.ip.v1}/${t}`),this.testCurrentIp=async()=>this.post(`${b.j.identity.restrictions.ip.v1}/verify`),this.testCurrentIpInAllowList=async()=>this.post(`${b.j.identity.restrictions.ip.v1}/verify/allow`)}}var M=new N("default");let j=["type"],F=["type"],Z=["type"];class $ extends L.J{constructor(t){super(t),this.tenantsApi=new k(this.appName),this.entitlementsApi=new U(this.appName),this.securityPolicy=new N(this.appName),this.generateLoginResponse=async t=>{if(!t.accessToken)return t;let e=v.a.for(this.appName);e.setAccessToken(t.accessToken);let n=await this.getMeAndEntitlements(),i=t.accessToken?E(t.accessToken):{},a=(0,m.Z)({},t,i,n);return e.setUser(a),a},this.generateLoginResponseV2=async t=>{if(!t.accessToken)return{user:t};let e=v.a.for(this.appName);e.setAccessToken(t.accessToken);let[n,i]=await Promise.all([this.getMeAndEntitlements(),this.tenantsApi.getTenants()]),a=t.accessToken?E(t.accessToken):{},s=(0,m.Z)({},t,a,n);return e.setUser(s),{user:s,tenants:i}},this.generateLoginResponseV3=async t=>{let{accessToken:e}=t;if(!e)return{user:t};let n=v.a.for(this.appName);n.setAccessToken(e);let[i,a]=await Promise.all([this.getMeAndEntitlements(),(0,D.Ft)(this.appName)()]),s=e?E(e):{},r=(0,m.Z)({},t,s,i);return n.isSessionPerTenantEnabled()&&(0,D.ox)(r.tenantId),n.setUser(r),{user:r,tenants:a.tenants,activeTenant:a.activeTenant}},this.generateLoginResponseFromOAuthResponse=async t=>{let e=v.a.for(this.appName);e.setAccessToken(t.id_token);let n=await this.getMeAndEntitlements(),i=t.id_token?E(t.id_token):{},a=(0,m.Z)({mfaRequired:!1,accessToken:t.id_token,refreshToken:t.refresh_token},i,n,{expiresIn:t.expires_in||300});return e.setUser(a),a},this.generateLoginResponseFromOAuthResponseV2=async t=>{let e=v.a.for(this.appName);e.setAccessToken(t.id_token);let[n,i]=await Promise.all([this.getMeAndEntitlements(),(0,D.Ft)(this.appName)()]),a=t.id_token?E(t.id_token):{},s=(0,m.Z)({mfaRequired:!1,accessToken:t.id_token,refreshToken:t.refresh_token},a,n,{expiresIn:t.expires_in||300});return e.isSessionPerTenantEnabled()&&(0,D.ox)(s.tenantId),e.setUser(s),{user:s,tenants:i.tenants,activeTenant:i.activeTenant}},this.preLogin=async t=>{try{let{address:e}=await this.post(`${b.j.identity.auth.v1}/user/saml/prelogin`,t);return e}catch{return null}},this.preLoginWithIdpType=async t=>this.post(`${b.j.identity.auth.v1}/user/saml/prelogin`,t),this.postLogin=async t=>{let e=await this.post(`${b.j.identity.auth.v1}/user/saml/postlogin`,t);return this.generateLoginResponse(e)},this.oidcPostLogin=async t=>{let e=await this.post(`${b.j.identity.auth.v1}/user/oidc/postlogin`,t);return this.generateLoginResponse(e)},this.login=async t=>{let e=await this.post(`${b.j.identity.auth.v1}/user`,t);return this.generateLoginResponse(e)},this.loginv2=async t=>{let e=await this.post(`${b.j.identity.auth.v1}/user`,t);return this.generateLoginResponseV3(e)},this.loginWithMfa=async t=>{let e=await this.post(`${b.j.identity.auth.v1}/user/mfa/verify`,t);return this.generateLoginResponse(e)},this.loginWithMfaV2=async t=>{let e=await this.post(`${b.j.identity.auth.v1}/user/mfa/verify`,t);return this.generateLoginResponseV3(e)},this.activateAccount=async t=>this.post(`${b.j.identity.users.v1}/activate`,t),this.activateAccountV2=async t=>{let e=await this.post(`${b.j.identity.users.v1}/activate`,t);return this.generateLoginResponseV3(e)},this.getActivateAccountStrategy=async t=>this.get(`${b.j.identity.users.v1}/activate/strategy`,t),this.resendActivationEmail=async t=>this.post(`${b.j.identity.users.v1}/activate/reset`,t),this.resendInvitationEmail=async t=>this.post(`${b.j.identity.users.v1}/invitation/reset`,t),this.acceptInvitation=async t=>this.post(`${b.j.identity.users.v1}/invitation/accept`,t),this.refreshToken=async()=>{let t=(0,D.LW)(this.appName),e=await this.post(`${b.j.identity.auth.v1}/user/token/refresh`,{tenantId:t});return this.generateLoginResponse(e)},this.refreshTokenV2=async()=>{let t=(0,D.LW)(this.appName),e=await this.post(`${b.j.identity.auth.v1}/user/token/refresh`,{tenantId:t});return this.generateLoginResponseV2(e)},this.refreshTokenV3=async()=>{let t=(0,D.LW)(this.appName),e=await this.post(`${b.j.identity.auth.v1}/user/token/refresh`,{tenantId:t});return this.generateLoginResponseV3(e)},this.logout=async()=>this.post(`${b.j.identity.auth.v1}/logout`),this.OAuthLogout=async t=>this.get(`${b.j.oauth.v1}/logout`,t),this.forgotPassword=async t=>this.post(`${b.j.identity.users.v1}/passwords/reset`,t),this.resetPassword=async t=>this.post(`${b.j.identity.users.v1}/passwords/reset/verify`,t),this.loadPasswordConfig=async t=>this.get(`${b.j.identity.users.v1}/passwords/config`,t),this.recoverMfaToken=async t=>this.post(`${b.j.identity.auth.v1}/user/mfa/recover`,t),this.enrollMfa=async()=>this.post(`${b.j.identity.users.v1}/mfa/enroll`),this.preEnrollMFAAuthenticatorApp=async()=>this.post(`${b.j.identity.users.v1}/mfa/authenticator/enroll`),this.enrollMFAAuthenticatorApp=async t=>this.post(`${b.j.identity.users.v1}/mfa/authenticator/enroll/verify`,t),this.preEnrollMFASMS=async t=>this.post(`${b.j.identity.users.v1}/mfa/sms/enroll`,t),this.enrollMFASMS=async t=>this.post(`${b.j.identity.users.v1}/mfa/sms/enroll/verify`,t),this.preEnrollMFAWebAuthn=async()=>this.post(`${b.j.identity.users.v1}/mfa/webauthn/enroll`),this.enrollMFAWebAuthn=async t=>this.post(`${b.j.identity.users.v1}/mfa/webauthn/enroll/verify`,t),this.verifyMfa=async t=>this.post(`${b.j.identity.users.v1}/mfa/enroll/verify`,t),this.disableMfa=async t=>this.post(`${b.j.identity.users.v1}/mfa/disable`,t),this.disableMFAAuthenticatorApp=async(t,e)=>this.post(`${b.j.identity.users.v1}/mfa/authenticator/${t}/disable/verify`,e),this.preDisableMFASMS=async t=>this.post(`${b.j.identity.users.v1}/mfa/sms/${t}/disable`),this.disableMFASMS=async(t,e)=>this.post(`${b.j.identity.users.v1}/mfa/sms/${t}/disable/verify`,e),this.preDisableMFAWebAuthn=async t=>this.post(`${b.j.identity.users.v1}/mfa/webauthn/${t}/disable`),this.disableMFAWebAuthn=async(t,e)=>this.post(`${b.j.identity.users.v1}/mfa/webauthn/${t}/disable/verify`,e),this.getMFADevices=async()=>this.get(`${b.j.identity.users.v1}/mfa/devices`),this.preEnrollMFAAuthenticatorAppForLogin=async t=>this.post(`${b.j.identity.auth.v1}/user/mfa/authenticator/enroll`,t),this.enrollMFAAuthenticatorAppForLogin=async t=>this.post(`${b.j.identity.auth.v1}/user/mfa/authenticator/enroll/verify`,t),this.enrollMFAAuthenticatorAppForLoginV2=async t=>{let e=await this.post(`${b.j.identity.auth.v1}/user/mfa/authenticator/enroll/verify`,t);return this.generateLoginResponseV3(e)},this.verifyMFAAuthenticatorAppForLogin=async(t,e)=>this.post(`${b.j.identity.auth.v1}/user/mfa/authenticator/${t}/verify`,e),this.preVerifyMFAEmailCode=async t=>this.post(`${b.j.identity.auth.v1}/user/mfa/emailcode`,t),this.verifyMFAEmailCode=async t=>this.post(`${b.j.identity.auth.v1}/user/mfa/emailcode/verify`,t),this.verifyMFAEmailCodeV2=async t=>{let e=await this.post(`${b.j.identity.auth.v1}/user/mfa/emailcode/verify`,t);return this.generateLoginResponseV3(e)},this.preEnrollMFASMSForLogin=async t=>this.post(`${b.j.identity.auth.v1}/user/mfa/sms/enroll`,t),this.enrollMFASMSForLogin=async t=>this.post(`${b.j.identity.auth.v1}/user/mfa/sms/enroll/verify`,t),this.enrollMFASMSForLoginV2=async t=>{let e=await this.post(`${b.j.identity.auth.v1}/user/mfa/sms/enroll/verify`,t);return this.generateLoginResponseV3(e)},this.preVerifyMFASMSForLogin=async(t,e)=>this.post(`${b.j.identity.auth.v1}/user/mfa/sms/${t}`,e),this.verifyMFASMSForLogin=async(t,e)=>this.post(`${b.j.identity.auth.v1}/user/mfa/sms/${t}/verify`,e),this.verifyMFASMSForLoginV2=async(t,e)=>{let n=await this.post(`${b.j.identity.auth.v1}/user/mfa/sms/${t}/verify`,e);return this.generateLoginResponseV3(n)},this.preEnrollMFAWebAuthnForLogin=async t=>this.post(`${b.j.identity.auth.v1}/user/mfa/webauthn/enroll`,t),this.enrollMFAWebAuthnForLogin=async t=>this.post(`${b.j.identity.auth.v1}/user/mfa/webauthn/enroll/verify`,t),this.enrollMFAWebAuthnForLoginV2=async t=>{let e=await this.post(`${b.j.identity.auth.v1}/user/mfa/webauthn/enroll/verify`,t);return this.generateLoginResponseV3(e)},this.preVerifyMFAWebAuthnForLogin=async(t,e)=>this.post(`${b.j.identity.auth.v1}/user/mfa/webauthn/${t}`,e),this.verifyMFAWebAuthnForLogin=async(t,e)=>this.post(`${b.j.identity.auth.v1}/user/mfa/webauthn/${t}/verify`,e),this.verifyMFAWebAuthnForLoginV2=async(t,e)=>{let n=await this.post(`${b.j.identity.auth.v1}/user/mfa/webauthn/${t}/verify`,e);return this.generateLoginResponseV3(n)},this.getSamlConfiguration=async()=>this.get(`${b.j.team.sso.v1}/saml/configurations`),this.updateSamlConfiguration=async t=>this.post(`${b.j.team.sso.v1}/saml/configurations`,t),this.getSamlVendorConfiguration=async()=>this.get(`${b.j.team.sso.v1}/saml/configurations/vendor-config`),this.updateSamlVendorMetadata=async t=>this.put(`${b.j.team.sso.v1}/saml/configurations/metadata`,t),this.validateSamlDomain=async()=>this.put(`${b.j.team.sso.v1}/saml/validations/domain`),this.getSamlRoles=async()=>this.get(`${b.j.team.sso.v1}/saml/configurations/roles/default`),this.getSamlRolesGroups=async()=>this.get(`${b.j.team.sso.v2}/saml/configurations/groups`),this.updateSamlRoles=async({roleIds:t})=>this.post(`${b.j.team.sso.v1}/saml/configurations/roles/default`,{roleIds:t}),this.createSamlGroup=async({roleIds:t,group:e})=>this.post(`${b.j.team.sso.v2}/saml/configurations/groups`,{group:e,roleIds:t}),this.updateSamlGroup=async({roleIds:t,group:e,id:n})=>this.patch(`${b.j.team.sso.v2}/saml/configurations/groups/${n}`,{group:e,roleIds:t}),this.deleteSamlGroup=async({id:t})=>this.delete(`${b.j.team.sso.v2}/saml/configurations/groups/${t}`),this.getOidcConfiguration=async()=>this.get(`${b.j.team.sso.v1}/oidc/configurations`),this.getSSOPublicConfiguration=async()=>this.get(`${b.j.team.sso.v2}/configurations/public`),this.getSocialLoginProviders=async()=>this.get(b.j.identity.sso.v1),this.getSocialLoginProvidersV2=async()=>this.get(b.j.identity.sso.v2),this.getSocialLoginProvidersV2ForAuthenticatedUser=async()=>this.get(`${b.j.identity.sso.v2}/authenticated`),this.getCustomSocialLoginProvidersV1=async()=>this.get(b.j.identity.sso.custom.v1),this.loginViaSocialLogin=async t=>{let e={};return t.code&&(e.code=t.code),t.idToken&&(e.id_token=t.idToken),t.redirectUri&&(e.redirectUri=t.redirectUri),t.codeVerifier&&(e.code_verifier=t.codeVerifier),t.state&&(e.state=t.state),this.post(`${b.j.identity.auth.v1}/user/sso/${t.provider}/postlogin`,{metadata:t.metadata,invitationToken:t.invitationToken},{params:e})},this.getVendorConfig=async()=>this.get(`${b.j.identity.configurations.v1}/public`),this.signUpUser=async t=>{let{shouldActivate:e,authResponse:n,userId:i,tenantId:a}=await this.post(`${b.j.identity.users.v1}/signUp`,t),s={shouldActivate:e,userId:i,tenantId:a};if(!e&&n){let{user:t,tenants:e,activeTenant:i}=await this.generateLoginResponseV3(n);return(0,m.Z)({},s,{user:t,tenants:e,activeTenant:i})}return s},this.getCurrentUserSessions=async()=>this.get(b.j.identity.users.sessions.currentUser.v1),this.getCurrentUserSession=async()=>this.get(`${b.j.identity.users.sessions.currentUser.v1}/current`),this.revokeSessionsForUser=async t=>this.post(`${b.j.identity.users.sessions.v1}/revoke`,{userId:t}),this.getSessionConfigurations=async()=>this.get(b.j.identity.users.sessions.configurations.v1),this.createOrUpdateSessionConfigrations=async t=>{await this.post(b.j.identity.users.sessions.configurations.v1,t)},this.deleteSessionForUser=async t=>{await this.delete(`${b.j.identity.users.sessions.currentUser.v1}/${t}`)},this.deleteAllSessionsForUser=async()=>{await this.delete(`${b.j.identity.users.sessions.currentUser.v1}/all`)},this.getUserAccessTokensData=async()=>this.get(b.j.identity.users.accessTokens.v1),this.getTenantAccessTokensData=async()=>this.get(b.j.identity.tenants.accessTokens.v1),this.deleteTenantAccessToken=async({id:t})=>{await this.delete(`${b.j.identity.tenants.accessTokens.v1}/${t}`)},this.deleteUserAccessToken=async({id:t})=>{await this.delete(`${b.j.identity.users.accessTokens.v1}/${t}`)},this.createUserAccessToken=async t=>this.post(b.j.identity.users.accessTokens.v1,t),this.createTenantAccessToken=async t=>this.post(b.j.identity.tenants.accessTokens.v1,t),this.getUserApiTokensData=async()=>this.get(b.j.identity.users.apiTokens.v1),this.getTenantApiTokensData=async()=>this.get(b.j.identity.tenants.apiTokens.v1),this.updateUserApiTokensData=async t=>this.post(b.j.identity.users.apiTokens.v1,t),this.updateTenantApiTokensData=async t=>this.post(b.j.identity.tenants.apiTokens.v2,t),this.deleteTenantApiToken=async({tokenId:t})=>{await this.delete(`${b.j.identity.tenants.apiTokens.v1}/${t}`)},this.deleteUserApiToken=async({tokenId:t})=>{await this.delete(`${b.j.identity.users.apiTokens.v1}/${t}`)},this.getUserById=async({userId:t})=>this.get(`${b.j.identity.users.v1}/${t}`),this.checkIfAllowToRememberMfaDevice=async t=>this.get(`${b.j.identity.configurations.v1}/mfa-policy/allow-remember-device`,{mfaToken:t}),this.passwordlessPreLogin=async t=>{let{type:e}=t,n=(0,S.Z)(t,j);return this.post(`${b.j.identity.auth.v1}/passwordless/${e.toLocaleLowerCase()}/prelogin`,n)},this.passwordlessPostLoginV2=async t=>{let{type:e}=t,n=(0,S.Z)(t,F),i=await this.post(`${b.j.identity.auth.v1}/passwordless/${e.toLocaleLowerCase()}/postlogin`,n);return this.generateLoginResponseV3(i)},this.passwordlessPostLogin=async t=>{let{type:e}=t,n=(0,S.Z)(t,Z);return this.post(`${b.j.identity.auth.v1}/passwordless/${e.toLocaleLowerCase()}/postlogin`,n)},this.verifyInviteToken=async({token:t})=>this.post(b.j.identity.tenants.invites.verify.v1,{token:t}),this.getSSOConfigurations=async()=>this.get(`${b.j.team.sso.v1}/configurations`),this.createSSOConfiguration=async t=>this.post(`${b.j.team.sso.v1}/configurations`,t),this.updateSSOConfiguration=async(t,e)=>this.patch(`${b.j.team.sso.v1}/configurations/${t}`,e),this.deleteSSOConfiguration=async t=>{await this.delete(`${b.j.team.sso.v1}/configurations/${t}`)},this.createSSOConfigurationByMetadata=async t=>this.post(`${b.j.team.sso.v1}/configurations/metadata`,t),this.updateSSOConfigurationByMetadata=async(t,e)=>this.put(`${b.j.team.sso.v1}/configurations/${t}/metadata`,e),this.createSSOConfigurationByMetadataUrl=async t=>this.post(`${b.j.team.sso.v1}/configurations/metadata-url`,t),this.updateSSOConfigurationByMetadataUrl=async(t,e)=>this.put(`${b.j.team.sso.v1}/configurations/${t}/metadata-url`,e),this.createSSODomain=async(t,e)=>this.post(`${b.j.team.sso.v1}/configurations/${t}/domains`,e),this.deleteSSODomain=async(t,e)=>this.delete(`${b.j.team.sso.v1}/configurations/${t}/domains/${e}`),this.validateSSODomain=async(t,e)=>this.put(`${b.j.team.sso.v1}/configurations/${t}/domains/${e}/validate`),this.validateSSODomainV2=async(t,e)=>this.put(`${b.j.team.sso.v2}/configurations/${t}/domains/${e}/validate`),this.getSSODefaultRoles=async t=>this.get(`${b.j.team.sso.v1}/configurations/${t}/roles`),this.setSSODefaultRoles=async(t,e)=>this.put(`${b.j.team.sso.v1}/configurations/${t}/roles`,e),this.createSSOGroup=async(t,e)=>this.post(`${b.j.team.sso.v1}/configurations/${t}/groups`,e),this.updateSSOGroup=async(t,{roleIds:e,group:n,id:i})=>this.patch(`${b.j.team.sso.v1}/configurations/${t}/groups/${i}`,{group:n,roleIds:e}),this.deleteSSOGroup=async(t,e)=>this.delete(`${b.j.team.sso.v1}/configurations/${t}/groups/${e}`),this.getSSOGroups=async t=>this.get(`${b.j.team.sso.v1}/configurations/${t}/groups`),this.preLoginV2=async t=>this.post(`${b.j.identity.auth.v2}/user/sso/prelogin`,t),this.oidcPostLoginV2=async t=>{let e=await this.post(`${b.j.identity.auth.v2}/user/oidc/postlogin`,t);return this.generateLoginResponse(e)},this.exchangeOAuthTokensV2=async t=>{let e=await this.post(`${b.j.oauth.v1}/token`,t);return this.generateLoginResponseFromOAuthResponseV2(e)},this.silentOAuthRefreshTokenV2=async()=>{let t=(0,D.LW)(this.appName),e=await this.post(`${b.j.oauth.v1}/authorize/silent`,{tenantId:t});return this.generateLoginResponseFromOAuthResponseV2(e)},this.exchangeOAuthTokens=async t=>{let e=await this.post(`${b.j.oauth.v1}/token`,t);return this.generateLoginResponseFromOAuthResponse(e)},this.silentOAuthRefreshToken=async()=>{let t=(0,D.LW)(this.appName),e=await this.post(`${b.j.oauth.v1}/authorize/silent`,{tenantId:t});return this.generateLoginResponseFromOAuthResponse(e)},this.resetPhoneNumber=async t=>this.post(`${b.j.identity.users.v1}/phone/reset`,t),this.verifyResetPhoneNumber=async t=>this.post(`${b.j.identity.users.v1}/phone/reset/verify`,t),this.changePhoneNumberWithVerification=async t=>this.post(`${b.j.identity.users.v1}/phone`,t),this.verifyChangePhoneNumber=async t=>this.post(`${b.j.identity.users.v1}/phone/verify`,t),this.changePhoneNumber=async t=>this.put(`${b.j.identity.users.v1}/phone/change`,t),this.webAuthnPreLogin=async t=>this.post(`${b.j.identity.auth.v1}/webauthn/prelogin`,t),this.webAuthnPostLogin=async t=>this.post(`${b.j.identity.auth.v1}/webauthn/postlogin`,t),this.webAuthnPostLoginV2=async t=>{let e=await this.post(`${b.j.identity.auth.v1}/webauthn/postlogin`,t);return this.generateLoginResponseV3(e)},this.webAuthnCreateNewDeviceSession=async()=>this.post(b.j.identity.webAuthnDevices.v1),this.getWebAuthnDevices=async()=>this.get(b.j.identity.webAuthnDevices.v1),this.deleteWebAuthnDevice=async t=>this.delete(`${b.j.identity.webAuthnDevices.v1}/${t}`),this.verifyNewDeviceSession=async t=>this.post(`${b.j.identity.webAuthnDevices.v1}/verify`,t),this.getVendorPublicAuthStrategiesConfig=async()=>this.get(`${b.j.identity.configurations.v1}/auth/strategies/public`),this.getPublicAuthStrategiesConfigForAuthenticatedUser=async()=>this.get(`${b.j.identity.configurations.v1}/auth/strategies`),this.getMFAStrategiesConfig=async()=>this.get(`${b.j.identity.configurations.v1}/mfa/strategies`),this.getUserAuthorization=async()=>this.get(`${b.j.identity.users.authorization.v1}`),this.getMeV2=async()=>this.get(`${b.j.identity.users.v2}/me`),this.noThrowLoadEntitlements=async()=>{try{return await this.entitlementsApi.loadEntitlementsV2()}catch(t){}},this.getMeAndEntitlements=async()=>{let t=[{action:this.getMeV2,shouldLoad:!0},{action:this.noThrowLoadEntitlements,shouldLoad:this.shouldLoadEntitlements()},{action:this.getUserAuthorization,shouldLoad:this.shouldLoadMeAuthorization()}].map(t=>(0,D.hU)(t)),[e,n,i]=await Promise.all(t),a=(0,D.LW)(this.appName);return a&&(e.tenantId=a),(0,m.Z)({},e,null!=i?i:{},{entitlements:n})},this.generateStepupSession=async t=>{let e=await this.post(`${b.j.identity.auth.v1}/user/step-up/generate`,t);return e.accessToken?this.generateLoginResponseV3(e):e},this.getGlobalSecurityPolicy=this.securityPolicy.getGlobalSecurityPolicy.bind(this.securityPolicy),this.getMfaPolicy=this.securityPolicy.getMfaPolicy.bind(this.securityPolicy),this.getVendorMfaPolicy=this.securityPolicy.getVendorMfaPolicy.bind(this.securityPolicy),this.saveMfaPolicy=this.securityPolicy.saveMfaPolicy.bind(this.securityPolicy),this.getLockoutPolicy=this.securityPolicy.getLockoutPolicy.bind(this.securityPolicy),this.getVendorLockoutPolicy=this.securityPolicy.getVendorLockoutPolicy.bind(this.securityPolicy),this.saveLockoutPolicy=this.securityPolicy.saveLockoutPolicy.bind(this.securityPolicy),this.getCaptchaPolicy=this.securityPolicy.getCaptchaPolicy.bind(this.securityPolicy),this.getPasswordHistoryPolicy=this.securityPolicy.getPasswordHistoryPolicy.bind(this.securityPolicy),this.getVendorPasswordHistoryPolicy=this.securityPolicy.getVendorPasswordHistoryPolicy.bind(this.securityPolicy),this.savePasswordHistoryPolicy=this.securityPolicy.savePasswordHistoryPolicy.bind(this.securityPolicy),this.getPasswordConfigPolicy=this.securityPolicy.getPasswordConfigPolicy.bind(this.securityPolicy),this.getDomainRestrictions=this.securityPolicy.getDomainRestrictions.bind(this.securityPolicy),this.getDomainRestrictionsConfig=this.securityPolicy.getDomainRestrictionsConfig.bind(this.securityPolicy),this.createDomainRestriction=this.securityPolicy.createDomainRestriction.bind(this.securityPolicy),this.updateDomainRestrictionConfig=this.securityPolicy.updateDomainRestrictionConfig.bind(this.securityPolicy),this.deleteDomainRestriction=this.securityPolicy.deleteDomainRestriction.bind(this.securityPolicy),this.getIPRestrictions=this.securityPolicy.getIPRestrictions.bind(this.securityPolicy),this.getIPRestrictionsConfig=this.securityPolicy.getIPRestrictionsConfig.bind(this.securityPolicy),this.createIPRestriction=this.securityPolicy.createIPRestriction.bind(this.securityPolicy),this.bulkCreateIPRestriction=this.securityPolicy.bulkCreateIPRestriction.bind(this.securityPolicy),this.updateIPRestrictionConfig=this.securityPolicy.updateIPRestrictionConfig.bind(this.securityPolicy),this.deleteIPRestriction=this.securityPolicy.deleteIPRestriction.bind(this.securityPolicy),this.testCurrentIp=this.securityPolicy.testCurrentIp.bind(this.securityPolicy),this.testCurrentIpInAllowList=this.securityPolicy.testCurrentIpInAllowList.bind(this.securityPolicy)}shouldLoadEntitlements(){if(!v.a.for(this.appName).shouldLoadEntitlements())return!1;let[t]=I.TP.getFeatureFlags([_],this.appName||"");return t}shouldLoadMeAuthorization(){let[t]=I.TP.getFeatureFlags([O.Gj],this.appName);return t}}var x=new $("default"),G=n(4648);class B extends L.J{constructor(t){super(t),this.getProfile=async t=>this.get(`${b.j.identity.users.v2}/me`,null!=t?t:{addRoles:!0}),this.updateProfile=async t=>this.put(`${b.j.identity.users.v2}/me`,t),this.updateProfileImage=async t=>this.put(`${b.j.team.profile.v1}/me/image/v1`,t,{responseType:"plain",contentType:void 0}),this.changePassword=async t=>this.post(`${b.j.identity.users.v1}/passwords/change`,t),this.loadUsers=async t=>{var e,n,i,a,s,r;let o=(t.filter||[]).reduce((t,e)=>(0,m.Z)({},t,{[e.id]:e.value}),{}),l=null!=(e=t.sort)&&e.length?{sortBy:null!=(n=null==(i=t.sort)?void 0:null==(a=i[0])?void 0:a.id)?n:"name",sortDirection:null!=(s=t.sort)&&null!=(r=s[0])&&r.desc?"desc":"asc"}:null;return this.get(b.j.team.members.v1,(0,m.Z)({pageOffset:t.pageOffset,pageSize:t.pageSize},o,l))},this.addUser=async t=>this.post(b.j.identity.users.v2,(0,m.Z)({},t,{provider:"local"})),this.deleteUser=async t=>this.delete(`${b.j.team.members.v1}/${t.userId}`),this.updateUser=async t=>this.put(b.j.team.members.v1,t),this.updateUserExpirationTime=async t=>{let{userId:e,expirationInSeconds:n}=t;return this.put(`${b.j.identity.users.temporary.v1}/${e}`,{expirationInSeconds:n})},this.setPermanentUser=async t=>this.delete(`${b.j.identity.users.temporary.v1}/${t}`),this.getTemporaryUserConfiguration=async()=>this.get(b.j.identity.users.temporary.configuration.v1),this.createInviteUserLink=async t=>this.post(b.j.identity.tenants.invites.user.v1,(0,m.Z)({},t)),this.updateInviteUserLink=async t=>this.patch(b.j.identity.tenants.invites.user.v1,(0,m.Z)({},t)),this.deleteInviteUserLink=async()=>this.delete(b.j.identity.tenants.invites.user.v1),this.getInviteUserLink=async()=>this.get(b.j.identity.tenants.invites.user.v1),this.getInviteLinkConfiguration=async()=>this.get(b.j.identity.tenants.invites.configuration.v1),this.loadAvailableRoles=async()=>this.get(b.j.team.roles.v1),this.loadAvailablePermissions=async()=>this.get(b.j.identity.permissions.v1),this.loadStats=async()=>this.get(`${b.j.team.stats.v1}/members`),this.resendActivationLink=async t=>this.post(`${b.j.team.members.v1}/${t.userId}/resendActivationEmail`,{}),this.resendInvitationLink=async t=>this.post(b.j.identity.users.v2,(0,m.Z)({},t,{provider:"local"})),this.resendInvitationLinkToAllTenants=async t=>this.post(b.j.identity.users.invitation.resendAll.v1,(0,m.Z)({},t)),this.disableUser=async t=>this.post(`${b.j.identity.tenants.users.v1}/${t}/disable`),this.enableUser=async t=>this.post(`${b.j.identity.tenants.users.v1}/${t}/enable`)}}var V=new B("default");class W extends L.J{constructor(t){super(t),this.getMetadata=async t=>{var e,n;let i=await this.get("/metadata",t);if(null!=i&&null!=(e=i.rows)&&e[0])return null==i?void 0:null==(n=i.rows)?void 0:n[0];throw Error(`metadata not found: ${t.entityName}`)},this.getAdminBoxMetadata=async()=>this.get("/metadata/admin-box"),this.updateAdminBoxMetadata=async t=>this.post("/metadata/admin-box",t),this.getIpMetadata=async t=>{let e=await this.get(`/metadata/ip/${t}`);if(e)return e;throw Error("ip metadata not found")},this.getCurrentUserIpMetadata=async()=>{let t=await this.get("/metadata/ipme");if(t)return t;throw Error("ip metadata not found")},this.getNotificationsMetadata=async()=>this.getMetadata({entityName:"notifications"}),this.getSamlMetadata=async()=>this.getMetadata({entityName:"saml"}),this.getAuditsMetadata=async()=>this.getMetadata({entityName:"audits"}),this.getIpAdressMetadata=async t=>this.getIpMetadata(t)}}var H=new W("default");let K=["dataFilters"],z=["templateId","dataFilters"],J=["dataFilters"];class q extends L.J{constructor(t){super(t),this.getReports=async t=>this.get(`${b.j.reports.service.v2}/tenant-reports`,t),this.getReport=async t=>this.get(`${b.j.reports.service.v2}/${t.id}/tenant-reports`),this.renderReport=async t=>{let{dataFilters:e}=t,n=(0,S.Z)(t,K);return{html:await this.get(`${b.j.reports.trigger.v1}/preview-report`,(0,m.Z)({},n,{dataFilters:btoa(JSON.stringify(e||{})),responseType:"html"}),{responseType:"plain"})}},this.scheduleReport=async t=>{let{templateId:e,dataFilters:n}=t,i=(0,S.Z)(t,z);return this.post(`${b.j.reports.service.v2}/${e}/tenant-reports`,(0,m.Z)({},i,{dataFilters:btoa(JSON.stringify(n||{}))}))},this.downloadReport=async t=>{let{dataFilters:e}=t,n=(0,S.Z)(t,J),i=await this.get(`${b.j.reports.trigger.v1}/preview-report`,(0,m.Z)({},n,{dataFilters:btoa(JSON.stringify(e||{}))}),{responseType:"blob"}),a="text/html",s="html";"pdf"===n.responseType?(a="application/pdf",s="pdf"):"image"===n.responseType&&(a="image/jpeg",s="jpg");let r=new Blob([i],{type:a}),o=URL.createObjectURL(r),l=document.createElement("a");l.href=o,l.setAttribute("download",`report_${n.name||""}.${s}`),l.click(),setTimeout(l.remove.bind(l))},this.sendReport=async t=>this.post(`${b.j.reports.trigger.v1}/tenant-reports`,t)}}var Y=new q("default");let X=["eventKey"],Q=["eventKey"];class tt extends L.J{constructor(t){super(t),this.getSlackConfiguration=()=>this.get(`${b.j.integrations.configurations.v1}/slack`),this.getSlackScope=()=>this.get(`${b.j.integrations.configurations.v1}/slack/applications`),this.getSlackChannels=()=>this.get(`${b.j.integrations.configurations.v1}/slack/channels`),this.postSlackConfiguration=t=>t.id?this.patch(`${b.j.integrations.configurations.v1}/slack/subscription/${t.id}`,t):this.post(`${b.j.integrations.configurations.v1}/slack/subscriptions`,t),this.deleteSlackConfiguration=t=>this.delete(`${b.j.integrations.configurations.v1}/slack/subscriptions/${t.id}`),this.postSlackCode=t=>this.post(`${b.j.integrations.configurations.v1}/slack/applications/registrations`,{code:t}),this.getEmailConfiguration=()=>this.get(`${b.j.integrations.configurations.v1}/emails`),this.postEmailConfiguration=t=>{let{eventKey:e}=t,n=(0,S.Z)(t,X);return this.post(`${b.j.integrations.configurations.v1}/emails/${e}`,n)},this.patchEmailConfiguration=({eventKey:t,enabled:e})=>this.patch(`${b.j.integrations.configurations.v1}/emails/${t}`,{enabled:e}),this.deleteEmailSubscriptions=(t,e)=>this.delete(`${b.j.integrations.configurations.v1}/emails/${t}/subscriptions/${e}`),this.putEmailSubscriptions=(t,e,n)=>this.put(`${b.j.integrations.configurations.v1}/emails/${e}/subscriptions/${t}`,n),this.deleteEmailConfiguration=t=>this.delete(`${b.j.integrations.configurations.v1}/emails/${t}`),this.getSMSConfiguration=()=>this.get(`${b.j.integrations.configurations.v2}/sms`),this.postSMSConfiguration=t=>{let{eventKey:e}=t,n=(0,S.Z)(t,Q);return this.post(`${b.j.integrations.configurations.v2}/sms/${e}`,n)},this.patchSMSConfiguration=({eventKey:t,enabled:e})=>this.patch(`${b.j.integrations.configurations.v2}/sms/${t}`,{enabled:e}),this.deleteSMSSubscriptions=(t,e)=>this.delete(`${b.j.integrations.configurations.v2}/sms/${t}/subscriptions/${e}`),this.putSMSSubscriptions=(t,e,n)=>this.put(`${b.j.integrations.configurations.v2}/sms/${e}/subscriptions/${t}`,n),this.deleteSMSConfiguration=t=>this.delete(`${b.j.integrations.configurations.v2}/sms/${t}`),this.getWebhooksConfigurations=()=>this.get(b.j.webhooks.v1),this.postWebhooksConfiguration=t=>t._id?this.patch(`${b.j.webhooks.v1}/${t._id}`,t):this.post(`${b.j.webhooks.v1}/custom`,t),this.deleteWebhooksConfiguration=t=>this.delete(`${b.j.webhooks.v1}/${t}`),this.getWebhookLog=(t,e=0,n=10)=>{let i=new URLSearchParams({id:t,offset:`${e}`,limit:`${n}`});return this.get(`${b.j.webhooks.v1}/logs/?${i.toString()}`)},this.postWebhookTest=t=>this.post(`${b.j.webhooks.v1}/test`,t),this.postWebhookRetry=t=>this.post(`${b.j.webhooks.v1}/logs/${t}/retries`),this.getCategories=()=>this.get(`${b.j.events.configurations.v1}/categories`),this.getChannelMaps=t=>this.get(b.j.events.configurations.v1,{channels:t})}}var te=new tt("default");class tn extends L.J{constructor(t){super(t),this.getNotifications=async t=>this.get(b.j.notifications.v1,{params:t}),this.updateNotificationStatus=async t=>this.put(`${b.j.notifications.v1}/status`,{params:t}),this.updateNotificationIsPinned=async t=>{let{notificationId:e,pinStatus:n}=t;return this.put(`${b.j.notifications.v1}/${n}`,{notificationId:e})},this.markAllAsRead=async()=>this.post(`${b.j.notifications.v1}/status/mark-all-read`)}}var ti=new tn("default");let ta=["endpoint","headerProps"];class ts extends L.J{constructor(t){super(t),this.getAudits=async t=>this.get(b.j.audits.v1,t),this.getAuditsStats=async t=>this.get(`${b.j.audits.v1}/stats`,t),this.exportAudits=async t=>{let{endpoint:e,headerProps:n}=t,i=(0,S.Z)(t,ta);return this.postDownload(`${b.j.audits.v1}/export/${e}`,{properties:n},i)}}}var tr=new ts("default");class to extends L.J{constructor(t){super(t),this.updateSettings=async(t,e)=>this.put(b.j.tenants.accountSettings.v1,t,{headers:this.extractHeadersFromOptions(e)}),this.getSettings=async t=>this.get(b.j.tenants.accountSettings.v1,void 0,{headers:this.extractHeadersFromOptions(t)}),this.getPublicSettings=async()=>this.get(`${b.j.tenants.accountSettings.v1}/public`)}}var tl=new to("default");let tu=["roleId"],tc=["roleId"],td=["permissionId"];class tg extends L.J{constructor(t){super(t),this.getRoles=async()=>this.get(b.j.identity.roles.v1),this.addRole=async t=>this.post(b.j.identity.roles.v1,t),this.deleteRole=async({roleId:t})=>this.delete(`${b.j.identity.roles.v1}/${t}`),this.updateRole=async t=>{let{roleId:e}=t,n=(0,S.Z)(t,tu);return this.patch(`${b.j.identity.roles.v1}/${e}`,n)},this.attachPermissionsToRole=async t=>{let{roleId:e}=t,n=(0,S.Z)(t,tc);return this.put(`${b.j.identity.roles.v1}/${e}/permissions`,n)},this.getPermissions=async()=>this.get(b.j.identity.permissions.v1),this.attachPermissionToRoles=async t=>{let{permissionId:e}=t,n=(0,S.Z)(t,td);return this.put(`${b.j.identity.permissions.v1}/${e}/roles`,n)},this.getPermissionCategories=async()=>this.get(`${b.j.identity.permissions.v1}/categories`),this.addRoleV2=async t=>this.post(b.j.identity.roles.v2,t)}}var th=new tg("default");class tp extends L.J{constructor(...t){super(...t),this.getSubscriptionInvoices=async()=>this.get(b.j.subscriptions.billing.invoices.v1),this.getSubscriptionInvoice=async t=>this.get(`${b.j.subscriptions.billing.invoices.v1}/${t}`),this.getSubscriptionInvoicePdf=async(t,e)=>this.get(`${b.j.subscriptions.billing.invoices.v1}/${t}/pdf`,{outputFileName:e},{responseType:"blob"})}}class tf extends L.J{constructor(...t){super(...t),this.getManagedSubscription=async t=>this.get(`${b.j.subscriptions.managedSubscriptions.v1}/${t}`),this.getManagedSubscriptions=async()=>this.get(b.j.subscriptions.managedSubscriptions.v1),this.cancelManagedSubscription=async t=>this.put(`${b.j.subscriptions.managedSubscriptions.v1}/${t}/cancellations/`,{}),this.renewManagedSubscription=async t=>this.put(`${b.j.subscriptions.managedSubscriptions.v1}/${t}/renewals/`,{}),this.updateManagedSubscription=async(t,{paymentMethodId:e,planId:n})=>this.put(`${b.j.subscriptions.managedSubscriptions.v1}/${t}`,{paymentMethodId:e,planId:n})}}let ty=["email"];class tv extends L.J{constructor(...t){super(...t),this.getPaymentMethods=async()=>this.get(b.j.subscriptions.billing.paymentMethods.v1),this.getPaymentMethod=async t=>this.get(`${b.j.subscriptions.billing.paymentMethods.v1}/${t}`),this.updatePaymentMethodBillingDetails=async(t,e)=>{let{email:n}=e,i=(0,S.Z)(e,ty);return this.patch(`${b.j.subscriptions.billing.paymentMethods.v1}/${t}/billing-details`,{email:n,address:i})}}}class tS extends L.J{constructor(...t){super(...t),this.getPaymentProviders=async()=>this.get(b.j.subscriptions.paymentProviders.v1)}}class tm extends L.J{constructor(...t){super(...t),this.getSubscriptionPlans=async()=>this.get(b.j.subscriptions.billing.plans.v1),this.getSubscriptionPlan=async t=>this.get(`${b.j.subscriptions.billing.plans.v1}/${t}`)}}class tb extends L.J{constructor(...t){super(...t),this.getSubscriptions=async()=>this.get(b.j.subscriptions.billing.subscriptions.v1),this.getSubscription=async t=>this.get(`${b.j.subscriptions.billing.subscriptions.v1}/${t}`),this.cancelSubscription=async t=>this.put(`${b.j.subscriptions.billing.subscriptions.v1}/${t}/cancellations/`,{}),this.renewSubscription=async t=>this.put(`${b.j.subscriptions.billing.subscriptions.v1}/${t}/renewals/`,{}),this.updateSubscription=async(t,{paymentMethodId:e,planId:n})=>this.put(`${b.j.subscriptions.billing.subscriptions.v1}/${t}`,{paymentMethodId:e,planId:n})}}class tA extends L.J{constructor(...t){super(...t),this.getSubscriptionSummaries=async t=>this.get(`${b.j.subscriptions.billing.summaries.v1}/${t}`)}}class tw extends L.J{constructor(...t){super(...t),this.getTenantConfiguration=async t=>this.get(`${b.j.subscriptions.billing.tenantConfiguration.v1}/${t}`),this.createTenantConfiguration=async t=>this.post(b.j.subscriptions.billing.tenantConfiguration.v1,t)}}class tT extends L.J{constructor(...t){super(...t),this.getVendorPublicConfigurations=async()=>this.get(b.j.subscriptions.billing.configurations.vendorPublicConfigurations.v1)}}class tP extends L.J{constructor(...t){super(...t),this.createSubscription=async t=>this.post(b.j.subscriptions.billing.paymentProviders.stripe.subscriptions.v1,t),this.getStripeCustomer=async t=>this.get(`${b.j.subscriptions.billing.paymentProviders.stripe.customers.v1}/${t}`),this.createStripeCustomer=async t=>this.post(b.j.subscriptions.billing.paymentProviders.stripe.customers.v1,t),this.getStripePaymentProviderConfiguration=async()=>this.get(b.j.subscriptions.billing.paymentProviders.stripe.publicConfigurations.v1),this.createStripePaymentMethodSetupIntentSecret=async t=>this.post(b.j.subscriptions.billing.paymentProviders.stripe.setupIntents.v1,t)}}class tE extends L.J{constructor(t){super(t),this.invoicesApi=new tp(this.appName),this.managedSubscriptionApi=new tf(this.appName),this.paymentMethodsApi=new tv(this.appName),this.paymentProvidersApi=new tS(this.appName),this.plansApi=new tm(this.appName),this.subscriptionApi=new tb(this.appName),this.summariesApi=new tA(this.appName),this.subscriptionTenantConfigApi=new tw(this.appName),this.vendorPublicConfigApi=new tT(this.appName),this.stripeProviderApi=new tP(this.appName),this.getSubscriptionInvoices=this.invoicesApi.getSubscriptionInvoices.bind(this.invoicesApi),this.getSubscriptionInvoice=this.invoicesApi.getSubscriptionInvoice.bind(this.invoicesApi),this.getSubscriptionInvoicePdf=this.invoicesApi.getSubscriptionInvoicePdf.bind(this.invoicesApi),this.getManagedSubscription=this.managedSubscriptionApi.getManagedSubscription.bind(this.managedSubscriptionApi),this.getManagedSubscriptions=this.managedSubscriptionApi.getManagedSubscriptions.bind(this.managedSubscriptionApi),this.cancelManagedSubscription=this.managedSubscriptionApi.cancelManagedSubscription.bind(this.managedSubscriptionApi),this.renewManagedSubscription=this.managedSubscriptionApi.renewManagedSubscription.bind(this.managedSubscriptionApi),this.updateManagedSubscription=this.managedSubscriptionApi.updateManagedSubscription.bind(this.managedSubscriptionApi),this.getPaymentMethods=this.paymentMethodsApi.getPaymentMethods.bind(this.paymentMethodsApi),this.getPaymentMethod=this.paymentMethodsApi.getPaymentMethod.bind(this.paymentMethodsApi),this.updatePaymentMethodBillingDetails=this.paymentMethodsApi.updatePaymentMethodBillingDetails.bind(this.paymentMethodsApi),this.getPaymentProviders=this.paymentProvidersApi.getPaymentProviders.bind(this.paymentProvidersApi),this.getSubscriptionPlans=this.plansApi.getSubscriptionPlans.bind(this.plansApi),this.getSubscriptionPlan=this.plansApi.getSubscriptionPlan.bind(this.plansApi),this.getSubscriptions=this.subscriptionApi.getSubscriptions.bind(this.subscriptionApi),this.getSubscription=this.subscriptionApi.getSubscription.bind(this.subscriptionApi),this.cancelSubscription=this.subscriptionApi.cancelSubscription.bind(this.subscriptionApi),this.renewSubscription=this.subscriptionApi.renewSubscription.bind(this.subscriptionApi),this.updateSubscription=this.subscriptionApi.updateSubscription.bind(this.subscriptionApi),this.getSubscriptionSummaries=this.summariesApi.getSubscriptionSummaries.bind(this.summariesApi),this.getTenantConfiguration=this.subscriptionTenantConfigApi.getTenantConfiguration.bind(this.subscriptionTenantConfigApi),this.createTenantConfiguration=this.subscriptionTenantConfigApi.createTenantConfiguration.bind(this.subscriptionTenantConfigApi),this.getVendorPublicConfigurations=this.vendorPublicConfigApi.getVendorPublicConfigurations.bind(this.vendorPublicConfigApi),this.createSubscription=this.stripeProviderApi.createSubscription.bind(this.stripeProviderApi),this.getStripeCustomer=this.stripeProviderApi.getStripeCustomer.bind(this.stripeProviderApi),this.createStripeCustomer=this.stripeProviderApi.createStripeCustomer.bind(this.stripeProviderApi),this.getStripePaymentProviderConfiguration=this.stripeProviderApi.getStripePaymentProviderConfiguration.bind(this.stripeProviderApi),this.createStripePaymentMethodSetupIntentSecret=this.stripeProviderApi.createStripePaymentMethodSetupIntentSecret.bind(this.stripeProviderApi)}}var tO=new tE("default");class t_ extends L.J{constructor(t){super(t),this.getVendorPublicInfo=async()=>this.get(`${b.j.vendor}/public`)}}var tI=new t_("default");class tD extends L.J{constructor(t){super(t),this.loadAllUsers=async t=>this.get(b.j.identity.subTenants.v1,t),this.addUserToTenantAndSubTenants=async t=>this.post(b.j.identity.subTenants.v1,t),this.removeUserFromTenantAndSubTenants=async(t,e)=>this.delete(b.j.identity.subTenants.v1,t,{headers:this.extractHeadersFromOptions(e)}),this.addUserRolesForSubTenants=async(t,e,n)=>this.post(`${b.j.identity.subTenants.v1}/${t}/roles`,e,{headers:this.extractHeadersFromOptions(n)}),this.removeUserRolesFromSubTenants=async(t,e,n)=>this.delete(`${b.j.identity.subTenants.v1}/${t}/roles`,e,{headers:this.extractHeadersFromOptions(n)}),this.setUserRolesForSubTenants=async(t,e,n)=>this.patch(`${b.j.identity.subTenants.v1}/${t}/roles`,e,{headers:this.extractHeadersFromOptions(n)}),this.createSubTenant=async(t,e)=>this.post(b.j.tenants.subTenants.v1,t,{headers:this.extractHeadersFromOptions(e)}),this.deleteSubTenant=async(t,e)=>this.delete(`${b.j.tenants.subTenants.v1}/${t}`,void 0,{headers:this.extractHeadersFromOptions(e)}),this.updateSubTenant=async({tenantId:t},e,n)=>this.patch(`${b.j.tenants.subTenants.v1}/${t}`,e,{headers:this.extractHeadersFromOptions(n)}),this.updateSubTenantManagement=async({tenantId:t},e,n)=>this.put(`${b.j.tenants.subTenants.v1}/${t}/management`,e,{headers:this.extractHeadersFromOptions(n)}),this.updateSubAccountAccess=async(t,e,n)=>this.put(`${b.j.identity.subTenants.v1}/${t}/access`,e,{headers:this.extractHeadersFromOptions(n)}),this.addUsersToSubTenant=async(t,e)=>this.post(`${b.j.identity.subTenants.v2}/`,t,{headers:this.extractHeadersFromOptions(e)})}updateSubTenantHierarchySettings({tenantId:t},e,n){return this.put(`${b.j.tenants.subTenants.v1}/${t}/hierarchy-settings`,e,{headers:this.extractHeadersFromOptions(n)})}}var tL=new tD("default");class tk extends L.J{constructor(t){super(t),this.getConfigs=async()=>this.get(`${b.j.directory.v1}`),this.updateConfiguration=async(t,e)=>this.patch(`${b.j.directory.v1}/${t}`,e),this.createConfiguration=async t=>this.post(`${b.j.directory.v1}`,t),this.deleteConfiguration=async t=>this.delete(`${b.j.directory.v1}/${t}`),this.countConfigurationUsers=async t=>this.get(`${b.j.directory.temp}/${t}/Users/count`)}}var tR=new tk("default");class tU extends L.J{constructor(t){super(t),this.impersonate=async t=>this.post(`${b.j.identity.impersonate.v1}`,t)}}var tC=new tU("default");let tN=["groupId"];class tM extends L.J{constructor(t){super(t),this.getGroupById=async({groupId:t},e)=>this.get(`${b.j.identity.groups.v1}/${t}`,(0,m.Z)({},e)),this.getGroups=async t=>this.get(`${b.j.identity.groups.v1}`,(0,m.Z)({},t)),this.getGroupsByIds=async(t,e)=>this.post(`${b.j.identity.groups.getByIds.v1}`,t,{params:e}),this.createGroup=async t=>this.post(`${b.j.identity.groups.v1}`,t),this.updateGroup=async t=>{let{groupId:e}=t,n=(0,S.Z)(t,tN);return this.patch(`${b.j.identity.groups.v1}/${e}`,n)},this.deleteGroup=async t=>this.delete(`${b.j.identity.groups.v1}/${t}`),this.addRolesToGroup=async(t,e)=>this.post(`${b.j.identity.groups.v1}/${t}/roles`,e),this.deleteRolesFromGroup=async(t,e)=>this.delete(`${b.j.identity.groups.v1}/${t}/roles`,e),this.addUsersToGroup=async(t,e)=>this.post(`${b.j.identity.groups.v1}/${t}/users`,e),this.deleteUsersFromGroup=async(t,e)=>this.delete(`${b.j.identity.groups.v1}/${t}/users`,e),this.getGroupConfiguration=async()=>this.get(`${b.j.identity.groups.configurations.v1}`),this.updateGroupConfiguration=async t=>this.post(`${b.j.identity.groups.configurations.v1}`,t)}}var tj=new tM("default");class tF extends L.J{constructor(t){super(t),this.getRecommendations=async()=>this.get(b.j.securityCenter.recommendations.v1),this.getInsights=async()=>this.get(b.j.securityCenter.insights.v1)}}var tZ=new tF("default");class t$ extends L.J{constructor(t){super(t),this.getUserPhoneNumbers=async t=>this.get(`${b.j.identity.phoneNumbers.v1}`,t),this.createPhoneNumber=async t=>this.post(`${b.j.identity.phoneNumbers.v1}`,t),this.deletePhoneNumber=async t=>this.delete(`${b.j.identity.phoneNumbers.v1}/${t}`),this.preVerifyPhoneNumber=async t=>this.post(`${b.j.identity.phoneNumbers.v1}/preverify`,t),this.verifyPhoneNumber=async t=>this.post(`${b.j.identity.phoneNumbers.v1}/verify`,t),this.verifyDeletePhoneNumber=async(t,e)=>this.post(`${b.j.identity.phoneNumbers.v1}/${t}/delete/verify`,e)}}var tx=new t$("default");class tG extends L.J{constructor(t){super(t),this.getUserApplicationsId=async({userId:t})=>this.get(`${b.j.identity.applications.v1}/${t}/apps`),this.getUsersApplicationsId=async({userIds:t})=>this.get(`${b.j.identity.applications.v1}/users-apps`,{userIds:t.join(",")}),this.getTenantsApplications=async()=>this.get(b.j.applications.tenant.v1),this.getApplicationsData=async({appIds:t,includeFreeAccess:e=!0})=>this.get(b.j.applications.v1,{ids:t.join(","),_includeFreeAccess:e}),this.assignUserToApplications=async t=>this.post(`${b.j.identity.applications.v1}/apps-user`,t),this.unassignUserFromApplications=async t=>this.delete(`${b.j.identity.applications.v1}/user-apps`,t),this.getUsersOfApplications=async({appIds:t})=>this.get(`${b.j.identity.applications.v1}/apps-users`,{appIds:t.join(",")})}}var tB=new tG("default"),tV=n(4130),tW=n(4890);(u=a||(a={})).FRONTEGG="frontegg",u.SCIM2="scim2",(c=s||(s={})).createdAt="createdAt",c.name="name",c.tenantId="tenantId",(d=r||(r={})).CUSTOMER="customer",d.SPAM="spam",d.TEST="test",d.RESELLER="reseller",d.HEADQUARTER="headquarter";var tH=n(589),tK=n(1863);let tz=[/^(.*)\/logout$/g,"/logout",/^\/identity\/resources\/auth\/v[0-9]*\/user\/[^\/]*\/postlogin$/g,/^\/identity\/resources\/impersonation\/v[0-9]$/g,/^\/identity\/resources\/auth\/v[0-9]*\/passwordless\/[^\/]*\/postlogin$/g,/^\/identity\/resources\/auth\/v[0-9]*\/webauthn\/postlogin$/g,/^\/identity\/resources\/auth\/v[0-9]*\/user$/g,/^\/identity\/resources\/auth\/v[0-9]*\/user\/token\/refresh$/g,/^\/identity\/resources\/users\/v[0-9]*$/g,/^\/identity\/resources\/users\/v[0-9]*\/signUp$/g,/^\/identity\/resources\/users\/v[0-9]*\/activate$/g,/^\/identity\/resources\/users\/v[0-9]*\/invitation\/accept$/g,/^\/identity\/resources\/auth\/v[0-9]*\/user\/mfa\/verify$/g,/^\/identity\/resources\/auth\/v[0-9]*\/user\/mfa\/[^\/]*\/[^\/]*\/verify$/g,/^\/oauth\/token$/g,/^\/oauth\/authorize\/silent$/g],tJ=`${b.j.identity.auth.v1}/user/token/refresh`,tq=`${b.j.oauth.v1}/authorize/silent`,tY=`${b.j.identity.users.v2}/me`,tX=`${b.j.identity.users.v2}/me/tenants`,tQ=`${b.j.identity.users.v3}/me/tenants`,t0=b.j.entitlements.v2;(g=o||(o={})).FRONTEGG="frontegg",g.OKTA="okta",g.AZURE_AD="azure-ad",g.OTHER="other";var t1=n(2866),t2=n(8136),t5=n(3119),t4=n(7906);/** @license Frontegg v3.2.1
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */let t3={auth:x,securityPolicy:M,teams:V,metadata:H,reports:Y,connectivity:te,notifications:ti,audits:tr,tenants:R,accountSettings:tl,roles:th,subscriptions:tO,vendor:tI,subTenants:tL,featureFlags:I.ZP,directory:tR,impersonate:tC,groups:tj,users:G.Z,entitlements:C,securityCenter:tZ,userPhoneNumbers:tx,applications:tB},t6=t=>({auth:new $(t),securityPolicy:new N(t),teams:new B(t),metadata:new W(t),reports:new q(t),connectivity:new tt(t),notifications:new tn(t),audits:new ts(t),tenants:new k(t),accountSettings:new to(t),roles:new tg(t),subscriptions:new tE(t),vendor:new t_(t),subTenants:new tD(t),featureFlags:new I.Wc(t),directory:new tk(t),impersonate:new tU(t),groups:new tM(t),users:new G._(t),entitlements:new U(t),securityCenter:new tF(t),userPhoneNumbers:new t$(t),applications:new tG(t)});var t8={fetch:y.Z,FetchClient:y.H,ContextHolder:v.a,FronteggContext:v.$,api:t3,createApiClient:t6,FronteggApiError:f.r,AuthStrategyEnum:h.lw,MachineToMachineAuthStrategy:h.QZ,SocialLoginProviders:h.CI,ISubscriptionCancellationPolicy:p.XO,ISubscriptionStatus:p.in,PaymentMethodType:p.Lt,ProviderType:p.lP}},4130:function(t,e,n){"use strict";var i,a,s;let r,o,l;n.d(e,{JF:function(){return l},TK:function(){return u},ZE:function(){return o},u1:function(){return r}});let u={frameWork:"x-frontegg-framework",fronteggSdkVersion:"x-frontegg-sdk",contentType:"Content-Type",source:"frontegg-source",scopedTenant:"frontegg-scoped-tenant"};(i=r||(r={})).AdminPortal="admin-portal",i.LoginBox="login-box",(a=o||(o={})).Nextjs="nextjs",a.React="react",a.Angular="angular",a.Vuejs="vuejs",a.Flutter="flutter",a.Ios="ios",a.Android="android",a.Vanillajs="vanillajs",(s=l||(l={})).ASC="ASC",s.DESC="DESC"},589:function(t,e,n){"use strict";var i;let a;n.d(e,{D:function(){return a}}),(i=a||(a={})).NEVER="NEVER",i.ALWAYS="ALWAYS",i.ASSIGNABLE="ASSIGNABLE"},3119:function(t,e,n){"use strict";var i,a,s,r,o;let l,u,c,d,g;n.d(e,{D_:function(){return g},FM:function(){return u},TX:function(){return d},oD:function(){return c},uy:function(){return l}}),(i=l||(l={})).FORCE_MFA="FORCE_MFA",i.BREACHED_PASSWORDS_EXIST="BREACHED_PASSWORDS_EXIST",i.ENABLE_USER_LOCKOUT="ENABLE_USER_LOCKOUT",i.STRENGTHEN_USER_LOCKOUT="STRENGTHEN_USER_LOCKOUT",i.ENABLE_PASSWORD_HISTORY="ENABLE_PASSWORD_HISTORY",i.STRENGTHEN_PASSWORD_HISTORY="STRENGTHEN_PASSWORD_HISTORY",i.ENABLE_FORCE_RELOGIN="ENABLE_FORCE_RELOGIN",i.SET_FORCE_RELOGIN="SET_FORCE_RELOGIN",i.ENABLE_SESSION_CONCURRENCY="ENABLE_SESSION_CONCURRENCY",i.SET_SESSION_CONCURRENCY="SET_SESSION_CONCURRENCY",i.ENABLE_IDLE_SESSION="ENABLE_IDLE_SESSION",i.SET_IDLE_SESSION="SET_IDLE_SESSION",i.ENABLE_IP_RESTRICTIONS="ENABLE_IP_RESTRICTIONS",i.CHANGE_IP_TO_ALLOWLIST="CHANGE_IP_TO_ALLOWLIST",i.ENABLE_DOMAIN_RESTRICTIONS="ENABLE_DOMAIN_RESTRICTIONS",i.CHANGE_DOMAIN_TO_ALLOWLIST="CHANGE_DOMAIN_TO_ALLOWLIST",i.CONFIGURE_SSO="CONFIGURE_SSO",(a=u||(u={})).MFA_FORCED="MFA_FORCED",a.PARTIALLY_FORCED_MFA="PARTIALLY_FORCED_MFA",a.PARTIAL_MFA_USAGE="PARTIAL_MFA_USAGE",a.FULL_MFA_USAGE="FULL_MFA_USAGE",a.BREACHED_PASSWORD_USERS_EXIST="BREACHED_PASSWORD_USERS_EXIST",a.IMPROVE_LOCKOUT_POLICY="IMPROVE_LOCKOUT_POLICY",a.IMPROVE_PASSWORD_HISTORY_POLICY="IMPROVE_PASSWORD_HISTORY_POLICY",a.NO_SESSION_SETTINGS="NO_SESSION_SETTINGS",a.PARTIAL_SESSION_SETTINGS="PARTIAL_SESSION_SETTINGS",a.FULL_SESSION_SETTINGS="FULL_SESSION_SETTINGS",a.NO_IP_RESTRICTIONS="NO_IP_RESTRICTIONS",a.IP_ALLOWLIST="IP_ALLOWLIST",a.IP_DENYLIST="IP_DENYLIST",a.NO_DOMAIN_RESTRICTIONS="NO_DOMAIN_RESTRICTIONS",a.DOMAIN_ALLOWLIST="DOMAIN_ALLOWLIST",a.DOMAIN_DENYLIST="DOMAIN_DENYLIST",a.FULL_PASSWORD_SETTINGS="FULL_PASSWORD_SETTINGS",(s=c||(c={})).SEND_RESET_BREACHED_PASSWORD_EMAIL="SEND_RESET_BREACHED_PASSWORD_EMAIL",s.ADJUST_FORCE_RELOGIN="ADJUST_FORCE_RELOGIN",s.ADJUST_MAX_CONCURRENT_SESSIONS="ADJUST_MAX_CONCURRENT_SESSIONS",s.ADJUST_IDLE_TIMEOUT="ADJUST_IDLE_TIMEOUT",(r=d||(d={})).SEVERE="SEVERE",r.WARNING="WARNING",r.INFO="INFO",(o=g||(g={})).MFA="MFA",o.SESSIONS="SESSIONS",o.PASSWORD="PASSWORD",o.INACTIVITY="INACTIVITY",o.IP="IP",o.DOMAIN="DOMAIN",o.SSO="SSO"},1863:function(t,e,n){"use strict";var i;let a;n.d(e,{V:function(){return a}}),(i=a||(a={})).DEFAULT_OFF="defaultOff",i.DEFAULT_ON="defaultOn",i.ALWAYS_ON="alwaysOn"},3336:function(t,e,n){"use strict";var i,a,s;let r,o,l,u,c,d;n.d(e,{Lt:function(){return o},XO:function(){return l},in:function(){return r},lP:function(){return u}}),(i=r||(r={})).ACTIVE="active",i.CANCELED="canceled",i.INCOMPLETE="incomplete",i.EXPIRED="expired",i.TRIALING="trialing",i.TRIAL_ENDED="trialEnded",(a=o||(o={})).UNKNWON="unknown",a.CARD="card",(l||(l={})).AT_PERIOD_END="atPeriodEnd",(u||(u={})).Stripe="Stripe",(s=c||(c={})).CHANGE_TO_DEFAULT="change_to_default",s.RETAIN_TRIAL="retain_trial",(d||(d={})).CREATE="create_customer"},4648:function(t,e,n){"use strict";n.d(e,{_:function(){return r}});var i=n(7926),a=n(2569),s=n(3348);class r extends s.J{constructor(t){super(t),this.GetUserJwt=async t=>this.post(`${a.j.identity.users.v3}/me/token`,t),this.getUsersV2=async(t,e)=>this.get(a.j.identity.users.v2,t,{headers:this.extractHeadersFromOptions(e)}),this.getUsersV3=async(t,e)=>this.get(a.j.identity.users.v3,t,{headers:this.extractHeadersFromOptions(e)}),this.getUsersRoles=async(t,e)=>this.get(a.j.identity.users.roles.v3,(0,i.Z)({},t,{ids:t.ids.join(",")}),{headers:this.extractHeadersFromOptions(e)}),this.getUsersGroups=async(t,e)=>this.get(a.j.identity.users.groups.v3,(0,i.Z)({},t,{ids:t.ids.join(",")}),{headers:this.extractHeadersFromOptions(e)}),this.getCurrentUserTenantsV3=async t=>this.get(a.j.identity.users.tenants.me.v3,void 0,{headers:this.extractHeadersFromOptions(t)}),this.getCurrentUserTenantsV1=async t=>this.get(a.j.identity.users.tenants.me.v1,void 0,{headers:this.extractHeadersFromOptions(t)}),this.sendResetBreachedPasswordEmails=async()=>this.post(a.j.identity.users.passwords.resetBreachedPasswords.v1),this.updateUserProfileV2=async t=>this.put(`${a.j.identity.users.v2}/me`,t),this.unlockMe=async t=>this.post(`${a.j.identity.users.v3}/me/unlock`,t)}}e.Z=new r("default")},8136:function(t,e,n){"use strict";var i,a;let s,r;n.d(e,{$q:function(){return s},XR:function(){return r},vQ:function(){return o}}),(i=s||(s={})).createdAt="createdAt",i.name="name",i.email="email",i.id="id",i.verified="verified",i.isLocked="isLocked",i.provider="provider",i.tenantId="tenantId",(a=r||(r={})).MFA_UNENROLLED="mfa-unenrolled",a.BREACHED_PASSWORDS="breached-passwords",a.INACTIVE="inactive";let o=["local","saml","google","github","facebook","microsoft","scim2","slack"]},9310:function(t,e,n){"use strict";n.d(e,{S:function(){return v},F:function(){return c}});var i=n(127),a=n.n(i),s=n(7926);function r(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function o(t){let e,n;if(t.type)return t;if("#"===t.charAt(0))return o(function(t){t=t.substr(1);let e=RegExp(`.{1,${t.length>=6?2:1}}`,"g"),n=t.match(e);return n&&1===n[0].length&&(n=n.map(t=>t+t)),n?`rgb${4===n.length?"a":""}(${n.map((t,e)=>e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3).join(", ")})`:""}(t));let i=t.indexOf("("),a=t.substring(0,i);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(a))throw Error("MUI: Unsupported `%s` color.\nThe following formats are supported: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color(). "+t);let s=t.substring(i+1,t.length-1);if("color"===a){if(e=(n=s.split(" ")).shift(),4===n.length&&"/"===n[3].charAt(0)&&(n[3]=n[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(e))throw Error("MUI: unsupported `%s` color space.\nThe following color spaces are supported: srgb, display-p3, a98-rgb, prophoto-rgb, rec-2020."+e)}else n=s.split(",");return{type:a,values:n.map(t=>parseFloat(t)),colorSpace:e}}function l(t){let{type:e,colorSpace:n}=t,{values:i}=t;return -1!==e.indexOf("rgb")?i=i.map((t,e)=>e<3?parseInt(t,10):t):-1!==e.indexOf("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),i=-1!==e.indexOf("color")?`${n} ${i.join(" ")}`:`${i.join(", ")}`,`${e}(${i})`}function u(t){if(0===t.indexOf("#"))return t;let{values:e}=o(t);return`#${e.map((t,e)=>(function(t){let e=t.toString(16);return 1===e.length?`0${e}`:e})(3===e?Math.round(255*t):t)).join("")}`}function c(t,e){return t=o(t),e=r(e),("rgb"===t.type||"hsl"===t.type)&&(t.type+="a"),"color"===t.type?t.values[3]=`/${e}`:t.values[3]=e,l(t)}function d(t,e){if(t=o(t),e=r(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb")||-1!==t.type.indexOf("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return l(t)}function g(t,e){if(t=o(t),e=r(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(-1!==t.type.indexOf("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return l(t)}let h=t=>{if(t)return{main:t,light:u(g(t,.4)),dark:u(d(t,.15)),hover:u(d(t,.15)),active:u(d(t,.2))}},p=t=>{if(t)return{main:t,light:g(t,.7),dark:d(t,.2)}},f=(t,e)=>{var n,i,a,r,o,l,u,c,d,g,f,y;return null!=t&&t.palette&&"string"==typeof(null==t?void 0:null==(n=t.palette)?void 0:n.primary)?(0,s.Z)({},e,{palette:{primary:(0,s.Z)({},h(null==t?void 0:null==(i=t.palette)?void 0:i.primary),{contrastText:null!=(a=null==t?void 0:null==(r=t.palette)?void 0:r.primaryText)?a:"#000000"}),secondary:(0,s.Z)({},h(null==t?void 0:null==(o=t.palette)?void 0:o.secondary),{contrastText:null!=(l=null==t?void 0:null==(u=t.palette)?void 0:u.secondaryText)?l:"#000000"}),danger:(0,s.Z)({},h(null==t?void 0:null==(c=t.palette)?void 0:c.error),{contrastText:"#FFF"}),success:(0,s.Z)({},p(null==t?void 0:null==(d=t.palette)?void 0:d.success),{contrastText:"#FFF"}),error:(0,s.Z)({},p(null==t?void 0:null==(g=t.palette)?void 0:g.error),{contrastText:"#FFF"}),warning:(0,s.Z)({},p(null==t?void 0:null==(f=t.palette)?void 0:f.warning),{contrastText:"#FFF"}),info:(0,s.Z)({},p(null==t?void 0:null==(y=t.palette)?void 0:y.info),{contrastText:"#FFF"})}}):{}},y={theme:{},themeV2:{},localizations:{},navigation:{usage:{visibility:"hidden",permissions:["fe.usage.read"],featureFlag:"fe-usage-page"},webhooks:{visibility:"hidden",permissions:["fe.connectivity.read.webhooks"]},roles:{visibility:"hidden",permissions:["fe.secure.read.roles"]},users:{visibility:"always",permissions:["fe.secure.read.users"],inviteDialog:{phoneNumberField:"optional"}},personalApiTokens:{visibility:"hidden",permissions:["fe.secure.read.userApiTokens"]},apiTokens:{visibility:"hidden",permissions:["fe.secure.read.tenantApiTokens"]},profile:{visibility:"always"},privacy:{visibility:"always"},account:{visibility:"always",permissions:["fe.secure.read.accountSettings"]},security:{visibility:"always",permissions:["fe.secure.read.securityPolicy"]},sso:{visibility:"hidden",permissions:["fe.secure.read.samlConfiguration"]},provisioning:{visibility:"hidden",permissions:["fe.secure.read.provisioningConfiguration"]},audits:{visibility:"always",permissions:["fe.secure.read.audits"]},subscriptions:{visibility:"hidden",permissions:["fe.subscriptions.*"]},allAccounts:{visibility:"byPermissions",permissions:["fe.account-hierarchy.read.subAccount"]},groups:{visibility:"hidden",permissions:["fe.secure.read.groups"]}}};class v{constructor(){this._theme=y.theme,this._themeV2=y.themeV2,this._navigation=y.navigation,this._localizations=y.localizations,this._integrations=y.integrations}static getInstance(t="default"){return this._instances[t]}static set(t,e="default"){let n=new v;return n.set(t),v._instances[e]=n,n}get theme(){var t;return null!=(t=this._theme)?t:{}}get themeV2(){var t;return null!=(t=this._themeV2)?t:{}}get navigation(){var t;return null!=(t=this._navigation)?t:{}}get localizations(){var t;return null!=(t=this._localizations)?t:{}}get integrations(){var t;return null!=(t=this._integrations)?t:{}}set(t){try{var e,n,i,s,r,o,l,u,c;this._navigation=a().all([null!=(e=y.navigation)?e:{},null!=(n=null==t?void 0:t.navigation)?n:{}]),this._theme=a().all([null!=(i=y.theme)?i:{},f(null==t?void 0:t.theme,y.theme)]),this._themeV2=a().all([null!=(s=y.themeV2)?s:{},null!=(r=null==t?void 0:t.themeV2)?r:{}]),this._localizations=a().all([null!=(o=y.localizations)?o:{},null!=(l=null==t?void 0:t.localizations)?l:{}]),this._integrations=a().all([null!=(u=y.integrations)?u:{},null!=(c=null==t?void 0:t.integrations)?c:{}])}catch(t){this._navigation=y.navigation,this._theme=y.theme,this._themeV2=y.themeV2,this._localizations=y.localizations,this._integrations=y.integrations}}}v._instances={}},9260:function(t,e,n){"use strict";let i,a,s,r,o,l,u,c,d,g,h,p,f;n.r(e),n.d(e,{AccountDetailsPageTabs:function(){return f},AccountPageFields:function(){return o},DomainRestrictionsTabFields:function(){return p},GeneralSettingsTabFields:function(){return g},InviteUserModalFields:function(){return r},IpRestrictionsTabFields:function(){return h},Metadata:function(){return _.S},PrivacyPageFields:function(){return s},ProfilePageFields:function(){return a},SecurityPageTabs:function(){return c},SessionManagementTabFields:function(){return d},SignupFields:function(){return i},SubscriptionsPageFields:function(){return u},UsersTableColumns:function(){return l},alpha:function(){return _.F},fieldAppearance:function(){return y},tabAppearance:function(){return v}}),(i||(i={})).phoneNumber="phoneNumber",(S=a||(a={})).Name="name",S.PhoneNumber="phoneNumber",S.Address="address",S.JobTitle="jobTitle",(m=s||(s={})).LoginSessions="loginSessions",m.Mfa="mfa",(b=r||(r={})).Name="name",b.PhoneNumber="phoneNumber",(A=o||(o={})).CompanyName="companyName",A.Address="address",A.Website="website",A.Timezone="timezone",A.Currency="currency",(w=l||(l={})).User="user",w.Applications="applications",w.Groups="groups",w.Roles="roles",w.JoinedAt="joinedAt",w.LastSeen="lastSeen",w.ManagedBy="managedBy",(u||(u={})).Invoices="invoices",(T=c||(c={})).SessionManagement="sessionManagement",T.GeneralSettings="generalSettings",T.IpRestrictions="ipRestrictions",T.DomainRestrictions="domainRestrictions",(P=d||(d={})).IdleSessionTimeout="idleSessionTimeout",P.ForceReLogin="forceReLogin",P.MaximumConcurrentSessions="maximumConcurrentSessions",(E=g||(g={})).Mfa="mfa",E.UserLockout="userLockout",E.PasswordHistory="passwordHistory",(h||(h={})).IpAddressRestrictions="ipAddressRestrictions",(p||(p={})).RestrictSignupByEmailDomain="restrictSignupByEmailDomain",(O=f||(f={})).Settings="settings",O.CustomLogin="customLogin";let y={hidden:"hidden",viewOnly:"viewOnly",edit:"edit"},v={hidden:"hidden",edit:"edit"};var S,m,b,A,w,T,P,E,O,_=n(9310);/** @license Frontegg v7.13.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */},127:function(t){"use strict";var e=function(t){var e;return!!t&&"object"==typeof t&&"[object RegExp]"!==(e=Object.prototype.toString.call(t))&&"[object Date]"!==e&&t.$$typeof!==n},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(t,e){return!1!==e.clone&&e.isMergeableObject(t)?o(Array.isArray(t)?[]:{},t,e):t}function a(t,e,n){return t.concat(e).map(function(t){return i(t,n)})}function s(t){return Object.keys(t).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[])}function r(t,e){try{return e in t}catch(t){return!1}}function o(t,n,l){(l=l||{}).arrayMerge=l.arrayMerge||a,l.isMergeableObject=l.isMergeableObject||e,l.cloneUnlessOtherwiseSpecified=i;var u,c,d=Array.isArray(n);return d!==Array.isArray(t)?i(n,l):d?l.arrayMerge(t,n,l):(c={},(u=l).isMergeableObject(t)&&s(t).forEach(function(e){c[e]=i(t[e],u)}),s(n).forEach(function(e){(!r(t,e)||Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))&&(r(t,e)&&u.isMergeableObject(n[e])?c[e]=(function(t,e){if(!e.customMerge)return o;var n=e.customMerge(t);return"function"==typeof n?n:o})(e,u)(t[e],n[e],u):c[e]=i(n[e],u))}),c)}o.all=function(t,e){if(!Array.isArray(t))throw Error("first argument should be an array");return t.reduce(function(t,n){return o(t,n,e)},{})},t.exports=o},4788:function(t){"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;if(Array.isArray(e)){if((i=e.length)!=n.length)return!1;for(a=i;0!=a--;)if(!t(e[a],n[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((i=(s=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(a=i;0!=a--;)if(!Object.prototype.hasOwnProperty.call(n,s[a]))return!1;for(a=i;0!=a--;){var i,a,s,r=s[a];if(!t(e[r],n[r]))return!1}return!0}return e!=e&&n!=n}},3130:function(t,e,n){/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */let i=n(1845);function a(t,e,n){return"function"==typeof n.join?n.join(t):t[0]+e+t[1]}function s(t,e,n){return"function"!=typeof n.isValid||n.isValid(t,e)}function r(t){return i(t)||Array.isArray(t)||"function"==typeof t}t.exports=function(t,e,n){var o,l;if(i(n)||(n={default:n}),!r(t))return void 0!==n.default?n.default:t;"number"==typeof e&&(e=String(e));let u=Array.isArray(e),c="string"==typeof e,d=n.separator||".",g=n.joinChar||("string"==typeof d?d:".");if(!c&&!u)return t;if(c&&e in t)return s(e,t,n)?t[e]:n.default;let h=u?e:(o=e,"function"==typeof(l=n).split?l.split(o):o.split(d)),p=h.length,f=0;do{let e=h[f];for("number"==typeof e&&(e=String(e));e&&"\\"===e.slice(-1);)e=a([e.slice(0,-1),h[++f]||""],g,n);if(e in t){if(!s(e,t,n))return n.default;t=t[e]}else{let i=!1,r=f+1;for(;r<p;)if(i=(e=a([e,h[r++]],g,n))in t){if(!s(e,t,n))return n.default;t=t[e],f=r-1;break}if(!i)return n.default}}while(++f<p&&r(t));return f===p?t:n.default}},3653:function(t,e,n){"use strict";/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var i=n(1845);function a(t){return!0===i(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,n;return!1!==a(t)&&"function"==typeof(e=t.constructor)&&!1!==a(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")}},3562:function(t){"use strict";/*!
 * is-primitive <https://github.com/jonschlinkert/is-primitive>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */t.exports=function(t){return"object"==typeof t?null===t:"function"!=typeof t}},1845:function(t){"use strict";/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},6091:function(t,e,n){"use strict";/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) Jon Schlinkert (https://github.com/jonschlinkert).
 * Released under the MIT License.
 */let{deleteProperty:i}=Reflect,a=n(3562),s=n(3653),r=t=>"object"==typeof t&&null!==t||"function"==typeof t,o=t=>"__proto__"===t||"constructor"===t||"prototype"===t,l=t=>{if(!a(t))throw TypeError("Object keys must be strings or symbols");if(o(t))throw Error(`Cannot set unsafe key: "${t}"`)},u=t=>Array.isArray(t)?t.flat().map(String).join(","):t,c=(t,e)=>{if("string"!=typeof t||!e)return t;let n=t+";";return void 0!==e.arrays&&(n+=`arrays=${e.arrays};`),void 0!==e.separator&&(n+=`separator=${e.separator};`),void 0!==e.split&&(n+=`split=${e.split};`),void 0!==e.merge&&(n+=`merge=${e.merge};`),void 0!==e.preservePaths&&(n+=`preservePaths=${e.preservePaths};`),n},d=(t,e,n)=>{let i=u(e?c(t,e):t);l(i);let a=f.cache.get(i)||n();return f.cache.set(i,a),a},g=(t,e={})=>{let n=e.separator||".",i="/"!==n&&e.preservePaths;if("string"==typeof t&&!1!==i&&/\//.test(t))return[t];let a=[],s="",r=t=>{let e;""!==t.trim()&&Number.isInteger(e=Number(t))?a.push(e):a.push(t)};for(let e=0;e<t.length;e++){let i=t[e];if("\\"===i){s+=t[++e];continue}if(i===n){r(s),s="";continue}s+=i}return s&&r(s),a},h=(t,e)=>e&&"function"==typeof e.split?e.split(t):"symbol"==typeof t?[t]:Array.isArray(t)?t:d(t,e,()=>g(t,e)),p=(t,e,n,a)=>{if(l(e),void 0===n)i(t,e);else if(a&&a.merge){let i="function"===a.merge?a.merge:Object.assign;i&&s(t[e])&&s(n)?t[e]=i(t[e],n):t[e]=n}else t[e]=n;return t},f=(t,e,n,i)=>{if(!e||!r(t))return t;let a=h(e,i),s=t;for(let t=0;t<a.length;t++){let e=a[t],o=a[t+1];if(l(e),void 0===o){p(s,e,n,i);break}if("number"==typeof o&&!Array.isArray(s[e])){s=s[e]=[];continue}r(s[e])||(s[e]={}),s=s[e]}return t};f.split=h,f.cache=new Map,f.clear=()=>{f.cache=new Map},t.exports=f},5954:function(t,e,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(7653),a="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},s=i.useState,r=i.useEffect,o=i.useLayoutEffect,l=i.useDebugValue;function u(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!a(t,n)}catch(t){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),i=s({inst:{value:n,getSnapshot:e}}),a=i[0].inst,c=i[1];return o(function(){a.value=n,a.getSnapshot=e,u(a)&&c({inst:a})},[t,n,e]),r(function(){return u(a)&&c({inst:a}),t(function(){u(a)&&c({inst:a})})},[t]),l(n),n};e.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},2666:function(t,e,n){"use strict";t.exports=n(5954)},8480:function(t,e,n){var i=n(2481).default;function a(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=a=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var e,n={},s=Object.prototype,r=s.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function g(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{g({},"")}catch(t){g=function(t,e,n){return t[e]=n}}function h(t,n,i,a){var s,r,l=Object.create((n&&n.prototype instanceof m?n:m).prototype);return o(l,"_invoke",{value:(s=new L(a||[]),r=f,function(n,a){if(r===y)throw Error("Generator is already running");if(r===v){if("throw"===n)throw a;return{value:e,done:!0}}for(s.method=n,s.arg=a;;){var o=s.delegate;if(o){var l=function t(n,i){var a=i.method,s=n.iterator[a];if(s===e)return i.delegate=null,"throw"===a&&n.iterator.return&&(i.method="return",i.arg=e,t(n,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=TypeError("The iterator does not provide a '"+a+"' method")),S;var r=p(s,n.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,S;var o=r.arg;return o?o.done?(i[n.resultName]=o.value,i.next=n.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,S):o:(i.method="throw",i.arg=TypeError("iterator result is not an object"),i.delegate=null,S)}(o,s);if(l){if(l===S)continue;return l}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(r===f)throw r=v,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);r=y;var u=p(t,i,s);if("normal"===u.type){if(r=s.done?v:"suspendedYield",u.arg===S)continue;return{value:u.arg,done:s.done}}"throw"===u.type&&(r=v,s.method="throw",s.arg=u.arg)}})}),l}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}n.wrap=h;var f="suspendedStart",y="executing",v="completed",S={};function m(){}function b(){}function A(){}var w={};g(w,u,function(){return this});var T=Object.getPrototypeOf,P=T&&T(T(k([])));P&&P!==s&&r.call(P,u)&&(w=P);var E=A.prototype=m.prototype=Object.create(w);function O(t){["next","throw","return"].forEach(function(e){g(t,e,function(t){return this._invoke(e,t)})})}function _(t,e){var n;o(this,"_invoke",{value:function(a,s){function o(){return new e(function(n,o){!function n(a,s,o,l){var u=p(t[a],t,s);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==i(d)&&r.call(d,"__await")?e.resolve(d.__await).then(function(t){n("next",t,o,l)},function(t){n("throw",t,o,l)}):e.resolve(d).then(function(t){c.value=t,o(c)},function(t){return n("throw",t,o,l)})}l(u.arg)}(a,s,n,o)})}return n=n?n.then(o,o):o()}})}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function k(t){if(t||""===t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,s=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}throw TypeError(i(t)+" is not iterable")}return b.prototype=A,o(E,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:b,configurable:!0}),b.displayName=g(A,d,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,g(t,d,"GeneratorFunction")),t.prototype=Object.create(E),t},n.awrap=function(t){return{__await:t}},O(_.prototype),g(_.prototype,c,function(){return this}),n.AsyncIterator=_,n.async=function(t,e,i,a,s){void 0===s&&(s=Promise);var r=new _(h(t,e,i,a),s);return n.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},O(E),g(E,d,"Generator"),g(E,u,function(){return this}),g(E,"toString",function(){return"[object Generator]"}),n.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},n.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(i,a){return o.type="throw",o.arg=t,n.next=i,a&&(n.method="next",n.arg=e),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=e,a?(this.method="next",this.next=a.finallyLoc,S):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),S},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),S}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var a=i.arg;D(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:k(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),S}},n}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},2481:function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},2118:function(t,e,n){var i=n(8480)();t.exports=i;try{regeneratorRuntime=i}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},2614:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return i}})},1324:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var i=n(4551);function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=(0,i.Z)(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,e||"default");if("object"!=(0,i.Z)(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==(0,i.Z)(e)?e:e+""}(a.key),a)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}},7926:function(t,e,n){"use strict";function i(){return(i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(null,arguments)}n.d(e,{Z:function(){return i}})},9468:function(t,e,n){"use strict";function i(t,e){if(null==t)return{};var n={};for(var i in t)if(({}).hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}n.d(e,{Z:function(){return i}})},4551:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,{Z:function(){return i}})},8047:function(t,e,n){"use strict";n.d(e,{DM:function(){return p},jc:function(){return S},ln:function(){return y},o5:function(){return v}});let i=Symbol(),a=Symbol(),s=(t,e)=>new Proxy(t,e),r=Object.getPrototypeOf,o=new WeakMap,l=t=>t&&(o.has(t)?o.get(t):r(t)===Object.prototype||r(t)===Array.prototype),u=t=>"object"==typeof t&&null!==t,c=t=>Object.values(Object.getOwnPropertyDescriptors(t)).some(t=>!t.configurable&&!t.writable),d=t=>{if(Array.isArray(t))return Array.from(t);let e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(t=>{t.configurable=!0}),Object.create(r(t),e)},g=(t,e)=>{let n={f:e},s=!1,r=(e,i)=>{if(!s){let a=n.a.get(t);if(a||(a={},n.a.set(t,a)),"w"===e)a.w=!0;else{let t=a[e];t||(t=new Set,a[e]=t),t.add(i)}}},o=()=>{s=!0,n.a.delete(t)},l={get:(e,i)=>i===a?t:(r("k",i),p(Reflect.get(e,i),n.a,n.c,n.t)),has:(t,e)=>e===i?(o(),!0):(r("h",e),Reflect.has(t,e)),getOwnPropertyDescriptor:(t,e)=>(r("o",e),Reflect.getOwnPropertyDescriptor(t,e)),ownKeys:t=>(r("w"),Reflect.ownKeys(t))};return e&&(l.set=l.deleteProperty=()=>!1),[l,n]},h=t=>t[a]||t,p=(t,e,n,i)=>{if(!l(t))return t;let a=i&&i.get(t);if(!a){let e=h(t);a=c(e)?[e,d(e)]:[e],null==i||i.set(t,a)}let[r,o]=a,u=n&&n.get(r);return(!u||!!o!==u[1].f)&&((u=g(r,!!o))[1].p=s(o||r,u[0]),n&&n.set(r,u)),u[1].a=e,u[1].c=n,u[1].t=i,u[1].p},f=(t,e)=>{let n=Reflect.ownKeys(t),i=Reflect.ownKeys(e);return n.length!==i.length||n.some((t,e)=>t!==i[e])},y=(t,e,n,i,a=Object.is)=>{if(a(t,e))return!1;if(!u(t)||!u(e))return!0;let s=n.get(h(t));if(!s)return!0;if(i){let n=i.get(t);if(n&&n.n===e)return n.g;i.set(t,{n:e,g:!1})}let r=null;try{for(let n of s.h||[])if(r=Reflect.has(t,n)!==Reflect.has(e,n))return r;if(!0===s.w){if(r=f(t,e))return r}else for(let n of s.o||[]){let i=!!Reflect.getOwnPropertyDescriptor(t,n),a=!!Reflect.getOwnPropertyDescriptor(e,n);if(r=i!==a)return r}for(let o of s.k||[])if(r=y(t[o],e[o],n,i,a))return r;return null===r&&(r=!0),r}finally{i&&i.set(t,{n:e,g:r})}},v=t=>l(t)&&t[a]||null,S=(t,e=!0)=>{o.set(t,e)}}}]);